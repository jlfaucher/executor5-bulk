Executor5-bulk is a full Git clone of ooRexx5.
Executor5 is a partial Git clone of ooRexx5.
Executor is a partial Git clone of ooRexx4.2.

2014 was the year of a very drastic overhaul of ooRexx for Git Merge:
files were renamed, moved, classes and methods were renamed, moved,
and a multitude of cosmetic changes were made.
ooRexx5 was borned.

Executor5 was created because it was not possible to merge the changes made to
ooRexx5 into the Executor Github repository.

Twelve years later, Executor5-bulk was created to test the feasibility and
usability of a complete Git clone of ooRexx's SVN repository. The directory
organization is identical to that of SVN: branches and releases are
subdirectories, not Git branches or Git tags. This should facilitate support for
future SVN branches.

Executor5 and Executor5-bulk are not synchronized.
Some changes made to Executor5, such as low-level MT trace at the semaphore/
mutex level, will not be applied to Executor5-bulk. And vice-versa.


===============================================================================
2026 feb 21

[Windows]

For users (like me) who prefer not to enable the UTF-8 beta option:
Added codepage and translateflags parameters to RxMessageBox.

Motivated by:
https://sourceforge.net/p/oorexx/discussion/408478/thread/ec4123a46d/
2025 Mar 22 [oorexx:discussions] Output text in Russian in RxMessageBox()

RxMessageBox(text [, title] [, button] [,icon] [, option]    [, codepage [, translateflags]])
                                                 *updated*       *new*          *new*

new CUSTOM option.
new HELP option.
codepage = The text and title code page.
translateflags = flags for SysToUnicode.

- If codePage is omitted or is an empty string, the text and title (which should
  be ANSI strings) are converted from ACP to Unicode by the system.

- If codePage is "UNICODE", the text and title (which should be UTF-16 strings)
  are displayed as-is.

- For any other value of codepage, the text and title (which should be strings
  encoded in codepage) are converted from codepage to Unicode using the Rexx
  utility SysToUnicode.

- The standard MessageBoxW is used by default to display Unicode strings.
  If the CUSTOM option is specified then a custom MessageBoxW is used.
  The custom MessageBoxW displays emojis in colors using the "Segoe UI Emoji"
  font that carries the full-color COLR/CPAL emoji glyphs on Windows 10+.
  The emojis in the caption are still displayed in black and white.

- If the HELP option is specified then a Help button is added to the message
  box. This is applicable to any button style, so more general than the HELP
  button style.

- The HELP button style is not documented, but is supported.
  The message box contains two push buttons: OK and Help.

The behavior of the custom MessageBoxW is different from the standard
MessageBoxW regarding the effect of the Help button:

- Standard MessageBoxW: When the user clicks the Help button or presses F1, the
  system sends a WM_HELP message to the owner window. The message box is not
  closed. Since RxMessageBox creates a message box with no owner window, the
  WM_HELP message is not sent.

- Custom MessageBoxW: When the user clicks the Help button, the message box is
  closed and the value 9 is returned. The F1 key has no effect.

When displaying long multi-line text with many emojis using the CUSTOM option,
there is a noticeable lag between the dialog box display and the text display.
AI can't do better. It's definitely not me who can make this better.


It remains to support:

    Modality:
        MB_APPLMODAL (default, already supported)
        MB_SYSTEMMODAL
        MB_TASKMODAL

    Other options:
        MB_SETFOREGROUND
        MB_DEFAULT_DESKTOP_ONLY
        MB_TOPMOST
        MB_RIGHT
        MB_RTLREADING
        MB_SERVICE_NOTIFICATION


Validation:
scripts/unicode/rxmessagebox.rex

Careful!
The following tests performed from the CLI will not display Unicode strings
correctly:
rexx -e "say RxMessageBox('PÃ¨re NoÃ«l ðŸŽ…', /*title*/, /*button*/, /*icon*/, /*options*/, 65001)"
rexx -e "chcp; text = 'PÃ¨re NoÃ«l ðŸŽ…'; say text; say text~c2x; say RxMessageBox(text, text, /*button*/, /*icon*/, /*options*/, 65001)"

This is not a limitation or bug of the extended RxMessageBox.
Under Windows, character strings passed to rexx.exe from the CLI are encoded in
the ACP code page (or the OEM code page, not sure which one is used...),
regardless of the console code page (chcp).
Examples, when OEM = 437 and ACP = 1252:
    chcp 437 &   rexx -e "s = 'PÃ¨re NoÃ«l ðŸŽ…'; say s s~c2x"      -- PÎ¦re NoÎ´l ?? 50E87265204E6FEB6C203F3F
    chcp 850 &   rexx -e "s = 'PÃ¨re NoÃ«l ðŸŽ…'; say s s~c2x"      -- PÃžre NoÃ™l ?? 50E87265204E6FEB6C203F3F
    chcp 1252 &  rexx -e "s = 'PÃ¨re NoÃ«l ðŸŽ…'; say s s~c2x"      -- PÃ¨re NoÃ«l ?? 50E87265204E6FEB6C203F3F
    chcp 65001 & rexx -e "s = 'PÃ¨re NoÃ«l ðŸŽ…'; say s s~c2x"      -- Pï¿½re Noï¿½l ?? 50E87265204E6FEB6C203F3F
    chcp 65001 & rexx -e "s = 'PÃˆRE NOÃ‹L ðŸŽ…'; say s s~c2x"      -- Pï¿½RE NOï¿½L ?? 50C85245204E4FCB4C203F3F


===============================================================================
2026 feb 19

[Unicode]

Implement RFE #864 Add Unicode (UTF-8) support to syntax error 13.1
https://sourceforge.net/p/oorexx/feature-requests/864/
When the invalid byte is the begining of an UTF_8 bytes sequence then
    display the UTF-8 character.
    display the bytes sequence (1 to 4 hexadecimal digits).
Otherwise the default behavior is applied:
    display the invalid byte as a character.
    display its two hexadecimal digits.

Validation:
scripts/unicode/incorrect_character.rex

Output:
    1: say a {= 1
         5 *-* say a {
         5 *-* interpret s      -- Error 13.1:  Incorrect character in program "{" ('7B'X).
    Incorrect character in program "{" ('7B'X).
    Error code= 13.1

    2: say a Â¬= 1
         6 *-* say a Â¬
         6 *-* interpret s      -- Error 13.1:  Incorrect character in program "Â¬" ('C2AC'X).
    Incorrect character in program "Â¬" ('C2AC'X).
    Error code= 13.1

    3: say a â‚¬= 1
         7 *-* say a â‚¬
         7 *-* interpret s      -- Error 13.1:  Incorrect character in program "â‚¬" ('E282AC'X).
    Incorrect character in program "â‚¬" ('E282AC'X).
    Error code= 13.1

    4: say a ðŸ¦–= 1
         8 *-* say a ðŸ¦–
         8 *-* interpret s     -- Error 13.1:  Incorrect character in program "ðŸ¦–" ('F09FA696'X).
    Incorrect character in program "ðŸ¦–" ('F09FA696'X).
    Error code= 13.1

    5: "say a " || "C0"x || "= 1"
        13 *-* say a ?
        13 *-* interpret s    -- Error 13.1:  Incorrect character in program "?" ('C0'X).
    Incorrect character in program "?" ('C0'X).
    Error code= 13.1

    6: "say a " || "80"x || "= 1"
        16 *-* say a ?
        16 *-* interpret s    -- Error 13.1:  Incorrect character in program "?" ('80'X).
    Incorrect character in program "?" ('80'X).
    Error code= 13.1


===============================================================================
2026 feb 18

[Unicode]

Add utf8proc version 2.11.3 with Unicode 17 support.
License http://opensource.org/licenses/MIT


===============================================================================
2026 feb 15

Creation of the Github repository Executor5-bulk.

Inspired by
https://stackoverflow.com/questions/60009188/cloning-a-large-svn-repository-from-sourceforge-with-git-svn-clone

The key point is that the Git clone is created from a local backup of the SVN
repository. It's fast, no time-out.
No attempt is made to create Git branches from SVN releases and branches.
Instead, the SVN folder organization is reproduced as-is in the Git repo.
Anyway, it would not be possible to create Git branches because there are
several roots (docs, main, ooDialog, rexxgtk, test, websites).
No attempt to map SVN usernames to Git names and emails
(e.g., john = John Doe <john@example.com>), but that could be easily done.


The procedure:

# https://sourceforge.net/p/forge/documentation/svn/#h-backups
$ cd /local/rexx/oorexx
$ rsync -av svn.code.sf.net::p/oorexx/code-0 oorexx.svn
# around 10 min.
# size = 538â€¯667â€¯304 bytes (635,3 MB on disk) for 26â€¯512 items


$ git svn clone file://`pwd`/oorexx.svn oorexx.git > git_svn_clone.log 2>&1
# around 40 min
# 2,4 GB on disk for 75â€¯217 items
# 1,98 GB on disk for 75â€¯212 items

$ cd /local/rexx/oorexx/oorexx.git
$ git svn info
    Path: .
    URL: file:///local/rexx/oorexx/oorexx.svn
    Repository Root: file:///local/rexx/oorexx/oorexx.svn
    Repository UUID: 0b6cbdbe-3aab-466e-b73a-abd511dda0a2
    Revision: 13100
    Node Kind: directory
    Schedule: normal
    Last Changed Author: perolovjonsson
    Last Changed Rev: 13100
    Last Changed Date: 2026-02-08 22:53:25 +0100 (Sun, 08 Feb 2026)


# https://git-scm.com/docs/git-svn#Documentation/git-svn.txt-svn-remoteltnamegtrewriteRoot

# the order is important!
$ git config --local svn-remote.svn.rewriteRoot `git config --local --get svn-remote.svn.url`
$ git config --local svn-remote.svn.url https://svn.code.sf.net/p/oorexx/code-0

$ git svn info
    Path: .
    URL: file:///local/rexx/oorexx/oorexx.svn
    Repository Root: https://svn.code.sf.net/p/oorexx/code-0
    Repository UUID: 0b6cbdbe-3aab-466e-b73a-abd511dda0a2
    Revision: 13100
    Node Kind: directory
    Schedule: normal
    Last Changed Author: perolovjonsson
    Last Changed Rev: 13100
    Last Changed Date: 2026-02-08 22:53:25 +0100 (Sun, 08 Feb 2026)
# It's normal to still see the local URL.
# It must be kept because the history depends on it.
# The new commits will be taken from the Repository Root.
# The repository's UUID is identical to that of SourceForge.


# Now preparing to push the local clone to github.
# First, rename oorexx.git to executor5-bulk
$ cd /local/rexx/oorexx
$ mv oorexx.git executor5-bulk

# Create the github repository executor5-bulk
<not described>

# Push the local clone to github.
$ git remote add origin git@github.com:jlfaucher/executor5-bulk.git
$ git status
    On branch master
    nothing to commit (use -u to show untracked files)
$ git branch -M main
$ git status
    On branch main
    nothing to commit (use -u to show untracked files)
$ git push -u origin main


# Fetch and rebase latest SVN changes
git svn rebase


# For those who do not wish to clone the entire git repository, it will be
# possible to obtain a subset of it.
git clone --filter=blob:none --no-checkout https://github.com/jlfaucher/executor5-bulk.git executor5-bulk.subset
# 340 MB
cd executor5-bulk.subset
git sparse-checkout init --cone
git sparse-checkout set main/trunk
git sparse-checkout add incubator/regex
git sparse-checkout add docs/trunk
git sparse-checkout add test/trunk
git checkout
# 438 MB instead of 1.98 GB


===============================================================================
History of merges.

rev 13100

Remember, to merge the last changes from SVN:
cd /local/rexx/oorexx/executor5-bulk
git svn rebase
