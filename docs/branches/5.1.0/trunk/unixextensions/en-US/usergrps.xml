<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "unixextensions.ent">
%BOOK_ENTITIES;
]>
<!--#########################################################################
    #
    # Description: Open Object Rexx: Unix Extensions XML file.
    #
    # Copyright (c) 2005-2025, Rexx Language Association. All rights reserved.
    # Portions Copyright (c) 2004, IBM Corporation. All rights reserved.
    #
    # This program and the accompanying materials are made available under
    # the terms of the Common Public License v1.0 which accompanies this
    # distribution. A copy is also available at the following address:
    # http://www.oorexx.org/license.html
    #
    # Redistribution and use in source and binary forms, with or
    # without modification, are permitted provided that the following
    # conditions are met:
    #
    # Redistributions of source code must retain the above copyright
    # notice, this list of conditions and the following disclaimer.
    # Redistributions in binary form must reproduce the above copyright
    # notice, this list of conditions and the following disclaimer in
    # the documentation and/or other materials provided with the distribution.
    #
    # Neither the name of Rexx Language Association nor the names
    # of its contributors may be used to endorse or promote products
    # derived from this software without specific prior written permission.
    #
    # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
    # "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
    # LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
    # FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
    # OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
    # SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
    # TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
    # OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
    # OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    # NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
    # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
    #
    #########################################################################
-->
<chapter id="usergrps"><title id="usergrps.title">User and Group Functions</title>

<para>This chapter covers the available user and group functions.</para>

<section id="utlSysGetegid"><title>SysGetegid</title>
<indexterm><primary>SysGetegid</primary></indexterm>

<mediaobject>
<imageobject>
<imagedata fileref="images/funcs/usergrps_sysgetegid.svg" scale="50" />
</imageobject>
</mediaobject>

<para>Gets the current numerical effective group id.</para>
<para>This function uses the <filename>getegid()</filename>
C API to perform the action.</para>
<para><emphasis role="bold">Parameter:</emphasis></para>
<para>None</para>
<para><emphasis role="bold">Returns</emphasis></para>
<para>Returns the current numerical effective group id.</para>
<example id ="ex.sysGetegid">
<title>SysGetegid</title>
<programlisting>
<![CDATA[
/* get the current effective group id */

myegid = SysGetegid()
]]>
</programlisting>
</example>
</section>


<section id="utlSysGeteuid"><title>SysGeteuid</title>
<indexterm><primary>SysGeteuid</primary></indexterm>

<mediaobject>
<imageobject>
<imagedata fileref="images/funcs/usergrps_sysgeteuid.svg" scale="50" />
</imageobject>
</mediaobject>

<para>Gets the current numerical effective user id.</para>
<para>This function uses the <filename>geteuid()</filename>
C API to perform the action.</para>
<para><emphasis role="bold">Parameter:</emphasis></para>
<para>None</para>
<para><emphasis role="bold">Returns</emphasis></para>
<para>Returns the current numerical effective user id.</para>
<example id ="ex.sysGeteuid">
<title>SysGeteuid</title>
<programlisting>
<![CDATA[
/* get the current effective user id */

myeuid = SysGeteuid()
]]>
</programlisting>
</example>
</section>


<section id="utlSysGetgid"><title>SysGetgid</title>
<indexterm><primary>SysGetgid</primary></indexterm>

<mediaobject>
<imageobject>
<imagedata fileref="images/funcs/usergrps_sysgetgid.svg" scale="50" />
</imageobject>
</mediaobject>

<para>Gets the current numerical group id.</para>
<para>This function uses the <filename>getgid()</filename>
C API to perform the action.</para>
<para><emphasis role="bold">Parameter:</emphasis></para>
<para>None</para>
<para><emphasis role="bold">Returns</emphasis></para>
<para>Returns the current numerical group id.</para>
<example id ="ex.sysGetgid">
<title>SysGetgid</title>
<programlisting>
<![CDATA[
/* get the current group id */

mygid = SysGetgid()
]]>
</programlisting>
</example>
</section>


<section id="utlSysGetgrgid"><title>SysGetgrgid</title>
<indexterm><primary>SysGetgrgid</primary></indexterm>

<mediaobject>
<imageobject>
<imagedata fileref="images/funcs/usergrps_sysgetgrgid.svg" scale="50" />
</imageobject>
</mediaobject>

<para>This function uses the <filename>getgrgid()</filename>
C API to perform the action.</para>
<para><emphasis role="bold">Parameter:</emphasis></para>
<variablelist>
<varlistentry><term><emphasis role="italic">gid</emphasis></term>
<listitem><para>The numerical group id.
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="italic">option</emphasis></term>
<listitem><para>An option specifying the information to return.
The values are all case insensitive and only the first letter of the option value is checked.
Allowed values are:
<variablelist>
<varlistentry><term>"NAME"</term>
<listitem><para>The group name.
</para></listitem></varlistentry>
<varlistentry><term>"GROUP"</term>
<listitem><para>The numerical group id.
</para></listitem></varlistentry>
<varlistentry><term>"MEMBERS"</term>
<listitem><para>The members of the group are returned in an array.
</para></listitem></varlistentry>
<varlistentry><term>"PASSWORD"</term>
<listitem><para>Always returns a zero-length string.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
</variablelist>
<para><emphasis role="bold">Returns</emphasis></para>
<para>Returns information about a group.</para>
<para>Returns information specified by the <emphasis>option</emphasis>.</para>
<example id ="ex.sysGetgrgid">
<title>SysGetgrgid</title>
<programlisting>
<![CDATA[
/* the following examples came from a Linux laptop running Fedora */

SysGetgrgid(100, "n")      -->  users
SysGetgrgid(100, "g")      -->  100
SysGetgrgid(100, "m")      -->  an ooRexx array with the member user names
SysGetgrgid(100, "p")      -->  ""
]]>
</programlisting>
</example>
</section>


<section id="utlSysGetgrnam"><title>SysGetgrnam</title>
<indexterm><primary>SysGetgrnam</primary></indexterm>

<mediaobject>
<imageobject>
<imagedata fileref="images/funcs/usergrps_sysgetgrnam.svg" scale="50" />
</imageobject>
</mediaobject>

<para>Returns information about a group.</para>
<para>This function uses the <filename>getgrnam()</filename>
C API to perform the action.</para>
<para><emphasis role="bold">Parameter:</emphasis></para>
<variablelist>
<varlistentry><term><emphasis role="italic">grpname</emphasis></term>
<listitem><para>The group name.
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="italic">option</emphasis></term>
<listitem><para>An option specifying the information to return.
The values are all case insensitive and only the first letter of the option value is checked.
Allowed values are:
<variablelist>
<varlistentry><term>"NAME"</term>
<listitem><para>The group name.
</para></listitem></varlistentry>
<varlistentry><term>"GROUP"</term>
<listitem><para>The numerical group id.
</para></listitem></varlistentry>
<varlistentry><term>"MEMBERS"</term>
<listitem><para>The members of the group are returned in an array.
</para></listitem></varlistentry>
<varlistentry><term>"PASSWORD"</term>
<listitem><para>Always returns a zero-length string.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
</variablelist>
<para><emphasis role="bold">Returns</emphasis></para>
<para>Returns information specified by the <emphasis>option</emphasis>.</para>
<example id ="ex.sysGetgrnam">
<title>SysGetgrnam</title>
<programlisting>
<![CDATA[
/* the following examples came from a Linux laptop running Fedora */

SysGetgrnam("users", "n")      -->  users
SysGetgrnam("users", "g")      -->  100
SysGetgrnam("users", "m")      -->  an ooRexx array with the member user names
SysGetgrnam("users", "p")      -->  ""
]]>
</programlisting>
</example>
</section>


<section id="utlSysGetpgrp"><title>SysGetpgrp</title>
<indexterm><primary>SysGetpgrp</primary></indexterm>

<mediaobject>
<imageobject>
<imagedata fileref="images/funcs/usergrps_sysgetpgrp.svg" scale="50" />
</imageobject>
</mediaobject>

<para>Gets the current numerical process group id.</para>
<para>This function uses the <filename>getpgrp()</filename>
C API to perform the action.</para>
<para><emphasis role="bold">Parameter:</emphasis></para>
<para>None</para>
<para><emphasis role="bold">Returns</emphasis></para>
<para>Returns the current numerical process group id.</para>
<example id ="ex.sysGetpgrp">
<title>SysGetpgrp</title>
<programlisting>
<![CDATA[
/* get the current process group id */

mypgrp = SysGetpgrp()
]]>
</programlisting>
</example>
</section>


<section id="utlSysGetpwnam"><title>SysGetpwnam</title>
<indexterm><primary>SysGetpwnam</primary></indexterm>

<mediaobject>
<imageobject>
<imagedata fileref="images/funcs/usergrps_sysgetpwnam.svg" scale="50" />
</imageobject>
</mediaobject>

<para>Returns information about a user.</para>
<para>This function uses the <filename>getpwnam()</filename>
C API to perform the action.</para>
<para><emphasis role="bold">Parameter:</emphasis></para>
<variablelist>
<varlistentry><term><emphasis role="italic">username</emphasis></term>
<listitem><para>The user name.
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="italic">option</emphasis></term>
<listitem><para>An option specifying the information to return.
The values are all case insensitive and only the first letter of the option value is checked.
Allowed values are:
<variablelist>
<varlistentry><term>"NAME"</term>
<listitem><para>The user name.
</para></listitem></varlistentry>
<varlistentry><term>"USER"</term>
<listitem><para>The numerical user id.
</para></listitem></varlistentry>
<varlistentry><term>"GROUP"</term>
<listitem><para>The numerical group id of the user.
</para></listitem></varlistentry>
<varlistentry><term>"REALNAME"</term>
<listitem><para>The user's full (real) name.
</para></listitem></varlistentry>
<varlistentry><term>"DIRECTORY"</term>
<listitem><para>The user's home directory.
</para></listitem></varlistentry>
<varlistentry><term>"SHELL"</term>
<listitem><para>The user's default shell.
</para></listitem></varlistentry>
<varlistentry><term>"PASSWORD"</term>
<listitem><para>Always returns a zero-length string.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
</variablelist>
<para><emphasis role="bold">Returns</emphasis></para>
<para>Returns information specified by the <emphasis>option</emphasis>.</para>
<example id ="ex.sysGetpwnam">
<title>SysGetpwnam</title>
<programlisting>
<![CDATA[
/* the following examples came from a Linux laptop running Fedora */

SysGetpwnam("dashley", "n")      -->  dashley
SysGetpwnam("dashley", "u")      -->  500
SysGetpwnam("dashley", "g")      -->  500
SysGetpwnam("dashley", "r")      -->  David Ashley
SysGetpwnam("dashley", "d")      -->  /home/dashley
SysGetpwnam("dashley", "s")      -->  bash
SysGetpwnam("dashley", "p")      -->  ""
]]>
</programlisting>
</example>
</section>


<section id="utlSysGetpwuid"><title>SysGetpwuid</title>
<indexterm><primary>SysGetpwuid</primary></indexterm>

<mediaobject>
<imageobject>
<imagedata fileref="images/funcs/usergrps_sysgetpwuid.svg" scale="50" />
</imageobject>
</mediaobject>

<para>Returns information about a user.</para>
<para>This function uses the <filename>getpwuid()</filename>
C API to perform the action.</para>
<para><emphasis role="bold">Parameter:</emphasis></para>
<variablelist>
<varlistentry><term><emphasis role="italic">uid</emphasis></term>
<listitem><para>The numerical user id.
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="italic">option</emphasis></term>
<listitem><para>An option specifying the information to return.
The values are all case insensitive and only the first letter of the option value is checked.
Allowed values are:
<variablelist>
<varlistentry><term>"NAME"</term>
<listitem><para>The user name.
</para></listitem></varlistentry>
<varlistentry><term>"USER"</term>
<listitem><para>The numerical user id.
</para></listitem></varlistentry>
<varlistentry><term>"GROUP"</term>
<listitem><para>The numerical group id of the user.
</para></listitem></varlistentry>
<varlistentry><term>"REALNAME"</term>
<listitem><para>The user's full (real) name.
</para></listitem></varlistentry>
<varlistentry><term>"DIRECTORY"</term>
<listitem><para>The user's home directory.
</para></listitem></varlistentry>
<varlistentry><term>"SHELL"</term>
<listitem><para>The user's default shell.
</para></listitem></varlistentry>
<varlistentry><term>"PASSWORD"</term>
<listitem><para>Always returns a zero-length string.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
</variablelist>
<para><emphasis role="bold">Returns</emphasis></para>
<para>Returns information specified by the <emphasis>option</emphasis>.</para>
<example id ="ex.sysGetpwuid">
<title>SysGetpwuid</title>
<programlisting>
<![CDATA[
/* the following examples came from a Linux laptop running Fedora */

SysGetpwuid(500, "n")      -->  dashley
SysGetpwuid(500, "u")      -->  500
SysGetpwuid(500, "g")      -->  500
SysGetpwuid(500, "r")      -->  David Ashley
SysGetpwuid(500, "d")      -->  /home/dashley
SysGetpwuid(500, "s")      -->  bash
SysGetpwuid(500, "p")      -->  ""
]]>
</programlisting>
</example>
</section>


<section id="utlSysGetuid"><title>SysGetuid</title>
<indexterm><primary>SysGetuid</primary></indexterm>

<mediaobject>
<imageobject>
<imagedata fileref="images/funcs/usergrps_sysgetuid.svg" scale="50" />
</imageobject>
</mediaobject>

<para>Gets the current numerical user id.</para>
<para>This function uses the <filename>getuid()</filename>
C API to perform the action.</para>
<para><emphasis role="bold">Parameter:</emphasis></para>
<para>None</para>
<para><emphasis role="bold">Returns</emphasis></para>
<para>Returns the current numerical user id.</para>
<example id ="ex.sysGetuid">
<title>SysGetuid</title>
<programlisting>
<![CDATA[
/* get the current user id */

myuid = SysGetuid()
]]>
</programlisting>
</example>
</section>


<section id="utlSysSetegid"><title>SysSetegid</title>
<indexterm><primary>SysSetegid</primary></indexterm>

<mediaobject>
<imageobject>
<imagedata fileref="images/funcs/usergrps_syssetegid.svg" scale="50" />
</imageobject>
</mediaobject>

<para>Set the numerical effective group id.</para>
<para>This function uses the <filename>setegid()</filename>
C API to perform the action.</para>
<para><emphasis role="bold">Parameter:</emphasis></para>
<variablelist>
<varlistentry><term><emphasis role="italic">gid</emphasis></term>
<listitem><para>The new numerical effective group id.
</para></listitem></varlistentry>
</variablelist>
<para><emphasis role="bold">Returns</emphasis></para>
<para>Returns zero on success or -1 on an error.</para>
<example id ="ex.sysSetegid">
<title>SysSetegid</title>
<programlisting>
<![CDATA[
/* set the effective group id to 520 */

call SysSetegid 520
]]>
</programlisting>
</example>
</section>


<section id="utlSysSeteuid"><title>SysSeteuid</title>
<indexterm><primary>SysSeteuid</primary></indexterm>

<mediaobject>
<imageobject>
<imagedata fileref="images/funcs/usergrps_sysseteuid.svg" scale="50" />
</imageobject>
</mediaobject>

<para>Set the numerical effective user id.</para>
<para>This function uses the <filename>seteuid()</filename>
C API to perform the action.</para>
<para><emphasis role="bold">Parameter:</emphasis></para>
<variablelist>
<varlistentry><term><emphasis role="italic">uid</emphasis></term>
<listitem><para>The new numerical effective user id.
</para></listitem></varlistentry>
</variablelist>
<para><emphasis role="bold">Returns</emphasis></para>
<para>Returns zero on success or -1 on an error.</para>
<example id ="ex.sysSeteuid">
<title>SysSeteuid</title>
<programlisting>
<![CDATA[
/* set the effective user id to 520 */

call SysSeteuid 520
]]>
</programlisting>
</example>
</section>


<section id="utlSysSetgid"><title>SysSetgid</title>
<indexterm><primary>SysSetgid</primary></indexterm>

<mediaobject>
<imageobject>
<imagedata fileref="images/funcs/usergrps_syssetgid.svg" scale="50" />
</imageobject>
</mediaobject>

<para>Set the numerical group id.</para>
<para>This function uses the <filename>setgid()</filename>
C API to perform the action.</para>
<para><emphasis role="bold">Parameter:</emphasis></para>
<variablelist>
<varlistentry><term><emphasis role="italic">gid</emphasis></term>
<listitem><para>The new numerical group id.
</para></listitem></varlistentry>
</variablelist>
<para><emphasis role="bold">Returns</emphasis></para>
<para>Returns zero on success or -1 on an error.</para>
<example id ="ex.sysSetgid">
<title>SysSetgid</title>
<programlisting>
<![CDATA[
/* set the group id to 520 */

call SysSetgid 520
]]>
</programlisting>
</example>
</section>


<section id="utlSysSetpgid"><title>SysSetpgid</title>
<indexterm><primary>SysSetpgid</primary></indexterm>

<mediaobject>
<imageobject>
<imagedata fileref="images/funcs/usergrps_syssetpgid.svg" scale="50" />
</imageobject>
</mediaobject>

<para>Set a numerical process id to use the specified process group id.</para>
<para>This function uses the <filename>setpgid()</filename>
C API to perform the action.</para>
<para><emphasis role="bold">Parameter:</emphasis></para>
<variablelist>
<varlistentry><term><emphasis role="italic">pid</emphasis></term>
<listitem><para>The process id to modify.
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="italic">pgid</emphasis></term>
<listitem><para>The new process group id.
</para></listitem></varlistentry>
</variablelist>
<para><emphasis role="bold">Returns</emphasis></para>
<para>Returns zero on success and -1 on an error.</para>
<example id ="ex.sysSetpgid">
<title>SysSetpgid</title>
<programlisting>
<![CDATA[
/* set process group id */

call SysSetpgid 9321, 520
]]>
</programlisting>
</example>
</section>


<section id="utlSysSetpgrp"><title>SysSetpgrp</title>
<indexterm><primary>SysSetpgrp</primary></indexterm>

<mediaobject>
<imageobject>
<imagedata fileref="images/funcs/usergrps_syssetpgrp.svg" scale="50" />
</imageobject>
</mediaobject>

<para>Sets the current numerical process usr id to zero and the group id to zero.</para>
<para>This function uses the <filename>setpgrp()</filename>
C API to perform the action.</para>
<para><emphasis role="bold">Parameter:</emphasis></para>
<para>None</para>
<para><emphasis role="bold">Returns</emphasis></para>
<para>Returns zero on success and -1 on an error.</para>
<example id ="ex.sysSetpgrp">
<title>SysSetpgrp</title>
<programlisting>
<![CDATA[
/* set the current process group id */

call SysSetpgrp
]]>
</programlisting>
</example>
</section>


<section id="utlSysSetuid"><title>SysSetuid</title>
<indexterm><primary>SysSetuid</primary></indexterm>

<mediaobject>
<imageobject>
<imagedata fileref="images/funcs/usergrps_syssetuid.svg" scale="50" />
</imageobject>
</mediaobject>

<para>Set the numerical user id.</para>
<para>This function uses the <filename>setuid()</filename>
C API to perform the action.</para>
<para><emphasis role="bold">Parameter:</emphasis></para>
<variablelist>
<varlistentry><term><emphasis role="italic">uid</emphasis></term>
<listitem><para>The new numerical user id.
</para></listitem></varlistentry>
</variablelist>
<para><emphasis role="bold">Returns</emphasis></para>
<para>Returns zero on success or -1 on an error.</para>
<example id ="ex.sysSetuid">
<title>SysSetuid</title>
<programlisting>
<![CDATA[
/* set the user id to 520 */

call SysSetuid 520
]]>
</programlisting>
</example>
</section>

</chapter>

