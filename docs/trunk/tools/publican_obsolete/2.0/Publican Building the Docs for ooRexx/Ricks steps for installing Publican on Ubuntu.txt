
[Oorexx-devel] Steps for building the docs on Ubuntu
From: Rick McGuire <object.rexx@gm...> - 2018-12-27 11:50:10
Attachments: Message as HTML

FOP version:

This is the easiest, but produces the worst results:

1) install publican
   sudo apt install publican

2) make sure wkhtmltopdf is not installed
  sudo apt-get remove --purge wkhtmltopdf

At this point, all of the docs are buildable except for the rexxref which
will give a java out of heap error. To increase the heap, issue

  export JAVA_TOOL_OPTIONS="-Xms1g -Xmx2g"

before building.

wkhtmltopdf version.

Do steps 1) and 2) above to make sure you are clean. It is necessary to
build a patched version of wkhtmltopdf to get this to work. The following
shell script will create the patched version:

setupwkhtmltopdf.sh
  cd ~
  sudo apt-get install libfontenc1 xfonts-75dpi xfonts-base
  xfonts-encodings xfonts-utils openssl build-essential libssl-dev
  libxrender-dev git-core libx11-dev libxext-dev libfontconfig1-dev
  libfreetype6-dev fontconfig -y
  #https://github.com/wkhtmltopdf/wkhtmltopdf/releases
  #replace arch
  wget https://github.com/wkhtmltopdf/wkhtmltopdf/releases/download/0.12.5/. wkhtmltox_0.12.5-1.bionic_amd64.deb
  sudo dpkg -i wkhtmltox_0.12.5-1.bionic_amd64.deb
  sudo apt --fix-broken install


Note that to uninstall this version, you need to use

  dpkg --remove wkhtmltox

If you try to build the docs now, you will get an error for a missing
"abstract" tag in the BookInfo. I had to manually add a dummy abstract
to the BookInfos, then every thing built cleanly. We should probably
consider adding real abstracts to the docs.


Rick

