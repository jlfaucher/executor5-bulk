<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "oodialog.ent">
%BOOK_ENTITIES;
]>
<!--#########################################################################
    #
    # Description: Open Object Rexx: ooDialog Reference XML file.
    #
    # Copyright (c) 2005-2022 Rexx Language Association. All rights reserved.
    # Portions Copyright (c) 2004, IBM Corporation. All rights reserved.
    #
    # This program and the accompanying materials are made available under
    # the terms of the Common Public License v1.0 which accompanies this
    # distribution. A copy is also available at the following address:
    # http://www.oorexx.org/license.html
    #
    # Redistribution and use in source and binary forms, with or
    # without modification, are permitted provided that the following
    # conditions are met:
    #
    # Redistributions of source code must retain the above copyright
    # notice, this list of conditions and the following disclaimer.
    # Redistributions in binary form must reproduce the above copyright
    # notice, this list of conditions and the following disclaimer in
    # the documentation and/or other materials provided with the distribution.
    #
    # Neither the name of Rexx Language Association nor the names
    # of its contributors may be used to endorse or promote products
    # derived from this software without specific prior written permission.
    #
    # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
    # "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
    # LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
    # FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
    # OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
    # SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
    # TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
    # OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
    # OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    # NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
    # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
    #
    #########################################################################
-->
<chapter id="clsUpDown" xreflabel="UpDown"><title>Up Down Controls</title>
<indexterm><primary>UpDown class</primary></indexterm>
<para>
  Up-down controls consist of a pair of arrow buttons that the user can click to increment or decrement a value, such as
  a scroll position or a number displayed in a companion control. The value associated with an up-down control is called
  its current position. An up-down control is most often used with a companion control, which is called a buddy window.
</para>
<para>
  To the user, the up-down control with its buddy window often look like a single control. The programmer can specify
  that an up-down control automatically position itself next to its buddy window and that it automatically set the text
  of the buddy window to its current position. For example, an up-down control with an edit control can be used to
  prompt the user for numeric input. Sometimes an up-down control with an edit control for its buddy window is referred
  to as a spinner control.
</para>
<para>
  Up-down controls can be used without a buddy window to provide a simplified type of scroll bar. Up-down controls allow
  the programmer to change the radix base used to display the current position of the up-down control from 10 to 16. The
  controls also support acceleration. The programmer can control the rate at which the position changes when the user
  holds down an arrow button. The longer the user holds down the button, the faster the up-down control changes postion.
</para>
<para>
  For an up-down control with a buddy window, the current position is the number in the buddy window's text. When the
  programmer queries the up-down control for its position, this text may have changed. For example, if the buddy window
  is an edit control, the user may have manually typed in a number in the edit control. Therefore, when the up-down
  control is queried for its position, it first retrieves the current text from the buddy window and updates its
  position using that text.
</para>
<para>
  The possible range of positions for an up-down control is -2,147,483,648 to 2,147,483,647. However, the range for any
  specific up-down control can be set by the programmer. The maximum value of the range can be less than the minimum
  range. In this case the up arrow will reduce the current position, the down arrow increases the current position. In
  other words up means moving towards the maximum and down means moving towards the minimum.
</para>
<para>
  The <computeroutput>UpDown</computeroutput> class provides methods to work with and manipulate the underlying Windows
  up-down dialog control which it represents. It is a concrete subclass of the dialog
  <xref linkend="chpDialogControlObject"/> object and therefore has all methods of the of the dialog control object.
</para>
<para>
  In addition to the methods of the class itself, the following methods from other classes in the ooDialog framework are
  needed, or are useful, when working with up-down controls:
<variablelist>
  <varlistentry><term><emphasis role="bold">Instantiation:</emphasis></term>
  <listitem>
  <para>
    Use the <xref linkend="tmthNewUpDown"/> method of the
    <xref linkend="chpDialogObject"/> object to retrieve a new UpDown object.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Dynamic Definition:</emphasis></term>
  <listitem>
  <para>
    To dynamically define an up-down control in a <xref linkend="clsUserDialog"/> class, use the
 <xref linkend="mthCreateUpDown"/> method.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Event Notification</emphasis></term>
  <listitem>
  <para>
    To connect the <xref linkend="ovvEvents"/> notifications sent by the underlying up-down control to a
    method in the Rexx dialog object use the <xref linkend="mthConnectUpDownEvent"/>()
    method.
  </para>
  </listitem></varlistentry>
</variablelist>
</para>

<section id="sctMethodsUpDown"><title>Method Table</title>
<para>
  The following table provides links to the documentation for the primary methods and attributes used in working
  with UpDown objects, including the pertinent methods from other classes:
</para>
<table id="tblUpDownMethods" frame="all">
<title>Important UpDown Methods</title>
<tgroup cols="2">
<colspec colwidth="1*" />
<colspec colwidth="4*" />
<thead>
<row>
<entry>Method</entry>
<entry>Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="center"><emphasis role="bold">Useful</emphasis></entry>
<entry align="center"><emphasis role="bold">External Methods</emphasis></entry>
</row>
<row>
<entry><xref linkend="tmthNewUpDown"/></entry>
<entry>Returns an <computeroutput>UpDown</computeroutput> object for the control with the specified ID.</entry>
</row>
<row>
<entry><xref linkend="tmthCreateUpDown"/></entry>
<entry>Creates an up-down control in the dialog template of a <xref linkend="clsUserDialog"/></entry>
</row>
<row>
<entry><xref linkend="tmthConnectUpDownEvent"/></entry>
<entry>Connects up-down event notifications to a method in the Rexx dialog object</entry>
</row>
<row>
<entry align="center"><emphasis role="bold">Class Methods</emphasis></entry>
<entry align="center"><emphasis role="bold">Class Methods</emphasis></entry>
</row>
<row>
<entry><xref linkend="mthDeltaPosReply"/></entry>
<entry>Constructs the proper return object for the event handler of the up-down DELTAPOS event.</entry>
</row>
<row>
<entry align="center"><emphasis role="bold">Instance Methods</emphasis></entry>
<entry align="center"><emphasis role="bold">Instance Methods</emphasis></entry>
</row>
<row>
<entry><xref linkend="mthGetAcceleration"/></entry>
<entry>Retrieves the acceleration information for the up-down control in an array of <computeroutput>Directory</computeroutput> objects.</entry>
</row>
<row>
<entry><xref linkend="mthGetBase"/></entry>
<entry>Retrieves the current base, either base 10 or 16, for the up-down control.</entry>
</row>
<row>
<entry><xref linkend="mthGetBuddy"/></entry>
<entry>Retrieves the up-down's buddy window as a dialog control object.</entry>
</row>
<row>
<entry><xref linkend="mthGetPosition"/></entry>
<entry>Returns the position of the up-down control as a signed whole number.</entry>
</row>
<row>
<entry><xref linkend="mthGetRange"/></entry>
<entry>Returns the current range of the up-down control in a <computeroutput>Directory</computeroutput> object.</entry>
</row>
<row>
<entry><xref linkend="mthSetAcceleration"/></entry>
<entry>Sets the acceleration for the up-down control.</entry>
</row>
<row>
<entry><xref linkend="mthSetBase"/></entry>
<entry>Sets the radix base for the up-down control.</entry>
</row>
<row>
<entry><xref linkend="mthSetBuddy"/></entry>
<entry>Sets the buddy window for the up-down control.</entry>
</row>
<row>
<entry><xref linkend="mthSetPosition"/></entry>
<entry>Sets the current position of the up-down control.</entry>
</row>
<row>
<entry><xref linkend="mthSetRangeClsUpDown"/></entry>
<entry>Sets the range of positions for the up-down control to that specified.</entry>
</row>
</tbody></tgroup>
</table>
</section>


<section id="tmthNewUpDown" xreflabel="newUpDown"><title>newUpDown (dialog object method)</title>
<para>
  UpDown objects can not be instantiated by the programmer from Rexx code. Rather an UpDown object is obtained by using
  the <xref linkend="mthNewUpDown"/> method of the <xref linkend="chpDialogControlObject"/> object. The syntax is:
<programlisting>
<![CDATA[
>>-newUpDown(--id--)-----------------------------><

]]>
</programlisting>
</para>
</section>  <!-- End newUpDown() [PlainBaseDialog method] -->


<section id="tmthCreateUpDown" xreflabel="createUpDown"><title>createUpDown (UserDialog method)</title>
<para>
  An UpDown object can be added to the dialog template for a <xref linkend="clsUserDialog"/> dialog
  through the <xref linkend="mthCreateUpDown"/> method. The basic syntax is:
<programlisting>
<![CDATA[
>>--createUpDown(-id-,--x-,--y-,--cx-,--cy-+---------+--+-----------------+--)---><
                                           +-,-style-+  +-,-attributeName-+

]]>
</programlisting>
</para>
</section>  <!-- End UserDialog::createUpDown() [UserDialog method] -->


<section id="tmthConnectUpDownEvent" xreflabel="connectUpDownEvent"><title>connectUpDownEvent (dialog object method)</title>
<para>
  To connect event notifications from an up-down object use the<xref linkend="mthConnectUpDownEvent"/> method of the
  <xref linkend="chpDialogObject"/> object. The basic syntax is:

<programlisting>
<![CDATA[
>>-connectUpDownEvent(--id--,--event--+----------------+--)------------><
                                      +--,-methodName--+

]]>
</programlisting>
</para>
</section>  <!-- End connectUpDownEvent() [EventNotification method] -->


<section id="mthDeltaPosReply" xreflabel="deltaPosReply"><title>deltaPosReply (Class method)</title>
<indexterm><primary>deltaPosReply</primary></indexterm>
<indexterm><primary>UpDown class</primary><secondary>deltaPosReply</secondary></indexterm>
<programlisting>
<![CDATA[
>>--deltaPosReply(--+----------+--+----------+--+-------------+--)-------------><
                    +--change--+  +-,-cancel-+  +-,-newDelta--+
]]>
</programlisting>

<para>
  Constructs the (proper) reply object for a <xref linkend="evtUpDownDELTAPOS"/> up-down
  <xref linkend="ovvEvents"/> notification.
</para>
<variablelist>
  <varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
  <listitem>
  <para>
    The arguments are:
  <variablelist>
    <varlistentry><term>change [optional]</term>
    <listitem>
    <para>
      If true, the change in the position of the up-down control is to be canceled or modified. If false, then the
      proposed change in position is allowed. When this argument is false, the other arguments are always ignored. The
      default is false.
    </para>
    </listitem></varlistentry>
    <varlistentry><term>cancel [optional]</term>
    <listitem>
    <para>
      If true, the delta position message is canceled completely. If false the message is not canceled, and the delta
      position is set to <emphasis role="italic">newDelta</emphasis>. The default is false.
    </para>
    </listitem></varlistentry>
    <varlistentry><term>newDelta [optional]</term>
    <listitem>
    <para>
      The amount by which the current position of the up-down control is changed. The default is 1. This argument is
      only used if <emphasis role="italic">change</emphasis> is true and <emphasis role="italic">cancel</emphasis> is
      false.
    </para>
    </listitem></varlistentry>
  </variablelist>
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
  <listitem>
  <para>
    The return is a position change reply buffer that is suitable to use as the return from the event handler for
    the DELTAPOS event notification from an up-down control.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Remarks:</emphasis></term>
  <listitem>
  <para>
    A position reply buffer can not be constructed by the Rexx programmer, so the return from this method must be used
    as the return from the event handler for the DELTAPOS event.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Details</emphasis></term>
  <listitem>
  <para>
    Raises syntax errors when incorrect arguments are detected.
  </para>
  </listitem></varlistentry>
</variablelist>
</section>  <!-- End UpDown::deltaPosReply() -->


<section id="mthGetAcceleration" xreflabel="getAcceleration"><title>getAcceleration</title>
<indexterm><primary>getAcceleration</primary></indexterm>
<indexterm><primary>UpDown class</primary><secondary>getAcceleration</secondary></indexterm>
<programlisting>
<![CDATA[
>>--getAcceleration------------------------------><

]]>
</programlisting>

<para>
  Retrieves the acceleration information for the up-down control in an array of
  <computeroutput>Directory</computeroutput> objects.
</para>
<variablelist>
  <varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
  <listitem>
  <para>
    This method takes no arguments.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
  <listitem>
  <para>
    An array of <computeroutput>Directory</computeroutput> objects. Each directory contains the following indexes:
  </para>
  <variablelist>
    <varlistentry><term>SECONDS</term>
    <listitem>
    <para>
      The amount of elapsed time, in seconds, before the position change increment specified by the <emphasis
      role="italic">increment</emphasis> index is used.
    </para>
    </listitem></varlistentry>
    <varlistentry><term>INCREMENT</term>
    <listitem>
    <para>
      The increment used to change the position after the time specified by the <emphasis
      role="italic">seconds</emphasis> index elapses.
    </para>
    </listitem></varlistentry>
  </variablelist>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Remarks:</emphasis></term>
  <listitem>
  <para>
    Acceleration information allows the up-down control change its position faster the longer the user holds down the
    control's up or down arrow, or the up or down keyboard arrow. A single acceleration specifies that after so many
    seconds increment the position by this amount. For example, after 1 second increment the postion by 4. After 2
    seconds increment the postion by 8.
  </para>
  <para>
    The accelerations are always sorted by seconds in ascending order. Typically the first acceleration would be 0
    seconds with an increment of 1. The programmer can change the acceleration information for the up-down control
    through the <xref linkend="mthSetAcceleration"/> method.
  </para>
  </listitem></varlistentry>
</variablelist>
</section>  <!-- End UpDown::getAcceleration() -->

<section id="mthGetBase" xreflabel="getBase"><title>getBase</title>
<indexterm><primary>getBase</primary></indexterm>
<indexterm><primary>UpDown class</primary><secondary>getBase</secondary></indexterm>
<programlisting>
<![CDATA[
>>--getBase--------------------------------------><

]]>
</programlisting>

<para>
  Return the current base (the radix base, either base 10 or 16) for the up-down control.
</para>
<variablelist>
  <varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
  <listitem>
  <para>
    There are no arguments for this method.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
  <listitem>
  <para>
    The current base, either 10 or 16, for the up-down control.
  </para>
  </listitem></varlistentry>
</variablelist>
</section>  <!-- End UpDown::getBase() -->

<section id="mthGetBuddy" xreflabel="getBuddy"><title>getBuddy</title>
<indexterm><primary>getBuddy</primary></indexterm>
<indexterm><primary>UpDown class</primary><secondary>getBuddy</secondary></indexterm>
<programlisting>
<![CDATA[
>>--getBuddy-------------------------------------><

]]>
</programlisting>

<para>
  Retrieves the current buddy window, as a dialog control object, of the up-down, or
  <computeroutput>.nil</computeroutput> if the up-down does not have a buddy window.
</para>
<variablelist>
  <varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
  <listitem>
  <para>
    This method does not take any arguments.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
  <listitem>
  <para>
    The return is the dialog <xref linkend="chpDialogControlObject"/> object that is the buddy window of
    the up-down control. Normally, or at least most often, this will be an <xref linkend="clsEdit"/> object.
    However, it could be some other type of dialog control object. If the up-down control does not have a buddy window,
    then <computeroutput>.nil</computeroutput> is returned.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Example:</emphasis></term>
  <listitem>
  <para>
    It is difficult to prevent the user from typing in numbers, that are outside of the range of the up-down, in an edit
    control that is the buddy window. This example shows a generic method that could be used to check that what the user
    typed lies within the proper range of the up-down.
<programlisting>
<![CDATA[

::method checkUpDownIntegrity private
  use strict arg upd

  buddy = upd~getBuddy
  if buddy \== .nil then do
    pos = upd~getPosition
    if buddy~getText \== pos then buddy~setText(pos)
  end

]]>
</programlisting>
  </para>
  </listitem></varlistentry>
</variablelist>
</section>  <!-- End UpDown::getBuddy() -->

<section id="mthGetPosition" xreflabel="getPosition"><title>getPosition</title>
<indexterm><primary>getPosition</primary></indexterm>
<indexterm><primary>UpDown class</primary><secondary>getPosition</secondary></indexterm>
<programlisting>
<![CDATA[
>>--getPosition----------------------------------><

]]>
</programlisting>

<para>
  Returns the current position of the up-down control.
</para>
<variablelist>
  <varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
  <listitem>
  <para>
    There are no arguments to this method.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
  <listitem>
  <para>
    The return value is the current position of the up-down control.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Remarks:</emphasis></term>
  <listitem>
  <para>
    When the <emphasis role="italic">getPosition</emphasis> method is invoked, the up-down control updates its position
    based on the text of its buddy window. If there is no buddy window, or if the text is outside of the range of the
    up-down control, then the position is not changed and <computeroutput>.systemErrorCode</computeroutput> is set to
    13, the data is invalid.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Details</emphasis></term>
  <listitem>
  <para>
    Sets the <xref linkend="dotSystemErrorCode"/>. See the remarks section.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Example:</emphasis></term>
  <listitem>
  <para>
    This example retrieves the up-down's position value during validation when the dialog is closing. If the user has
    manually typed in a value in the buddy edit control, then that is the value that will be used. However, if that
    value is out of range, the validation is failed and the user is warned:
<programlisting>
<![CDATA[

::method validate unguarded

  ...
  upd = self~newUpDown(IDC_UPD_YEARS_EXPERIENCE)
  years = upd~getPostion
  if .systemErrorCode <> 0 then do
    eol = .endOfLine
    edit = upd~getBuddy

    msg = 'You've typed in' edit~getText 'years of' || eol || -
          'experience.  That is outside of the'     || eol || -
          'allowable range.'              || eol~copies(2) || -
          'Please use a reasonable number.'

    title = "Job Application: Software Engineer"
    button = "OK"
    icon = "INFORMATION"
    miscStyles = "APPLMODAL TOPMOST"
    j = messageDialog(msg, self~hwnd, title, button, icon, miscStyles)

    edit~setText(years)
    return .false
  end

  return .true

]]>
</programlisting>
  </para>
  </listitem></varlistentry>
</variablelist>
</section>  <!-- End UpDown::getPosition() -->

<section id="mthGetRange" xreflabel="getRange"><title>getRange</title>
<indexterm><primary>getRange</primary></indexterm>
<indexterm><primary>UpDown class</primary><secondary>getRange</secondary></indexterm>
<programlisting>
<![CDATA[
>>--getRange-------------------------------------><

]]>
</programlisting>

<para>
  Returns the current range of the up-down control in a <computeroutput>Directory</computeroutput> object.
</para>
<variablelist>
  <varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
  <listitem>
  <para>
    There are no arguments to this method.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
  <listitem>
  <para>
    A <computeroutput>Directory</computeroutput> object containing the minium and maximum position for the up-down
    control. The directory contains the following indexes:
  </para>
  <variablelist>
    <varlistentry><term>MIN</term>
    <listitem>
    <para>
      The minimum value of the current range for the up-down control.
    </para>
    </listitem></varlistentry>
    <varlistentry><term>MAX</term>
    <listitem>
    <para>
      The maximum value of the current range for the up-down control.
    </para>
    </listitem></varlistentry>
  </variablelist>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Remarks:</emphasis></term>
  <listitem>
  <para>
    The maximum range value can be less than the minimum value. The up arrow moves towards the maximum and the down
    arrow moves towards the minimum. If the maximum value is less than the minium, then using the up arrow will decrease
    the current position and the down arrow will increase the positions.
  </para>
  </listitem></varlistentry>
</variablelist>
</section>  <!-- End UpDown::getRange() -->

<section id="mthSetAcceleration" xreflabel="setAcceleration"><title>setAcceleration</title>
<indexterm><primary>setAcceleration</primary></indexterm>
<indexterm><primary>UpDown class</primary><secondary>setAcceleration</secondary></indexterm>
<programlisting>
<![CDATA[
>>--setAcceleration(--accelerations--)-----------><

]]>
</programlisting>

<para>
  Sets the acceleration for the up-down control.
</para>
<variablelist>
  <varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
  <listitem>
  <para>
    The single argument is:
  <variablelist>
    <varlistentry><term>accelerations</term>
    <listitem>
    <para>
      An array of <computeroutput>Directory</computeroutput> objects. Each directory in the array defines a single
      acceleration and must contain the following indexes:
    </para>
    <variablelist>
      <varlistentry><term>SECONDS</term>
      <listitem>
      <para>
        The amount of elapsed time, in seconds, before the position change increment specified by the <emphasis
        role="italic">increment</emphasis> index is used.
      </para>
      </listitem></varlistentry>
      <varlistentry><term>INCREMENT</term>
      <listitem>
      <para>
        The increment used to change the position after the time specified by the <emphasis
        role="italic">seconds</emphasis> index elapses.
      </para>
      </listitem></varlistentry>
    </variablelist>
    <para>
      The array can not be sparse, that is each index must contain a value. The value at each index must be a
      <computeroutput>Directory</computeroutput> object and must contain the proper indexes.
    </para>
    </listitem></varlistentry>
  </variablelist>
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
  <listitem>
  <para>
    On succes, true. On failure false.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Remarks:</emphasis></term>
  <listitem>
  <para>
    Acceleration information allows the up-down control change its position faster the longer the user holds down the
    control's up or down arrow, or the up or down keyboard arrow. A single acceleration specifies that after so many
    seconds increment the position by this amount. For example, after 1 second increment the postion by 4. After 2
    seconds increment the postion by 8, etc..
  </para>
  <para>
    The accelerations must be sorted in the array, by seconds, in ascending order. Typically the first acceleration
    would be 0 seconds with an increment of 1.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Details</emphasis></term>
  <listitem>
  <para>
    Raises syntax errors when incorrect usage is detected.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Example:</emphasis></term>
  <listitem>
  <para>
    The following example sets the acceleration to be very fast, much faster than normal:
<programlisting>
<![CDATA[

::method initDialog

  upd = self~newUpDown(IDC_UPD_HUGH_RANGE)

  accels = .array~new(5)
  do i = 0 to 4
    d = .directory~new
    d~seconds = i
    d~increment = 8 ** i
    accels[i + 1] = d
  end

  upd~setAcceleration(accels)

]]>
</programlisting>
  </para>
  </listitem></varlistentry>
</variablelist>
</section>  <!-- End UpDown::setAcceleration() -->

<section id="mthSetBase" xreflabel="setBase"><title>setBase</title>
<indexterm><primary>setBase</primary></indexterm>
<indexterm><primary>UpDown class</primary><secondary>setBase</secondary></indexterm>
<programlisting>
<![CDATA[
>>--setBase(--radixBase--)-----------------------><

]]>
</programlisting>

<para>
  Sets the radix base for an up-down control.
</para>
<variablelist>
  <varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
  <listitem>
  <para>
    The single argument is:
  <variablelist>
    <varlistentry><term>radixBase</term>
    <listitem>
    <para>
      The base for the up-down. Can be 10 or 16.
    </para>
    </listitem></varlistentry>
  </variablelist>
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
  <listitem>
  <para>
    Returns the previous base of the up-down control, or 0 if the new base specified is not valid.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Remarks:</emphasis></term>
  <listitem>
  <para>
    The base value determines how the numbers are displayed in the buddy window. With base 10, the numbers displayed are
    decimal digits, and with base 16, hexadecimal digits. Hexadecimal numbers are always non-negative, (not signed,) and
    decimal numbers are whole numbers, (they can be signed.)
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Example:</emphasis></term>
  <listitem>
  <para>
    This example changes the base of the up-down control to 16:
<programlisting>
<![CDATA[

  upDown = self~newUpDown(IDC_UPD)
  ret = upDown~setBase(16)
  if ret == 16 then say "The up-down base was already set to 16."
  else if ret == 10 say "The up-down base was changed from 10 to 16."
  else say "This else will never execute."

]]>
</programlisting>
  </para>
  </listitem></varlistentry>
</variablelist>
</section>  <!-- End UpDown::setBase() -->

<section id="mthSetBuddy" xreflabel="setBuddy"><title>setBuddy</title>
<indexterm><primary>setBuddy</primary></indexterm>
<indexterm><primary>UpDown class</primary><secondary>setBuddy</secondary></indexterm>
<programlisting>
<![CDATA[
>>--setBuddy(--dlgControlObj--)------------------><

]]>
</programlisting>

<para>
  Sets the buddy window for the up-down control.
</para>
<variablelist>
  <varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
  <listitem>
  <para>
    The single argument is:
  <variablelist>
    <varlistentry><term>dlgControlObj [required]</term>
    <listitem>
    <para>
      The dialog control object that is to be the new buddy window for the up-down control.
    </para>
    </listitem></varlistentry>
  </variablelist>
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
  <listitem>
  <para>
    Returns the previous dialog control object of the buddy window, if there was a previous buddy. Returns
    <computeroutput>.nil</computeroutput> if there was no previous buddy window.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Remarks:</emphasis></term>
  <listitem>
  <para>
    When an up-down control has the AUTOBUDDY style, the up-down control selects the previous window in the dialog
    template as its buddy window. If the up-down control does not have that style, the <emphasis
    role="italic">setBuddy</emphasis> method can be used to assign a specific dialog control as the buddy window. Of
    course, the <emphasis role="italic">setBuddy</emphasis> method can be used to assign a specific dialog control, when
    desired, for any other reason the programmer may have.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Details</emphasis></term>
  <listitem>
  <para>
    Raises syntax errors when incorrect arguments are detected.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Example:</emphasis></term>
  <listitem>
  <para>
    This example sets the buddy window during the <xref linkend="mthInitDialog"/> method for an up-down
    control that does not have the AUTOBUDDY style.
<programlisting>
<![CDATA[

::method initDialog

  edit = self~newEdit(IDC_EDIT_EXPIRATION_YEAR)
  upd = self~newUpDown(IDC_UPD_EXPIRATION)
  upd~setBuddy(edit)

]]>
</programlisting>
  </para>
  </listitem></varlistentry>
</variablelist>
</section>  <!-- End UpDown::setBuddy() -->

<section id="mthSetPosition" xreflabel="setPosition"><title>setPosition</title>
<indexterm><primary>setPosition</primary></indexterm>
<indexterm><primary>UpDown class</primary><secondary>setPosition</secondary></indexterm>
<programlisting>
<![CDATA[
>>--setPosition(--newPosition--)-----------------><

]]>
</programlisting>

<para>
  Sets the position of the up-down control.
</para>
<variablelist>
  <varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
  <listitem>
  <para>
    The single argument is:
  <variablelist>
    <varlistentry><term>newPosition [required]</term>
    <listitem>
    <para>
      A whole number in the range of -2,147,483,648 to 2,147,483,647 that specifies the new position for the up-down
      control.
    </para>
    </listitem></varlistentry>
  </variablelist>
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
  <listitem>
  <para>
    The previous position of the up-down control.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Remarks:</emphasis></term>
  <listitem>
  <para>
    If <emphasis role="italic">newPosition</emphasis> is outside the control's current
 <xref linkend="mthSetRangeClsUpDown"/>, the position is set to the nearest valid position within the range.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Details</emphasis></term>
  <listitem>
  <para>
    Raises syntax errors when incorrect arguments are detected.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Example:</emphasis></term>
  <listitem>
  <para>
    This example sets the range for an up-down control to be the years 1900 through 2100 and then sets the current
    position of the up-down control to the current year:
<programlisting>
<![CDATA[

::method initDialog

  upDown = self~newUpDown(IDC_UPD_YEARS)
  upDown~setRange(1900, 2100)
  upDown~setPosition(.DateTime~today~year)

]]>
</programlisting>
  </para>
  </listitem></varlistentry>
</variablelist>
</section>  <!-- End UpDown::setPosition() -->

<section id="mthSetRangeClsUpDown" xreflabel="setRange"><title>setRange</title>
<indexterm><primary>setRange</primary></indexterm>
<indexterm><primary>UpDown class</primary><secondary>setRange</secondary></indexterm>
<programlisting>
<![CDATA[
Form 1:

>>--setRange(--+----------------+--)-------------><
               +--directoryObj--+

Form 2:

>>--setRange(--+-------+-+--------+--)-----------><
               +--min--+ +-,-max--+

Generic form:

>>--setRange(--+---------+--)--------------------><
               +--range--+

]]>
</programlisting>

<para>
  Sets the range of positions for the up-down control to that specified.
</para>
<variablelist>
  <varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
  <listitem>
  <para>
    The <emphasis role="italic">range</emphasis> argument(s) are optional. If omitted, the range is set to a minimum of
    0 and a maximum of 100.
    <variablelist>
      <varlistentry><term><emphasis role="bold">Form 1:</emphasis></term>
      <listitem>
      <para>
        The single argument for form 1 is:
        <variablelist>
          <varlistentry><term>directoryObj [optional]</term>
          <listitem>
          <para>
            A <computeroutput>Directory</computeroutput> object whose indexes specify the minimum and maximum range. The
            directory can contain the following indexes:
          </para>
          <variablelist>
            <varlistentry><term>MIN [optiona]</term>
            <listitem>
            <para>
              The minimum value for the range. If this index is omitted, the minimum is set to 0.
            </para>
            </listitem></varlistentry>
            <varlistentry><term>MAX [optional]</term>
            <listitem>
            <para>
              The maximum value for the range. If this index is omitted, the maximum is set to 100.
            </para>
            </listitem></varlistentry>
          </variablelist>
          </listitem></varlistentry>
        </variablelist>
      </para>
      </listitem></varlistentry>
      <varlistentry><term><emphasis role="bold">Form 2:</emphasis></term>
      <listitem>
      <para>
        The arguments for form 2 are:
        <variablelist>
          <varlistentry><term>min [optiona]</term>
          <listitem>
          <para>
            The minimum value for the range. If this argument is omitted, the minimum is set to 0.
          </para>
          </listitem></varlistentry>
          <varlistentry><term>max [optional]</term>
          <listitem>
          <para>
            The maximum value for the range. If this argument is omitted, the maximum is set to 100.
          </para>
          </listitem></varlistentry>
        </variablelist>
      </para>
      </listitem></varlistentry>
    </variablelist>
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
  <listitem>
  <para>
    This method always returns 0.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Details</emphasis></term>
  <listitem>
  <para>
    Raises syntax errors when incorrect arguments are detected.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Example:</emphasis></term>
  <listitem>
  <para>
    This example sets the range of an up-down control when the dialog first starts. Later in the life cycle of the
    dialog the range is changed numerous times, so a generic functions is used to change the range:
<programlisting>
<![CDATA[

::method initDialog
  expose upDown staticPresident

  upDown = self~newUpDown(IDC_UPD_LIFE_SPAN)
  upDown~setRange(1732, 1799)

  staticPresident = self~newStatic(IDC_ST_PRESIDENT)
  static~President~setText("George Washington")

  ...

::method onComboBoxSelect
  expose staticPresident

  president = self~newComboBox(IDC_CB_PRESIDENT)~selected
  staticPresident~setText(president)

  select
    when president == 'Abraham Lincoln' then do
      r = .directory~new
      r~min = 1809
      r~max = 1865
      self~changeRange(r)
    end
    when president == 'Andrew Jackson' then do
      r = .directory~new
      r~min = 1767
      r~max = 1845
      self~changeRange(r)
    end

    ...

    when president == 'Zachary Taylor' then do
      r = .directory~new
      r~min = 1784
      r~max = 1850
      self~changeRange(r)
    end
  end

::method changeRange private
  expose upDown
  use strict arg range

  upDown~setRange(range)

]]>
</programlisting>
  </para>
  </listitem></varlistentry>
</variablelist>
</section>  <!-- End UpDown::setRange() -->

</chapter>  <!-- End UpDown class -->

