<!--#########################################################################
    #
    # Description: Open Object Rexx: OODialog Reference SGML file.
    #
    # Copyright (c) 2005-2007, Rexx Language Association. All rights reserved.
    # Portions Copyright (c) 2004, IBM Corporation. All rights reserved.
    #
    # This program and the accompanying materials are made available under
    # the terms of the Common Public License v1.0 which accompanies this
    # distribution. A copy is also available at the following address:
    # http://www.oorexx.org/license.html
    #
    # Redistribution and use in source and binary forms, with or
    # without modification, are permitted provided that the following
    # conditions are met:
    #
    # Redistributions of source code must retain the above copyright
    # notice, this list of conditions and the following disclaimer.
    # Redistributions in binary form must reproduce the above copyright
    # notice, this list of conditions and the following disclaimer in
    # the documentation and/or other materials provided with the distribution.
    #
    # Neither the name of Rexx Language Association nor the names
    # of its contributors may be used to endorse or promote products
    # derived from this software without specific prior written permission.
    #
    # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
    # "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
    # LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
    # FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
    # OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
    # SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
    # TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
    # OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
    # OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    # NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
    # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
    #
    # Author(s):
    #      W. David Ashley <dashley@us.ibm.com>
    #
    #########################################################################
-->
<chapter id="editcontrolc"><title>EditControl Class</title>
<indexterm><primary>EditControl class</primary></indexterm>
<para>The EditControl class provides methods to query
and modify edit controls, which are also called entry lines. It inherits all
methods of the DialogControl class (see page <link linkend="dialogcontrolc">DialogControl Class</link>).</para>
<para>Use the GetEditControl method (see page <link linkend="geteditcontrol">GetEditControl</link>)
to retrieve an object of the EditControl class.</para>
<variablelist>
<varlistentry><term>Requires:</term>
<listitem><para>The EditControl class requires the class definition
file <computeroutput>oodwin32.cls</computeroutput>:
<programlisting>
<![CDATA[
::requires "oodwin32.cls"
]]>
</programlisting>
</para></listitem></varlistentry>
<varlistentry><term>Methods:</term>
<listitem><para>Instances of the EditControl class implement
the methods listed in the
<link linkend="t000022">EditControl Instance Methods</link> table.

<table id="t000022" frame="all">
<title>EditControl Instance Methods</title>
<tgroup cols="2">
<thead>
<row>
<entry>Method...</entry>
<entry>...on page</entry>
</row>
</thead>
<tbody>
<row>
<entry>EnsureCaretVisibility</entry>
<entry><link linkend="ensurecaretvisibility">EnsureCaretVisibility</link></entry>
</row>
<row>
<entry>FirstVisibleLine</entry>
<entry><link linkend="firstvisibleline">FirstVisibleLine</link></entry>
</row>
<row>
<entry>GetLine</entry>
<entry><link linkend="getline">GetLine</link></entry>
</row>
<row>
<entry>IsModified</entry>
<entry><link linkend="ismodified">IsModified</link></entry>
</row>
<row>
<entry>LineFromIndex</entry>
<entry><link linkend="linefromindex">LineFromIndex</link></entry>
</row>
<row>
<entry>LineIndex</entry>
<entry><link linkend="lineindex">LineIndex</link></entry>
</row>
<row>
<entry>LineLength</entry>
<entry><link linkend="linelength">LineLength</link></entry>
</row>
<row>
<entry>LineScroll</entry>
<entry><link linkend="linescroll">LineScroll</link></entry>
</row>
<row>
<entry>Lines</entry>
<entry><link linkend="lines">Lines</link></entry>
</row>
<row>
<entry>Margins</entry>
<entry><link linkend="margins">Margins</link></entry>
</row>
<row>
<entry>PasswordChar</entry>
<entry><link linkend="passwordchar">PasswordChar</link></entry>
</row>
<row>
<entry>PasswordChar=</entry>
<entry><link linkend="passwordcharset">PasswordChar=</link></entry>
</row>
<row>
<entry>ReplaceSelText</entry>
<entry><link linkend="replaceseltext">ReplaceSelText</link></entry>
</row>
<row>
<entry>ScrollCommand</entry>
<entry><link linkend="scrollcommand">ScrollCommand</link></entry>
</row>
<row>
<entry>Select</entry>
<entry><link linkend="select">Select</link></entry>
</row>
<row>
<entry>Selected</entry>
<entry><link linkend="selected">Selected</link></entry>
</row>
<row>
<entry>SetLimit</entry>
<entry><link linkend="setlimit">SetLimit</link></entry>
</row>
<row>
<entry>SetMargins</entry>
<entry><link linkend="setmargins">SetMargins</link></entry>
</row>
<row>
<entry>SetModified</entry>
<entry><link linkend="setmodified">SetModified</link></entry>
</row>
<row>
<entry>SetReadOnly</entry>
<entry><link linkend="setreadonly">SetReadOnly</link></entry>
</row>
</tbody></tgroup>
</table>
</para></listitem></varlistentry>
</variablelist>

<section id="selected"><title>Selected</title>
<indexterm><primary>Selected</primary>
<secondary>EditControl class</secondary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~Selected--------------------------------------><


]]>
</programlisting>

<para>The Selected method retrieves the indexes of the
starting and ending character of the text selected. If the starting index
equals the ending index, no text is selected and the index specifies the current
cursor position. If the ending index is 0 and the starting index is 1, the
entire text is selected.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
<listitem><para>The one-based starting and ending index of the current selection, separated
by a blank.
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>The following example displays the starting and ending index of the
text selection of the edit control NAME. It then selects the entire text of
the edit control.
<programlisting>
<![CDATA[
edit = MyDialog~GetEditControl("NAME")
if edit == .Nil then return
parse value edit~Selected with start end
say "Starting index of selection is" start
say "Ending index of selection is" end
edit~Select(1,0)
]]>
</programlisting>
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="select"><title>Select</title>
<indexterm><primary>Select</primary>
<secondary>EditControl class</secondary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~Select(--start--,--end--)---------------------><


]]>
</programlisting>

<para>The Select method selects the text or sets the
cursor position for the associated edit control. If the starting index equals
the ending index, no text is selected and the cursor is set to the character
at the specified index. If the ending index is 0 and the starting index is
1, the entire text is selected.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The arguments are:
<variablelist>
<varlistentry><term>start</term>
<listitem><para>A one-based index where the selection begins or the cursor is to be
set.
</para></listitem></varlistentry>
<varlistentry><term>end</term>
<listitem><para>A one-based index where the selection ends.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>See <link linkend="selected">Selected</link>.
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="scrollcommand"><title>ScrollCommand</title>
<indexterm><primary>ScrollCommand</primary></indexterm>
<programlisting>
<![CDATA[
                                    +-UP--------+
>>-anEditControl~ScrollCommand(--"--+-----------+--"--+----------------+--)-><
                                    +-LEFT------+     +-,--repetitions-+
                                    +-DOWN------+
                                    +-RIGHT-----+
                                    +-PAGEUP----+
                                    +-PAGELEFT--+
                                    +-PAGEDOWN--+
                                    +-PAGERIGHT-+


]]>
</programlisting>

<para>The ScrollCommand method scrolls the associated
edit control in a given direction.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The arguments are:
<variablelist>
<varlistentry><term>command</term>
<listitem><para>Specifies the direction and the step size of the scroll command. Possible
values are:
<variablelist>
<varlistentry><term>UP or LEFT</term>
<listitem><para>Scrolls up one line. UP is the default.
</para></listitem></varlistentry>
<varlistentry><term>DOWN or RIGHT</term>
<listitem><para>Scrolls down one line.
</para></listitem></varlistentry>
<varlistentry><term>PAGEUP or PAGELEFT</term>
<listitem><para>Scrolls up one page.
</para></listitem></varlistentry>
<varlistentry><term>PAGEDOWN or PAGERIGHT</term>
<listitem><para>Scrolls down one page.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
<varlistentry><term>repetitions</term>
<listitem><para>The number of times the scroll command is to be issued. If this argument
is omitted, the scroll command is issued once.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>The following example scrolls down 3 lines in the edit control:
<programlisting>
<![CDATA[
edit = MyDialog~GetEditControl("NAME")
if edit == .Nil then return
edit~ScrollCommand("DOWN",3)
]]>
</programlisting>
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="linescroll"><title>LineScroll</title>
<indexterm><primary>LineScroll</primary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~LineScroll(--sChars--,--sLines--)-------------><


]]>
</programlisting>

<para>The LineScroll method scrolls the text in a multiline
edit control vertically or horizontally by the specified number of characters
and lines.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The arguments are:
<variablelist>
<varlistentry><term>sChars</term>
<listitem><para>The number of characters to be scrolled horizontally.
</para></listitem></varlistentry>
<varlistentry><term>sLines</term>
<listitem><para>The number of lines to be scrolled vertically.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
<listitem><para>0 if the message is sent to a multiline edit control, or a non-zero
value if the message is sent to a single-line edit control.
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>The following example scrolls an edit control by 50 characters and 35
lines:
<programlisting>
<![CDATA[
edit~Scroll(50, 35)
]]>
</programlisting>
</para></listitem></varlistentry>
</variablelist>

<note><title>Note</title><para>
The edit control does not scroll vertically past the last
line of text. If the current line, plus the number of lines specified by <emphasis role="italic">sLines</emphasis>, exceeds the total number of lines in the edit control, the last
line of the edit control is scrolled to the top. The LineScroll message can,
however, be used to scroll horizontally past the last character of a line.
</para></note>
</section>

<section id="ensurecaretvisibility"><title>EnsureCaretVisibility</title>
<indexterm><primary>EnsureCaretVisibility</primary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~EnsureCaretVisibility-------------------------><


]]>
</programlisting>

<para>The EnsureCaretVisibility method scrolls the edit
control until the caret (cursor) is visible.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
<listitem><para>0 if the object is associated with an existing edit control.
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="ismodified"><title>IsModified</title>
<indexterm><primary>IsModified</primary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~IsModified------------------------------------><


]]>
</programlisting>

<para>The IsModified method retrieves information on
whether the edit control has been modified.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
<listitem><para>
<variablelist>
<varlistentry><term>1</term>
<listitem><para>The text in the edit control has been altered.
</para></listitem></varlistentry>
<varlistentry><term>0</term>
<listitem><para>For all other cases.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>
<programlisting>
<![CDATA[
if edit~IsModified = 1 then MyDialog~Save
]]>
</programlisting>
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="setmodified"><title>SetModified</title>
<indexterm><primary>SetModified</primary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~SetModified(--bool--)-------------------------><


]]>
</programlisting>

<para>The SetModified method sets the flag to indicate
whether the edit control has been modified.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The only argument is:
<variablelist>
<varlistentry><term>bool</term>
<listitem><para>
<variablelist>
<varlistentry><term>1</term>
<listitem><para>The flag indicates that the text has been altered.
</para></listitem></varlistentry>
<varlistentry><term>0</term>
<listitem><para>For all other cases.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>In the following example, the Save method stores the dialog contents
in a file and clears the modified flag:
<programlisting>
<![CDATA[
::method Save
    /* write contents to file */
    edit = MyDialog~GetEditControl("TEXT")
    ...
    edit~SetModified(0)
]]>
</programlisting>
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="lines"><title>Lines</title>
<indexterm><primary>Lines</primary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~Lines-----------------------------------------><


]]>
</programlisting>

<para>The Lines method retrieves the number of text lines
of a multiline edit control.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
<listitem><para>The number of text lines.
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>For an example, refer to <link linkend="lineindex">LineIndex</link>.
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="lineindex"><title>LineIndex</title>
<indexterm><primary>LineIndex</primary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~LineIndex(--line--)---------------------------><


]]>
</programlisting>

<para>The LineIndex method retrieves the one-based character
index of the beginning of the <emphasis role="italic">line</emphasis> in the associated edit control.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The only argument is:
<variablelist>
<varlistentry><term>line</term>
<listitem><para>The number of the line of which the starting index is to be retrieved.
Line numbers are incremented by 1, starting with 1.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
<listitem><para>The character index of the specified line. The first line starts at
index 1.
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>The following example sets a text for edit control TEXT and displays
the number of text lines (3), the starting index of the second line (carriage
return and line feed, which mark a line break, are also considered to be characters),
and the length of the third line:
<programlisting>
<![CDATA[
edit = MyDialog~GetEditControl("TEXT")
if edit == .Nil then return

"It is easy to learn and easy to use." || 13~d2c || 10~d2c ||,
"Have fun with it!"
say "Number of lines:" edit~lines
     say "Line 2 begins at index" edit~LineIndex(2)
     say "Length of 3rd line:" edit~LineLength(3)

Result: The number of lines: 3
        Line 2 begins at index 37
        Length of 3rd line: 17
]]>
</programlisting>
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="linelength"><title>LineLength</title>
<indexterm><primary>LineLength</primary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~LineLength(--line--)--------------------------><


]]>
</programlisting>

<para>The LineLength method retrieves the number of characters
contained in the <emphasis role="italic">line</emphasis> in the associated edit control.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The only argument is:
<variablelist>
<varlistentry><term>line</term>
<listitem><para>The number of the line of which the number of characters is to be retrieved.
Line numbers are incremented by 1, starting with 1.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
<listitem><para>The length of the given line.
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>For an example, refer to <link linkend="lineindex">LineIndex</link>.
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="linefromindex"><title>LineFromIndex</title>
<indexterm><primary>LineFromIndex</primary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~LineFromIndex(--index--)----------------------><


]]>
</programlisting>

<para>The LineFromIndex method retrieves the one-based
line number that contains the character index <emphasis role="italic">index</emphasis>.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The only argument is:
<variablelist>
<varlistentry><term>index</term>
<listitem><para>The one-based character index contained in the line whose number is
to be retrieved.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
<listitem><para>The line number containing the specified character index. The first
line starts at index 1. If the specified index exceeds the number of characters
contained in the edit control or an invalid character index was specified,
0 is returned.
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>The following example displays the line in which character 55 is contained:
<programlisting>
<![CDATA[
edit = MyDialog~GetEditControl("TEXT")
if edit == .Nil then return

"It is easy to learn and easy to use." || 13~d2c || 10~d2c ||,
"Have fun with it!"
say "Character 55 is contained in line" edit~LineFromIndex(55)

Result: Character 55 is contained in line 2
]]>
</programlisting>
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="replaceseltext"><title>ReplaceSelText</title>
<indexterm><primary>ReplaceSelText</primary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~ReplaceSelText(--text--)----------------------><


]]>
</programlisting>

<para>The ReplaceSelText method replaces the selected
text in the associated edit control with a new one.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The only argument is:
<variablelist>
<varlistentry><term>text</term>
<listitem><para>The text string that is to replace the currently selected text.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>
<programlisting>
<![CDATA[
edit = MyDialog~GetEditControl("TEXT")
if edit == .Nil then return
edit~Title = "Object Rexx is a hybrid language."
edit~Select(17,25)
    edit~ReplaceSelText("n interpreted")
    say edit~Title

Result: Object Rexx is an interpreted language.
]]>
</programlisting>
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="setlimit"><title>SetLimit</title>
<indexterm><primary>SetLimit</primary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~SetLimit(--chars--)---------------------------><


]]>
</programlisting>

<para>The SetLimit method sets the maximum numbers of
characters that the associated edit control can contain.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The only argument is:
<variablelist>
<varlistentry><term>chars</term>
<listitem><para>The number of characters that the edit control can contain.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="passwordcharset"><title>PasswordChar=</title>
<indexterm><primary>PasswordChar=</primary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~PasswordChar=--char---------------------------><


]]>
</programlisting>

<para>The PasswordChar= method sets the character that
is displayed in an edit control for which the PASSWORD or ES_PASSWORD flag
is set.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The only argument is:
<variablelist>
<varlistentry><term>char</term>
<listitem><para>The character that is displayed for the typed characters.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>The following example ensures that if the PASSWORD style was chosen
for the edit control, the dollar sign ($) is displayed
for each character typed in the edit control:
<programlisting>
<![CDATA[
edit = MyDialog~GetEditControl("TEXT")
if edit == .Nil then return
edit~PasswordChar = "$"
say "The new password character is" edit~PasswordChar
]]>
</programlisting>
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="passwordchar"><title>PasswordChar</title>
<indexterm><primary>PasswordChar</primary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~PasswordChar----------------------------------><


]]>
</programlisting>

<para>The PasswordChar method retrieves the character
that is displayed in an edit control for which the PASSWORD option or ES_PASSWORD
style was set.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
<listitem><para>The character that is displayed instead of the characters contained
in the edit control. If the edit control is no password field or no password
character was set, an empty string is returned.
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>For an example, refer to <link linkend="passwordcharset">PasswordChar=</link>.
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="firstvisibleline"><title>FirstVisibleLine</title>
<indexterm><primary>FirstVisibleLine</primary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~FirstVisibleLine------------------------------><


]]>
</programlisting>

<para>The FirstVisibleLine method retrieves the one-based
line number of the first line visible in a multiline edit control.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
<listitem><para>The number of the first visible line, starting with 1.
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>For an example, refer to <link linkend="passwordcharset">PasswordChar=</link>.
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="setreadonly"><title>SetReadOnly</title>
<indexterm><primary>SetReadOnly</primary></indexterm>
<programlisting>
<![CDATA[
                               +-1-+
>>-anEditControl~SetReadOnly(--+---+--)------------------------><
                               +-0-+


]]>
</programlisting>

<para>The SetReadOnly method sets or unsets the read-only
flag for the associated edit control. If the read-only flag is set, the user
can no longer modify the text of the edit control.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The only argument is:
<variablelist>
<varlistentry><term>bool</term>
<listitem><para>1 if the edit control is to be marked as a read-only field (the default),
or 0 if new text can be typed into the edit control.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
<listitem><para>0 if this method was successful.
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="setmargins"><title>SetMargins</title>
<indexterm><primary>SetMargins</primary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~SetMargins(--left--,--right--)----------------><


]]>
</programlisting>

<para>The SetMargins method sets the left and right margins
for the associated edit control. The margins determine the spacing to the
left and right of the edit control.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The arguments are:
<variablelist>
<varlistentry><term>left</term>
<listitem><para>The left margin, specified in screen pixels.
</para></listitem></varlistentry>
<varlistentry><term>right</term>
<listitem><para>The right margin, specified in screen pixels.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>The following example sets the margins for edit control TEXT such that
the left indent is 10 screen pixels and on the right there is a spacing of
5 pixels between the text and the frame of the edit control:
<programlisting>
<![CDATA[
edit = MyDialog~GetEditControl("TEXT")
if edit == .Nil then return
edit~SetMargins(10, 5)
     parse value edit~Margins with left right
     say "The new left margin is" left" and the new right margin is" right
]]>
</programlisting>
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="margins"><title>Margins</title>
<indexterm><primary>Margins</primary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~Margins---------------------------------------><


]]>
</programlisting>

<para>The Margins method retrieves the left and right
margins of the associated edit control.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
<listitem><para>The left and right margins, in screen pixels, separated by a blank.
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>For an example, refer to <link linkend="setmargins">SetMargins</link>.
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="getline"><title>GetLine</title>
<indexterm><primary>GetLine</primary></indexterm>
<programlisting>
<![CDATA[
>>-anEditControl~GetLine--(--line--+--------------+--)---------><
                                   +-,--maxLength-+


]]>
</programlisting>

<para>The GetLine method retrieves the text string contained
in the specified line.</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The arguments are:
<variablelist>
<varlistentry><term>line</term>
<listitem><para>The one-based line number to be retrieved.
</para></listitem></varlistentry>
<varlistentry><term>maxLength</term>
<listitem><para>The maximum number of characters to be retrieved. Object Rexx allocates
the appropriate amount of memory to store the text string. If the line consists
of more characters than fit in the memory, the text string is truncated. If
you omit this argument, the maximum number of characters retrieved is 255.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
<listitem><para>A text string or an empty string.
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>The following example stores all lines contained in edit control EDITOR
in a stem. If a line consists of more than 1024 characters, it is truncated.
<programlisting>
<![CDATA[
edit = MyDialog~GetEditControl("EDITOR")
if edit == .Nil then return
do i = 1 to edit~Lines
   lines.i = edit~GetLine(i, 1024)
end
]]>
</programlisting>
</para></listitem></varlistentry>
</variablelist>

<note><title>Note</title><para>
The carriage return and line-feed characters are not included
in the returned text string. To get the contents of a single line edit control,
use the Title method (see page <link linkend="title">Title</link>) or call
GetLine(i, 1024).
</para></note>
</section>
</chapter>
