<!--#########################################################################
    #
    # Description: Open Object Rexx: OODialog Reference SGML file.
    #
    # Copyright (c) 2008-2010, Rexx Language Association. All rights reserved.
    # Portions Copyright (c) 2004, IBM Corporation. All rights reserved.
    #
    # This program and the accompanying materials are made available under
    # the terms of the Common Public License v1.0 which accompanies this
    # distribution. A copy is also available at the following address:
    # http://www.oorexx.org/license.html
    #
    # Redistribution and use in source and binary forms, with or
    # without modification, are permitted provided that the following
    # conditions are met:
    #
    # Redistributions of source code must retain the above copyright
    # notice, this list of conditions and the following disclaimer.
    # Redistributions in binary form must reproduce the above copyright
    # notice, this list of conditions and the following disclaimer in
    # the documentation and/or other materials provided with the distribution.
    #
    # Neither the name of Rexx Language Association nor the names
    # of its contributors may be used to endorse or promote products
    # derived from this software without specific prior written permission.
    #
    # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
    # "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
    # LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
    # FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
    # OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
    # SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
    # TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
    # OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
    # OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    # NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
    # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
    #
    # Author(s):
    #      W. David Ashley <dashley@us.ibm.com>
    #
    #########################################################################
-->

<section id="clsWindowBase"><title>WindowBase Mixin Class</title>
<indexterm><primary>WindowBase Class</primary></indexterm>
<para>
  WindowBase is a mixin class with methods that are common to all windows.  It is inherited by both <link
  linkend="chpDialogObject">dialog</link> and dialog control classes.
</para>
<para>
  The instance methods implemented by the WindowBase class are listed here as a cross reference. The
  methods are fully documented in other sections of this book. Each method listed has a link to the full
  documentation for that method and an accurate syntax diagram.
</para>
<para>
  Both the PlainBaseDialog and the DialogControl classes inherit the WindowBase class.  Since the
  PlainBaseDialog is the base class for all dialogs and the DialogControl class is the base class for all
  controls, every dialog object and every dialog control object have the instance methods listed here.
</para>

<programlisting format='linespecific'>
>>--<link linkend="disable">disable</link>----------------------------><


</programlisting>


<programlisting format='linespecific'>
>>--<link linkend="enable">enable</link>-----------------------------><


</programlisting>


<programlisting format='linespecific'>
>>--<link linkend="mthGetExStyleRaw">getExStyleRaw</link>----------------------><


</programlisting>


<programlisting format='linespecific'>
>>--<link linkend="getId">getID</link>------------------------------><


</programlisting>


<programlisting format='linespecific'>
>>--<link linkend="mthGetPos">getPos</link>-----------------------------><


</programlisting>


<programlisting format='linespecific'>
>>--<link linkend="mthGetStyleRaw">getStyleRaw</link>------------------------><


</programlisting>


<programlisting format='linespecific'>
>>--<link linkend="hide">hide</link>-------------------------------><


</programlisting>


<programlisting format='linespecific'>
>>--<link linkend="mthIsEnabled">isEnabled</link>--------------------------><


</programlisting>


<programlisting format='linespecific'>
>>--<link linkend="mthIsVisible">isVisible</link>--------------------------><


</programlisting>


<programlisting format='linespecific'>
>>--<link linkend="move">move</link>(--xPos--,--yPos--+----------------------+--)-------------------------><
                          +-,-"--showOptions--"--+


</programlisting>


<programlisting format='linespecific'>
>>--<link linkend="resize">resize</link>(--width--,--height--+----------------------+--)--------------------><
                               +-,-"--showOptions--"--+


</programlisting>


<programlisting format='linespecific'>
>>--<link linkend="settitle">setTitle</link>(--new_title--)---------------------------------------------------><


</programlisting>


<note><title>Note</title><para>
  The PlainBaseDialog overrides the show() method to take an optional argument.
</para></note>


<programlisting format='linespecific'>
>>--<link linkend="showdc">show</link>-------------------------------><


</programlisting>


<programlisting format='linespecific'>
>>--<link linkend="show">show</link>(--"--+--------+--"--)------------------------------------------------><
              +--mode--+


</programlisting>


<programlisting format='linespecific'>
>>--<link linkend="title">title</link>------------------------------><


</programlisting>


<programlisting format='linespecific'>
>>--<link linkend="mthTitleEquals">title=</link>-newTitle------------------------------------------------------------><


</programlisting>


<section id="mthGetSize"><title>getSize</title>
<indexterm><primary>getSize</primary></indexterm>
<indexterm><primary>dialog object</primary><secondary>getSize</secondary></indexterm>
<indexterm><primary>dialog control object</primary><secondary>getSize</secondary></indexterm>
<programlisting>
<![CDATA[
>>--getSize----------------------------------------------------><


]]>
</programlisting>

<para>
  The <emphasis role="italic">getSize</emphasis> method returns the width and height of the in dialog units.
</para>
<variablelist>
  <varlistentry><term><emphasis role="bold">Details</emphasis></term>
  <listitem>
    <para>
      This method can only be used after the <link linkend="ovvUnderlying">underlying Windows dialog</link> has been
      created.
    </para>
    <para>
      Raises syntax errors for incorrect usage.
    </para>
  </listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
<listitem><para>The width and height, separated by a blank.
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>For an example, see <link linkend="resize">Resize</link>.
</para></listitem></varlistentry>
</variablelist>
</section>


<section id="mthGetTextSizePx"><title>getTextSizePx</title>
<indexterm><primary>getTextSizePx</primary></indexterm>
<programlisting>
<![CDATA[
>>--getTextSizePx(-text--)-------------------------------------><

]]>
</programlisting>

<para>
  Gets the size, width and height, in pixels, needed to display a string in this window. To calculate the size in dialog
  units use the <link linkend="mthGetTextSizeDu">getTextSizeDu</link>() method.
</para>
<variablelist>
  <varlistentry><term><emphasis role="bold">Details</emphasis></term>
  <listitem>
  <para>
    This method can only be used after the <link linkend="ovvUnderlying">underlying Windows dialog</link> has been
    created.
  </para>
  <para>
    Raises syntax errors for incorrect usage.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
  <listitem>
  <para>The only argument is:
  <variablelist>
    <varlistentry><term>text</term>
    <listitem>
      <para>
        The string whose size is desired.
      </para>
    </listitem></varlistentry>
  </variablelist>
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
  <listitem>
  <para>
    The size needed for the string is returned in a <link linkend="clsSize">Size</link> object.  The size is specified
    in pixels.
  </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Example:</emphasis></term>
  <listitem>
  <para>
    This example uses 2 static controls to display two strings.  The static controls are positioned so that the second
    string immediately follows the first string.  The size calculated is based on the font currently in use by the
    controls.  The calculation is correct no matter what font is in use by the controls, even if the two controls use
    different fonts.  (This is a contrived example, to illustrate the method. Instead of having a space character in
    between the 2 strings, the ending "t" and the beginning "a" are positioned with no space between them.)
<programlisting>
<![CDATA[
stFont1 = self~newStaticText(IDC_ST_FONT1)
stFont2 = self~newStaticText(IDC_ST_FONT2)

-- Get the size needed for the message
size = stFont1~getTextSizePx("San Diego is great")
r = .Rect~new(1, 1, size~width, size~height)

stFont1~setText("San Diego is great")
stFont1~setRect(r)

size = stFont2~getTextSizePx("and ooRexx is the best")
r~left = 1 + r~right + 1
r~right = size~width
r~bottom = size~height

stFont2~setText("and ooRexx is the best")
stFont2~setRect(r)
]]>
</programlisting>
  </para>
  </listitem>
  </varlistentry>
</variablelist>
</section>  <!-- End WindowBase::getTextSizePx() -->

<section id="mthGetTextSizeScreen"><title>getTextSizeScreen</title>
<indexterm><primary>getTextSizeScreen</primary></indexterm>
<programlisting>
<![CDATA[
>>--getTextSizeScreen(-text--+---------+--+------------+--+-------------+-)----><
                             +-,-type--+  +-,-fontSrc--+  +-,-fontSize--+
]]>
</programlisting>

<para>
  Gets the size, width and height, in pixels, needed to display a string in a specific font.
</para>
<note><title><emphasis role="bold">Note</emphasis></title><para>
  This method can only be used after the underlying Windows dialog has been created.  In general this
  means in the <link linkend="mthInitDialog">initDialog</link>() method or later in the life cycle of the
  dialog.  If this method is invoked prior to the creation of the underlying dialog, a syntax error is
  rasised.
</para></note>
<variablelist>
  <varlistentry><term><emphasis role="bold">Details</emphasis></term>
  <listitem>
    <para>
      This method can only be used after the <link linkend="ovvUnderlying">underlying Windows dialog</link> has been
      created.
    </para>
    <para>
      Raises syntax errors for incorrect usage.
    </para>
    <para>
      Part of the purpose of this method is to provide backwards compatibility to the <link
      linkend="ovvDeprecated">deprecated</link> <emphasis role="italic">getTextSize</emphasis> method. This is the
      reason for the rather convulted arguments. In general, the Rexx programmer should always use the <link
      linkend="mthGetTextSizePx">getTextSizePx</link>() method.
    </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
  <listitem>
    <para>The arguments are:
    <variablelist>
      <varlistentry><term>text</term>
      <listitem>
        <para>
          The string whose size is desired.  If none of the optional arguments are specified then the font in use by
          this window (dialog or dialog control object) is used to calculate the size. This usage is exactly the same as
          using the <emphasis role="italic">getTextSizePx</emphasis> method.
        </para>
      </listitem></varlistentry>
      <varlistentry><term>type</term>
      <listitem>
        <para>
          Optional.  However, if any of the optional arguments are used this argument is required. It signals what
          fontSrc is.  The allowed types are:
          <variablelist>
            <varlistentry><term>Indirect</term>
            <listitem>
              <para>
                fontSrc is a font name and fontSize is the size of the font.  The calculation is done indirectly by
                temporarily obtaining a logical font using these parameters.
              </para>
            </listitem></varlistentry>
            <varlistentry><term>DC</term>
            <listitem>
              <para>
                fontSrc is a handle to a device context.  The correct font for the calculation must already be selected
                into this device context. fontSize is ignored. See the <link linkend="getdc">getDC</link>() and <link
                linkend="mthFontToDC">fontToDC</link>() methods for information on obtaining a device context and selecting
                a font into it.
              </para>
            </listitem></varlistentry>
            <varlistentry><term>Font</term>
            <listitem>
              <para>
                fontSrc is a handle to a font. fontSize is ignored.
              </para>
            </listitem></varlistentry>
          </variablelist>
          Only the first letter of type is needed and case is not significant.
        </para>
      </listitem></varlistentry>
      <varlistentry><term>fontSrc</term>
      <listitem>
        <para>
          Optional. The source of the font to use in calculating the size.  This argument object must match the type
          specification argument. It can be either a string, (a font name,) a handle to a device context, or a handle to
          a font.
        </para>
      </listitem></varlistentry>
      <varlistentry><term>fontSize</term>
      <listitem>
        <para>
          Optional. The size of the font. This argument is always ignored unless the type argument is Indirect. If type
          is Indirect and this argument is omitted then the defualt font size is used. (Currently the default size is
          8.)
        </para>
      </listitem></varlistentry>
    </variablelist>
    </para>
  </listitem></varlistentry>
  <varlistentry><term><emphasis role="bold">Return value:</emphasis></term>
  <listitem>
    <para>
      The size needed for the string is returned in a <link linkend="clsSize">Size</link> object.  The
      size is specified in pixels.
    </para>
  </listitem></varlistentry>
</variablelist>
</section>  <!-- End WindowsExtensions::getTextSizeScreen() -->

