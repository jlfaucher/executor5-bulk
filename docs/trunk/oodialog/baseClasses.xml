<!--#########################################################################
    #
    # Description: Open Object Rexx: ooDialog Reference SGML file.
    #
    # Copyright (c) 2005-2010, Rexx Language Association. All rights reserved.
    # Portions Copyright (c) 2004, IBM Corporation. All rights reserved.
    #
    # This program and the accompanying materials are made available under
    # the terms of the Common Public License v1.0 which accompanies this
    # distribution. A copy is also available at the following address:
    # http://www.oorexx.org/license.html
    #
    # Redistribution and use in source and binary forms, with or
    # without modification, are permitted provided that the following
    # conditions are met:
    #
    # Redistributions of source code must retain the above copyright
    # notice, this list of conditions and the following disclaimer.
    # Redistributions in binary form must reproduce the above copyright
    # notice, this list of conditions and the following disclaimer in
    # the documentation and/or other materials provided with the distribution.
    #
    # Neither the name of Rexx Language Association nor the names
    # of its contributors may be used to endorse or promote products
    # derived from this software without specific prior written permission.
    #
    # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
    # "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
    # LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
    # FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
    # OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
    # SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
    # TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
    # OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
    # OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    # NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
    # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
    #
    # Author(s):
    #      W. David Ashley <dashley@us.ibm.com>
    #
    #########################################################################
-->
<chapter id="chpBaseObjects"><title>Base and Mixin Classes</title>
<indexterm><primary>Base classes</primary></indexterm>
<indexterm><primary>Base Mixin classes</primary></indexterm>
<para>
   ooDialog programs primarily deal with dialog and dialog control objects. The top-level objects in the programs, say
   a <link linkend="clsUserDialog">user dialog</link> or a <link linkend="clsButton">button control</link> are
   actually composed of a number of base objects and / or mixin classes. All dialog and dialog control objects contain
   the methods of their component base classes.
</para>
<para>
  To make it easier to understand the methods and attributes that all dialogs have in common, this documentation treats
  <link linkend="chpDialogObject">the dialog object</link> as a whole.  The dialog object chapter shows all the methods
  and attributes that every dialog has, without making much distinction as to what specific mixin or base class the
  method belongs to. The <link linkend="chpDialogControlObject">dialog control object</link>, is treated in a similar fashion
  it its chapter.
</para>
<para>
  This chapter describes the base and mixin classes that make up the dialog object and the dialog control object and
  shows how they fit together. In addition, it contains the detailed information for the mixin classes inherited by both
  the dialog and dialog control object. The <link linkend="chpDialogObject">dialog object</link> and the <link
  linkend="chpDialogControlObject">dialog control object</link> chapters link back to this chapter for the detailed
  information where needed.
</para>

<section id="sctComponentClassesDiagram"><title>Component Classes Diagram</title>
<para>
  The diagram shown here shows the relation between the dialog and the dialog control objects and their respecitive
  component classes. The abstract classes are shown in red. The mixin classes in green.  And the concrete subclasses in
  blue.
</para>

<figure id="figComponentClassesDiagram"><title>Components</title>
<mediaobject>
<imageobject>
<!-- Note! - if we include a /imagedata tag we get an error for DSSSL! -->
<imagedata fileref="dialog_dialogControl_objects_classDiagram.jpg" scale="50">
</imageobject>
</mediaobject>
</figure>
</section>

<section id="clsPlainBaseDialog"><title>PlainBaseDialog</title>
<indexterm><primary>PlainBaseDialog Class</primary></indexterm>
<para>
  PlainBaseDialog is the base class of all dialog classes in the ooDialog framework.  It implements methods that are
  common to every dialog.  PlainBaseDialog is an abstract class. A programmer can not instantiate a new PlainBaseDialog
  object and display a dialog on the screen. Rather, the ooDialog programmer subclasses one of the concrete classes
  provided by the ooDialog framework, such as the <link linkend="clsResDialog">ResDialog</link>, the <link
  linkend="clsRcDialog">RcDialog</link>, or the <link linkend="clsUserDialog">UserDialog</link>, to create and
  execute a real dialog.
</para>
<para>
  Many of the methods of the PlainBaseDialog are actually implemented in one of the mixin classes inherited by the
  PlainBaseDialog. See this <link linkend="figComponentClassesDiagram">diagram</link> to visualize the inheritance. In
  essence the PlainBaseDialog is the <link linkend="chpDialogObject">dialog object</link>. All the methods and
  attributes of the PlainBaseDialog are listed in the dialog object chapter. This includes the methods and attributes of
  its inherited mixin classes.
</para>
<para>
  The PlainBaseDialog inherits the following mixin classes:
  <itemizedlist>
  <listitem><para><link linkend="clsWindowBase">WindowBase</link></para></listitem>
  <listitem><para><link linkend="clsWindowExtensions">WindowExtensions</link></para></listitem>
  <listitem><para><link linkend="clsDialogExtensions">DialogExtensions</link></para></listitem>
  <listitem><para><link linkend="clsEventNotification">EventNotification</link></para></listitem>
  <listitem><para><link linkend="clsResourceutils">ResourceUtils</link></para></listitem>
  </itemizedlist>
</para>
</section>

<section id="clsDialogControl"><title>DialogControl</title>
<indexterm><primary>DialogControl Class</primary></indexterm>
<para>
  In a similar manner to <link linkend="clsPlainBaseDialog">PlainBaseDialog</link> and dialogs, <emphasis
  role="italic">DialogControl</emphasis> is the base class of all dialog control classes in the ooDialog framework.  It
  implements methods that are common to every dialog control. DialogControl is also an abstract class. A programmer can
  not instantiate a new DialogControl object. Rather, one of the concrete dialog control classes such as, the <link
  linkend="clsDateTimePicker">DateTimePicker</link> or the <link linkend="clsListView">ListView</link>, are used.
</para>
<para>
  See this <link linkend="figComponentClassesDiagram">diagram</link> to visualize the mixin classes that the
  DialogControl inherits. In essence the DialogControl is the <link linkend="chpDialogControlObject">dialog control
  object</link>. All the methods and attributes of the DialogControl are listed and documented in the dialog control
  object chapter. This includes the methods and attributes of its inherited mixin classes.
</para>
<para>
  The DialogControl inherits the following mixin classes:
  <itemizedlist>
  <listitem><para><link linkend="clsWindowBase">WindowBase</link></para></listitem>
  <listitem><para><link linkend="clsWindowExtensions">WindowExtensions</link></para></listitem>
  </itemizedlist>
</para>
</section>

<!-- <section id="clsWindowBase"><title>WindowBase Mixin Class</title> START -->
&windowBase;
<!-- <section id="clsWindowBase"><title>WindowBase Mixin Class</title> END   -->

<!-- <section id="clsWindowExtensions"><title>WindowExtensions Mixin Class</title> START -->
&windowExtensions;
<!-- <section id="clsWindowExtensions"><title>WindowExtensions Mixin Class</title> END   -->

<section id="clsDialogExtensions"><title>DialogExtensions Mixin Class</title>
<indexterm><primary>DialogExtensions Class</primary></indexterm>
<para>
  x
</para>
</section>

<section id="clsEventNotification"><title>EventNotification Mixin Class</title>
<indexterm><primary>EventNotification class</primary></indexterm>
<para>
  The event notification class is a <emphasis role="italic">Mixin</emphasis> class that contains methods that connect
  the notification of a Windows <link linkend="ovvEvents">event</link> sent to the <link
  linkend="ovvUnderlying">underlying</link> dialog with a method in the Rexx dialog object. Except as noted below, the
  Rexx programmer adds the method to her dialog subclass. Once the event notification is connected, each time the event
  occurs, the connected method is invoked. The programmer codes the method to take the appropiate action for the event.
</para>
<para>
  In the Windows user interface, as the user interacts with the system, events are generated that specify what the
  action of the user was. Mouse clicks, keyboard presses, moving or sizing windows, all generate events.
</para>
<para>
  Some simple examples of how this works:
<itemizedlist>
<listitem>
<para>
  For push buttons you connect a method to one of the events the button control notifies its parent dialog of. Typically
  the CLICKED event is connected. Then, the connected method is called each time the button is pressed (clicked.)
</para>
</listitem>
<listitem>
<para>
  List boxes, multiple-select list boxes, and combo boxes can be connected to a method that is called each time a line
  in the list box or combo box is selected.
</para>
</listitem>
<listitem>
<para>
  For a scroll bar you can specify different methods that are called depending on the user action. The user can click on
  the arrow buttons, drag the thumb, or use the page down / page up keys.
</para>
</listitem></itemizedlist>
</para>
<para>
  Whenever a dialog object is instantiated, the ooDialog framwork <link
  linkend="sctStandardEventMethods">automatically</link> makes several event connections. For all other events the Rexx
  programmer, usually, needs to specifically connect the event to his dialog, through one of the event notification
  methods, to be able to respond to the event. However, in a <link linkend="clsUserDialog">UserDialog</link>, some of
  the methods that create dialog controls have an option that automatically connects an event to a dialog method.
  However, for most events, say the resize or move events, the connection needs to be made explicitly.  Indeed, except
  for trivial dialogs, most of the programming is deciding which events to be notified of and taking action upon
  receiving the notification.
</para>
<para id="paraWhereToConnectEvents">
  In general, events should be connected before the dialog is shown on the screen, or immediately after the dialog is
  created. However, the programmer can place the invocation where ever it makes the most sense. Connecting the events in
  the <link linkend="mthInitDialog">initDialog</link>() method is usually sufficient. In a
  <computeroutput>UserDialog</computeroutput>, the <link linkend="mthDefineDialog">defineDialog</link>() method also
  makes a good place for the connect event methods. If the programmer is overriding the <emphasis
  role="italic">init</emphasis>() method, the connect event methods can be placed there.  But, in this case, do not
  invoke the connect event method until <emphasis role="bold">after</emphasis> the <link
  linkend="mthNewDialogObject">superclass</link> has been initialized.
</para>

<section id="enConnectHelp"><title>connectHelp</title>
<programlisting>
<link linkend="mthConnectHelp">connectHelp</link>

<![CDATA[
>>--connectHelp(--methodname--)--------------------------------><
]]>
</programlisting>
</section>

<section id="enConnectResize"><title>connectResize</title>
<programlisting>
<link linkend="mthConnectResize">connectResize</link>

<![CDATA[
>>--connectResize(--methodName--)------------------------------><
]]>
</programlisting>
</section>

<section id="enConnectMove"><title>connectMove</title>
<programlisting>
<link linkend="mthConnectMove">connectMove</link>

<![CDATA[
>>--connectMove(--methodName--)--------------------------------><
]]>
</programlisting>
</section>

<section id="enConnectPosChanged"><title>connectPosChanged</title>
<programlisting>
<link linkend="mthConnectPosChanged">connectPosChanged</link>

<![CDATA[
>>--connectPosChanged(--methodName--)--------------------------><
]]>
</programlisting>
</section>

<section id="enConnectDraw"><title>connectDraw</title>
<programlisting>
<link linkend="mthConnectDraw">connectDraw</link>

<![CDATA[
>>--connectDraw--(--+-----+--+---------------+--)--------------><
                    +--id-+  +-,--methodName-+
]]>
</programlisting>
</section>

<section id="enConnectMouseCapture"><title>connectMouseCapture</title>
<programlisting>
<link linkend="mthConnectMouseCapture">connectMouseCapture</link>

<![CDATA[
>>--connectMouseCapture(--methodName--)------------------------><
]]>

</programlisting>
</section>

<section id="enConnectButtonEvent"><title>connectButtonEvent</title>
<programlisting>
<link linkend="mthConnectButtonEvent">connectButtonEvent</link>

<![CDATA[
>>--connectButtonEvent(--id--,--event--+---------------+--)--------------------><
                                       +-,--methodName=+
]]>
</programlisting>
</section>

<section id="enConnectCommandEvents"><title>connectCommandEvents</title>
<programlisting>
<link linkend="mthConnectCommandEvents">connectCommandEvents</link>

<![CDATA[
>>--connectCommandEvents(--id--,--methodName--)----------------><
]]>
</programlisting>
</section>

<section id="enConnectComboBoxEvent"><title>connectComboBoxEvent</title>
<programlisting>
<link linkend="mthConnectComboBoxEvent">connectComboBoxEvent</link>

<![CDATA[
>>--connectComboBoxEvent(--id--,--event--+---------------+--)------------------><
                                         +-,--methodName=+
]]>
</programlisting>
</section>

<section id="enConnectNotifyEvent"><title>connectNotifyEvent</title>
<programlisting>
<link linkend="mthConnectNotifyEvent">connectNotifyEvent</link>

<![CDATA[
>>--connectNotifyEvent(--id--,--event--+---------------+--)--------------------><
                                       +-,--methodName=+
]]>
</programlisting>
</section>

<section id="enConnectEditEvent"><title>connectEditEvent</title>
<programlisting>
<link linkend="mthConnectEditEvent">connectEditEvent</link>

<![CDATA[
>>--connectEditEvent(--id--,--event--+---------------+--)----------------------><
                                     +-,--methodName=+
]]>
</programlisting>
</section>

<section id="enConnectListBoxEvent"><title>connectListBoxEvent</title>
<programlisting>
<link linkend="mthConnectListBoxEvent">connectListBoxEvent</link>

<![CDATA[
>>--connectListBoxEvent(--id--,--event--+---------------+--)-------------------><
                                        +-,--methodName=+
]]>
</programlisting>
</section>

<section id="enConnectListViewEvent"><title>connectListViewEvent</title>
<programlisting>
<link linkend="mthConnectListViewEvent">connectListViewEvent</link>

<![CDATA[
>>--connectListviewEvent(--id--,--event--+---------------+--)------------------><
                                         +-,--methodName=+
]]>
</programlisting>
</section>

<section id="enConnectScrollBarEvent"><title>connectScrollBarEvent</title>
<programlisting>
<link linkend="mthConnectScrollBarEvent">connectScrollBarEvent</link>

<![CDATA[
>>--connectScrollBarEvent(--id--,--event--+---------------+--)-----------------><
                                          +-,--methodName=+
]]>
</programlisting>
</section>

<section id="enConnectEachSBEvent"><title>connectEachSBEvent</title>
<programlisting>
<link linkend="mthConnectEachSBEvent">connectEachSBEvent</link>

<![CDATA[
>>--connectEachSBEvent(-id-,-mthWhenUp-,-mthWhenDown-+---------------+-+-------+-+-------+-+-------+-->
                                                     +-,-mthWhenDrag-+ +-,-min-+ +-,-max-+ +-,-pos-+

>--+-----------+-+-----------+-+----------+-+--------------+-+-------------+-+-------------+-)--------><
   +-,-mthPgUp-+ +-,-mthPgDn-+ +-,-mthTop-+ +-,-progbuttom-+ +-,-progtrack-+ +-,-progendsc-+
]]>
</programlisting>
</section>

<section id="enConnectTrackBarEvent"><title>connectTrackBarEvent</title>
<programlisting>
<link linkend="mthConnectTrackBarEvent">connectTrackBarEvent</link>

<![CDATA[
>>--connectTrackBarEvent(--id--,--event--+---------------+--)------------------><
                                         +-,--methodName-+
]]>
</programlisting>
</section>

<section id="enConnectStaticEvent"><title>connectStaticEvent</title>
<programlisting>
<link linkend="mthConnectStaticEvent">connectStaticEvent</link>

<![CDATA[
>>--connectStaticNotify(--id--,--event--,-+---------------+--)-----------------><
                                          +-,--methodName-+
]]>
</programlisting>
</section>

<section id="enConnectTabEvent"><title>connectTabEvent</title>
<programlisting>
<link linkend="mthConnectTabEvent">connectTabEvent</link>

<![CDATA[
>>--connectTabEvent(--id--,--event--+---------------+--)-----------------------><
                                    +-,--methodName-+
]]>
</programlisting>
</section>

<section id="enConnectTreeViewEvent"><title>connectTreeViewEvent</title>
<programlisting>
<link linkend="mthConnectTreeViewEvent">connectTreeViewEvent</link>

<![CDATA[
>>--connectTreeViewEvent(--id--,--event--+---------------+--)------------------><
                                         +-,--methodName-+
]]>
</programlisting>
</section>

<section id="enConnectMonthCalendarEvent"><title>connectMonthCalendarEvent</title>
<programlisting>
<link linkend="mthConnectMonthCalendarEvent">connectMonthCalendarEvent</link>

<![CDATA[
>>--connectMonthCalendarEvent(--id--,--event--,-+---------------+--)-----------><
                                                +-,--methodName-+
]]>
</programlisting>
</section>

<section id="enConnectUpDownEvent"><title>conectUpDownEvent</title>
<programlisting>
<link linkend="mthConnectUpDownEvent">connectUpDownEvent</link>

<![CDATA[
>>--connectUpDownEvent(--id--,--event--+----------------+--)-------------------><
                                       +--,-methodName--+
]]>
</programlisting>

</section>

<section id="enAddUserMsg"><title>addUserMsg</title>
<programlisting>
<link linkend="mthAddUserMsg">addUserMsg</link>

<![CDATA[
>>--addUserMsg(-methodName-,-winMsg-+------+-+----------+-+------+-+----------+-+------+-><
                                    +-,-f1-+ +-,-wParam-+ +-,-f2-+ +-,-lParam-+ +-,-f3-+

]]>
</programlisting>

</section>

<section id="enDefListDragHandler"><title>defListDragHandler</title>
<programlisting>

<link linkend="mthDefListDragHandler">defListDragHandler</link>

<![CDATA[
>>-defListDragHandler(--id--,--item--,--point--)---------------><

]]>
</programlisting>
</section>

<section id="enDefTreeDragHandler"><title>defTreeDragHandler</title>
<programlisting>
<link linkend="mthDefTreeDragHandler">defTreeDragHandler</link>

<![CDATA[
>>-defTreeDragHandler(--id--,--item--,--point--)---------------><

]]>
</programlisting>
</section>

</section>

<section id="clsResourceUtils"><title>ResourceUtils Mixin Class</title>
<indexterm><primary>ResourceUtils Class</primary></indexterm>
<para>
  The <computeroutput>ResourceUtils</computeroutput> class provides utility methods for dealing with resource <link
  linkend="defResourceID">IDs</link> and parsing resource <link linkend="defResourceScript">script</link> files. The
  class is inherited by the <link linkend="chpDialogObject">dialog</link> object and also by the <link
  linkend="chpMenus">menu</link> classes.
</para>
<para>
  Most of the methods of the <computeroutput>ResourceUtils</computeroutput> class are used <link
  linkend="ovvUndocumented">internally</link> and not documented. However, the most important member of class is the
  <emphasis role="italic">constDir</emphasis>. The use of this attribute should be understood by the progammer and is
  documented <link linkend="chpDialogObject">dialog</link> object chapter.
</para>

<section id="ruConstDir"><title>constDir</title>
<programlisting>
<link linkend="atrConstDir">constDir</link>

<![CDATA[
>>--constDir---------------------------------------------------><

>>--constDir[symbol]-=-numericValue----------------------------><
]]>
</programlisting>
</section>

</section>

<section id="clsDynamicDialog"><title>DynamicDialog Mixin Class</title>
<indexterm><primary>DynamicDialog Class</primary></indexterm>
<para>
  The ooDialog framework allows the Rexx programmer to dynamically define a dialog <link
  linkend="ovvDialogTemplate">template</link> in her code. This functionality is implemented by the
  <computeroutput>DynamicDialog</computeroutput> class. This class is inherited by the <link
  linkend="clsUserDialog">UserDialog</link> and its methods are fully documented there.
</para>
<para>
  Historically the ooDialog documentation did not distinguish the difference between the
  <computeroutput>UserDialog</computeroutput> methods and the <computeroutput>DynamicDialog</computeroutput> methods.
  The documentation merely treated the <computeroutput>DynamicDialog</computeroutput> methods as methods of the
  <computeroutput>UserDialog</computeroutput>. The <computeroutput>DynamicDialog</computeroutput> methods are listed
  here as a reference with a link to the full documentation in the <computeroutput>UserDialog</computeroutput> chapter.
</para>

<section id="ddCreate"><title>create</title>
<programlisting>
<link linkend="mthCreate">create</link>

<![CDATA[
>>-create(--x--,--y--,--cx--,--cy--,--title-+-----------+--+------------+-->
                                            +-,-options-+  +-,-dlgClass-+

>----+------------+--+------------+--+------------+--)---------------------><
     +-,-fontName-+  +-,-fontSize-+  +-,-expected-+
]]>
</programlisting>
</section>

<section id="ddCreateCenter"><title>createCenter</title>
<programlisting>
<link linkend="mthCreateCenter">createCenter</link>

<![CDATA[
>>-createCenter(--cx--,--cy--,--title-+-----------+--+------------+-->
                                      +-,-options-+  +-,-dlgClass-+

>----+------------+--+------------+--+------------+--)---------------><
     +-,-fontName-+  +-,-fontSize-+  +-,-expected-+
]]>
</programlisting>
</section>

<section id="ddDefineDialog"><title>defineDialog</title>
<programlisting>
<link linkend="mthDefineDialog">defineDialog</link>

<![CDATA[
>>-defineDialog------------------------------------------------------><
]]>
</programlisting>
</section>

</section>

</chapter>
