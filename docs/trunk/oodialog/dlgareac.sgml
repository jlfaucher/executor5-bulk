<!--#########################################################################
    #
    # Description: Open Object Rexx: OODialog Reference SGML file.
    #
    # Copyright (c) 2005-2007, Rexx Language Association. All rights reserved.
    # Portions Copyright (c) 2004, IBM Corporation. All rights reserved.
    #
    # This program and the accompanying materials are made available under
    # the terms of the Common Public License v1.0 which accompanies this
    # distribution. A copy is also available at the following address:
    # http://www.oorexx.org/license.html
    #
    # Redistribution and use in source and binary forms, with or
    # without modification, are permitted provided that the following
    # conditions are met:
    #
    # Redistributions of source code must retain the above copyright
    # notice, this list of conditions and the following disclaimer.
    # Redistributions in binary form must reproduce the above copyright
    # notice, this list of conditions and the following disclaimer in
    # the documentation and/or other materials provided with the distribution.
    #
    # Neither the name of Rexx Language Association nor the names
    # of its contributors may be used to endorse or promote products
    # derived from this software without specific prior written permission.
    #
    # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
    # "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
    # LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
    # FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
    # OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
    # SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
    # TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
    # OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
    # OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    # NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
    # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
    #
    # Author(s):
    #      W. David Ashley <dashley@us.ibm.com>
    #
    #########################################################################
-->
<chapter id="dialogareac"><title>DlgArea and DlgAreaU Classes</title>
<indexterm><primary>DlgArea, DlgAreaU classes</primary></indexterm>
<para>The DlgArea class provides assistance in laying out the dialog controls in
a dynamically defined dialog.  The DlgAreaU class provides assistance in
resizing and / or positioning controls when a dialog is resized.  Used together,
the two classes provide a convenient way to create resizable dialogs.
</para>
<section id="dlgareacls"><title>DlgArea Class</title>
<indexterm><primary>DlgArea class</primary></indexterm>
<para>The DlgArea class defines an area of a UserDialog and provides co-ordinates of and within it.
It is a helper for the DefineDialog Method of an OODialog UserDialog Object and has no effect on any Windows Object.
</para>
<para>To use objects of the DlgArea class include this line in your code:
</para>
<programlisting>
::requires "OODIALOG.CLS"
</programlisting>
<para>The following figure shows the measuement attributes used to position a
DlgArea on a UserDialog.</para>
<figure id="dlgareafig"><title>DlgArea Measurements</title>
<mediaobject>
<imageobject>
<!-- Note! - if we include a /imagedata tag we get an error for DSSSL! -->
<imagedata fileref="dlgarea.jpg" scale="300">
</imageobject>
</mediaobject>
</figure>

<section id="dlgareainit"><title>Init</title>
<indexterm><primary>Init</primary>
<secondary>DlgArea class</secondary></indexterm>
<programlisting>
<![CDATA[
>>- aDlgArea~Init(--X--,--Y--,--Width--,--Height--+-------------+--)--><
                                                  +--,--Margin--+
]]>
</programlisting>

<para></para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The arguments you pass to the new method when creating a
DlgArea Object are:
<variablelist>
<varlistentry><term>X</term>
<listitem><para>The X Co-ordinate in dialog units relative to the UserDialog
of the top left corner of the area you wish to define
</para></listitem></varlistentry>
<varlistentry><term>Y</term>
<listitem><para>The Y Co-ordinate in dialog units relative to the UserDialog
of the top left corner of the area you wish to define.
</para></listitem></varlistentry>
<varlistentry><term>Width</term>
<listitem><para>The width in dialog units of the area of the UserDialog you
wish to define
</para></listitem></varlistentry>
<varlistentry><term>Height</term>
<listitem><para>The height in dialog units of the area of the UserDialog you
wish to define</para>
</listitem></varlistentry>
<varlistentry><term>Margin</term>
<listitem><para>An inner margin within the DlgArea in Dialog Units to be left
blank. The default is 5
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
<varlistentry><term><emphasis role="bold">Example:</emphasis></term>
<listitem><para>
</para></listitem></varlistentry>
</variablelist>

<programlisting>
<![CDATA[
u = .dlgArea~new(0, 0, self~SizeX,Self~SizeY)          /* u is whole of UserDialog */
b = .dlgArea~new(u~x("70%"), u~y , u~w("R"), u~h("R")) /* sub area for buttons */
]]>
</programlisting>
</section>

<section id="dlgareab"><title>B</title>
<indexterm><primary>B</primary>
<secondary>DlgArea class</secondary></indexterm>
<para>Returns the y coordinate of the bottom margin in dialog units relative to
UserDialog.
</para>
<programlisting>
<![CDATA[
>>--ADlgArea~B--------------------------------------------------------><
]]>
</programlisting>

<para></para>
</section>

<section id="dlgareabottom"><title>Bottom</title>
<indexterm><primary>Bottom</primary>
<secondary>DlgArea class</secondary></indexterm>
<para>Returns the y coordinate of the bottom edge in dialog units relative to
UserDialog.
</para>
<programlisting>
<![CDATA[
>>--ADlgArea~Bottom---------------------------------------------------><
]]>
</programlisting>

<para></para>
</section>

<section id="dlgareacx"><title>CX</title>
<indexterm><primary>CX</primary>
<secondary>DlgArea class</secondary></indexterm>
<para>Synonym for the W method.
</para>
<programlisting>
<![CDATA[
>>--ADlgArea~cx(--+-------+--)----------------------------------------><
                  +--n%---+
                  +--"R"--+
]]>
</programlisting>

<para></para>
</section>

<section id="dlgareacy"><title>CY</title>
<indexterm><primary>CY</primary>
<secondary>DlgArea class</secondary></indexterm>
<para>Synonym for the H method.
</para>
<programlisting>
<![CDATA[
>>--ADlgArea~cy(--+-------+--)----------------------------------------><
                  +--n%---+
                  +--"R"--+
]]>
</programlisting>

<para></para>
</section>

<section id="dlgareah"><title>H</title>
<indexterm><primary>H</primary>
<secondary>DlgArea class</secondary></indexterm>
<para>Returns a height in dialog units relative to the dialog area.
</para>
<para>If no argument is passed returns the inter-margin height.
</para>
<programlisting>
<![CDATA[
>>--ADlgArea~h(--+-------+--)-----------------------------------------><
                 +--n%---+
                 +--"R"--+
]]>
</programlisting>

<para></para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The arguments you pass to the H method are:
<variablelist>
<varlistentry><term>n%</term>
<listitem><para>If <computeroutput>n</computeroutput> is a percentage returns
<computeroutput>n%</computeroutput> of the inter-margin height.
</para></listitem></varlistentry>
<varlistentry><term>"R"</term>
<listitem><para>If "R" is passed returns Remaining height between last ~y and
bottom margin.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="dlgareahr"><title>HR</title>
<indexterm><primary>HR</primary>
<secondary>DlgArea class</secondary></indexterm>
<para>Returns the remaining height between last ~Y and bottom margin in dialog
units. This is equivalent to ~H("R").
</para>
<programlisting>
<![CDATA[
>>--ADlgArea~hr-------------------------------------------------------><
]]>
</programlisting>

<para></para>
</section>

<section id="dlgareal"><title>L</title>
<indexterm><primary>L</primary>
<secondary>DlgArea class</secondary></indexterm>
<para>Returns the x coordinate of the left margin in dialog units relative to
UserDialog.
</para>
<programlisting>
<![CDATA[
>>--ADlgArea~L--------------------------------------------------------><
]]>
</programlisting>

<para></para>
</section>

<section id="dlgarealeft"><title>Left</title>
<indexterm><primary>Left</primary>
<secondary>DlgArea class</secondary></indexterm>
<para>Returns the x coordinate of the left edge in dialog units relative to
UserDialog.
</para>
<programlisting>
<![CDATA[
>>--ADlgArea~Left-----------------------------------------------------><
]]>
</programlisting>

<para></para>
</section>

<section id="dlgareamargin"><title>Margin</title>
<indexterm><primary>Margim</primary>
<secondary>DlgArea class</secondary></indexterm>
<para>Size in dialog units of DlgArea margin.
</para>
<programlisting>
<![CDATA[
>>--ADlgArea~Margin---------------------------------------------------><
]]>
</programlisting>

<para></para>
</section>

<section id="dlgarear"><title>R</title>
<indexterm><primary>R</primary>
<secondary>DlgArea class</secondary></indexterm>
<para>Returns the x coordinate of the right margin in dialog units relative to
UserDialog.
</para>
<programlisting>
<![CDATA[
>>--ADlgArea~R--------------------------------------------------------><
]]>
</programlisting>

<para></para>
</section>

<section id="dlgarearight"><title>Right</title>
<indexterm><primary>Right</primary>
<secondary>DlgArea class</secondary></indexterm>
<para>Returns the x coordinate of the right edge in dialog units relative to
UserDialog.
</para>
<programlisting>
<![CDATA[
>>--ADlgArea~Right----------------------------------------------------><
]]>
</programlisting>

<para></para>
</section>

<section id="dlgareat"><title>T</title>
<indexterm><primary>T</primary>
<secondary>DlgArea class</secondary></indexterm>
<para>Returns the y coordinate of the top margin in dialog units relative to
UserDialog.
</para>
<programlisting>
<![CDATA[
>>--ADlgArea~T--------------------------------------------------------><
]]>
</programlisting>

<para></para>
</section>

<section id="dlgareatop"><title>Top</title>
<indexterm><primary>Top</primary>
<secondary>DlgArea class</secondary></indexterm>
<para>Returns the y coordinate of the top edge in dialog units relative to
UserDialog.
</para>
<programlisting>
<![CDATA[
>>--ADlgArea~Top------------------------------------------------------><
]]>
</programlisting>

<para></para>
</section>

<section id="dlgareaw"><title>W</title>
<indexterm><primary>W</primary>
<secondary>DlgArea class</secondary></indexterm>
<para>Returns a width in dialog units relative to the dialog area.
</para>
<para>If no argument is passed returns the inter-margin width.
</para>
<programlisting>
<![CDATA[
>>--ADlgArea~w(--+-------+--)-----------------------------------------><
                 +--n%---+
                 +--"R"--+
]]>
</programlisting>

<para></para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The arguments you pass to the Y method are:
<variablelist>
<varlistentry><term>n%</term>
<listitem><para>If <computeroutput>n</computeroutput> is a percentage returns
<computeroutput>n%</computeroutput> of the inter-margin width.
</para></listitem></varlistentry>
<varlistentry><term>"R"</term>
<listitem><para>If "R" is passed returns Remaining width between last ~x and
right margin.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="dlgareawr"><title>WR</title>
<indexterm><primary>WR</primary>
<secondary>DlgArea class</secondary></indexterm>
<para>Returns the remaining width between last ~X and right margin in dialog
units. This is equivalent to ~W("R").
</para>
<programlisting>
<![CDATA[
>>--ADlgArea~wr-------------------------------------------------------><
]]>
</programlisting>

<para></para>
</section>

<section id="dlgareax"><title>X</title>
<indexterm><primary>X</primary>
<secondary>DlgArea class</secondary></indexterm>
<para>Returns an X Coordinate in dialog units relative to the dialog area.
</para>
<para>If no <computeroutput>n</computeroutput> is passed returns the x
coordinate of the left margin.
</para>
<programlisting>
<![CDATA[
>>--ADlgArea~x(--+------+--)------------------------------------------><
                 +--n---+
                 +--n%--+
]]>
</programlisting>

<para></para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The arguments you pass to the X method are:
<variablelist>
<varlistentry><term>n</term>
<listitem><para>If <computeroutput>n</computeroutput> is passed and is positive,
then returns the x coordinate <computeroutput>n</computeroutput> dialog units
to the right of the left margin.
If <computeroutput>n</computeroutput> is passed and is negative, then returns
the x coordinate <computeroutput>n</computeroutput> dialog units to the left of
the right margin..
</para></listitem></varlistentry>
<varlistentry><term>n%</term>
<listitem><para>If <computeroutput>n</computeroutput> is passed and is a
percentage, then returns the x coordinate <computeroutput>n%</computeroutput>
of the way between the left and right margins.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="dlgareay"><title>Y</title>
<indexterm><primary>Y</primary>
<secondary>DlgArea class</secondary></indexterm>
<para>Returns an Y Coordinate in dialog units relative to the dialog area.
</para>
<para>If no <computeroutput>n</computeroutput> is passed returns the x
coordinate of the top margin.
</para>
<programlisting>
<![CDATA[
>>--ADlgArea~y(--+------+--)------------------------------------------><
                 +--n---+
                 +--n%--+
]]>
</programlisting>

<para></para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The arguments you pass to the Y method are:
<variablelist>
<varlistentry><term>n</term>
<listitem><para>If <computeroutput>n</computeroutput> is passed and is positive,
then returns the y coordinate <computeroutput>n</computeroutput> dialog units
below the topmargin.
If <computeroutput>n</computeroutput> is passed and is negative, then returns
the y coordinate <computeroutput>n</computeroutput> dialog units above
the bottom margin..
</para></listitem></varlistentry>
<varlistentry><term>n%</term>
<listitem><para>If <computeroutput>n</computeroutput> is passed and is a
percentage, then returns the y coordinate <computeroutput>n%</computeroutput>
of the way between the top and bottom margins.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="exampleDlgArea"><title>DlgArea Example</title>
<para>On a UserDialog we want the top left to be an entry area, with an area
for buttons on the right and a status area below.</para>
<para>We decide to give 70% of the width and 90% of the height to the entry area.
We leave the margin as the default.
We want all the areas to resize themselves if we change the UserDialog size
except the OK button should remain 15 units high.</para>
<figure id="dlgareaplanfig"><title>DlgArea Plan</title>
<mediaobject>
<imageobject>
<!-- Note! - if we include a /imagedata tag we get an error for DSSSL! -->
<imagedata fileref="dlgareaplan.jpg" scale="300">
</imageobject>
</mediaobject>
</figure>
<para>Here is what our DefineDialog method might look like:</para>
<programlisting>
<![CDATA[
/* ------------------------------------------------------------------------- */
::method DefineDialog
/* ------------------------------------------------------------------------- */
/* define DlgArea named u as whole of user dialog                            */
u=.dlgArea~new(  0       ,         0,self~SizeX,Self~SizeY)   /* whole dlg   */

/* define DlgArea named e within DlgArea u for entry line                    */
e=.dlgArea~new(u~x       ,u~y       ,u~w("70%"),u~h("90%"))

/* define DlgArea named s within DlgArea u for Status Area in remaining height*/
s=.dlgArea~new(u~x       ,u~y("90%"),u~w("70%"),u~hr      )

/* define DlgArea named b within DlgArea u for Button area                   */
b=.dlgArea~new(u~x("70%"),u~y       ,u~wr      ,u~hr      )

/* entry line coterminous with area e margins                                */
self~AddEntryLine(12,"text",e~x,e~y,e~w,e~h,"multiline")

/* Status Area Coterminous with area s margins                               */
self~AddText(s~x,s~y,s~w,s~h,"Status info appears here",11)

/* Seven buttons evenly spaced at 10% intervals, 9% high                     */
do i = 0 to 6
   self~addButton(12+i,b~x,b~y((i * 10)||"%"),b~w,b~h("9%"),"Button" i,"Button"||i)
end /* DO */

/* ok button 15 dialog units high at bottom of area b                        */
self~AddButton(1,b~x,b~y(-15),b~w,15,"OK","OK","Default")
]]>
</programlisting>
<para>Here is the resultant dialog.</para>
<figure id="dlgareasample"><title>Sample DlgArea</title>
<mediaobject>
<imageobject>
<!-- Note! - if we include a /imagedata tag we get an error for DSSSL! -->
<imagedata fileref="sample1.jpg" scale="300">
</imageobject>
</mediaobject>
</figure>
</section>
</section>

<section id="dlgareaucls"><title>DlgAreaU Class</title>
<indexterm><primary>DlgAreaU class</primary></indexterm>
<para>The DlgAreaU class is a subclass of the DlgArea class that assists the
creation of dynamically resizable Dialogs.
</para>
<para>To use objects of the DlgAreaU class include this line in your code:
</para>
<programlisting>
::requires "OODIALOG.CLS"
</programlisting>

<section id="dlgareauinit"><title>Init</title>
<indexterm><primary>Init</primary>
<secondary>DlgAreaU class</secondary></indexterm>
<programlisting>
<![CDATA[
>>- aDlgAreaU~Init(Dialog--+--------------------------+--------+-)--><
                           +--,--Margin-+             |        |
                           +--,---------+--,-NoResize-+        |
                           +--,---------+--,----------+-NoMove-+
]]>
</programlisting>

<para>
The DlgAreaU object creates a dialog area coterminous with the calling dialog.
It inherits all the methods and attributes of the DlgArea Class (listed above).
</para>
<variablelist>
<varlistentry><term><emphasis role="bold">Arguments:</emphasis></term>
<listitem><para>The arguments you pass to the new method when creating a
DlgArea Object are:
<variablelist>
<varlistentry><term>Dialog</term>
<listitem><para>An Object that is SubClassed from A UserDialog.
</para></listitem></varlistentry>
<varlistentry><term>Margin</term>
<listitem><para>See DlgArea Margin.
</para></listitem></varlistentry>
<varlistentry><term>NoResize</term>
<listitem><para>A set of Dialog Ids of widgets not to be resized during a resize.
</para></listitem></varlistentry>
<varlistentry><term>NoMove</term>
<listitem><para>A set of Dialog Ids of widgets not to be moved during a resize.
</para></listitem></varlistentry>
</variablelist>
</para></listitem></varlistentry>
</variablelist>
</section>

<section id="mthCorrectionFactor"><title>CorrectionFactor</title>
<indexterm><primary>CorrectionFactor</primary>
<secondary>DlgAreaU class</secondary></indexterm>
<programlisting>
<![CDATA[
>>--ADlgAreaU~CorrectionFactor----------------------------------------><
]]>
</programlisting>

<para>An attribute containing the value used to adjust the ratio of the top &
left margins to the bottom &amp; right margins. (The default correction factor
is set to 1.05.) See the <link linkend="dlgareaubug">Possible Problems</link>
section for some additional detail.
</para>
</section>

<section id="dlgareaulasterror"><title>LastError</title>
<indexterm><primary>LastError</primary>
<secondary>DlgAreaU class</secondary></indexterm>
<programlisting>
<![CDATA[
>>--ADlgAreaU~LastError-----------------------------------------------><
]]>
</programlisting>

<para>An attribute holding the details if an error was encountered when parsing
the calling dialog's DefineDialog method.  The value of the attribute is .nil if
no error occurred.
</para>
</section>

<section id="dlgareaunomove"><title>NoMove</title>
<indexterm><primary>NoMove</primary>
<secondary>DlgAreaU class</secondary></indexterm>
<programlisting>
<![CDATA[
>>--ADlgAreaU~NoMove--------------------------------------------------><
]]>
</programlisting>

<para>An attribute holding the set of Dialog Ids of widgets not to be moved
during a resize event.
</para>
</section>

<section id="dlgareaunoresize"><title>NoResize</title>
<indexterm><primary>NoResize</primary>
<secondary>DlgAreaU class</secondary></indexterm>
<programlisting>
<![CDATA[
>>--ADlgAreaU~NoResize------------------------------------------------><
]]>
</programlisting>

<para>An attribute holding the set of Dialog Ids of widgets not to be resized
during a resize event.
</para>
</section>
</section>

<section id="dlgareaucreate"><title>Creating Resizeable Dialogs</title>
<indexterm><primary>Dynamically Resizable dialogs</primary>
<secondary>DlgAreaU class</secondary></indexterm>
<para>You can use the DlgAreaU Object to facilitate in creating dynamically
resizable Dialog objects, but to do so you must carefully satisfy all the
requirements below.
</para>
<para>
The Dialog must be created with the
<computeroutput>ThickFrame</computeroutput> option.
It may be created with the UserDialog Create method or CreateCenter method.
</para>
<para>
Your Dialog init method must include the line:</para>
<programlisting>
<![CDATA[
self~connectResize("OnResize")
]]>
</programlisting>
<para>
Your DefineDialog method must start with these lines:
</para>
<programlisting>
<![CDATA[
expose u
u = .dlgAreaU~new(self)          /* whole dlg   */
]]>
</programlisting>
<para>
Your DefineDialog method must not reference variables within the Add Method
parameters, although you can use references to DlgArea attributes, so
</para>
<programlisting>
<![CDATA[
Self~AddButton(23,1,5,6,"MyButton","Pressed")
self~addButton(14,b~x,b~y("10%"),b~w,b~h("9%"),"Button" 1,"Button"||1)
]]>
</programlisting>
<para>
Both are OK, whereas
</para>
<programlisting>
<![CDATA[
/* Seven buttons evenly spaced at 10% intervals, 9% high                     */
do i = 0 to 6
   self~addButton(12+i,b~x,b~y((i * 10)||"%"),b~w,b~h("9%"),"Button" i,"Button"||i)
end /* DO */
]]>
</programlisting>
<para>
would now fail as the variable <computeroutput>i</computeroutput>
is referenced within the parameters.
</para>
<para>
To debug your DlgAreaU call/insert the following after the instantiation
</para>
<programlisting>
<![CDATA[
if u~lastError \= .nil then call errormessage u~lastError
]]>
</programlisting>
<para>You must also include the following in your code.</para>
<programlisting>
<![CDATA[
/* ------------------------------------------------------------------------- */
::method OnResize
/* ------------------------------------------------------------------------- */
expose u
if u~lastError \= .nil then call errormessage u~lastError
use arg dummy,sizeinfo
                                 /* wait for last size event msg then resize */
if self~PeekDialogMessage~left(8) \= "OnResize" then u~resize(self,sizeinfo)
]]>
</programlisting>
<para>
The DlgAreaU method will then automatically resize &amp; place the following
widgets in your dialog when the dialog frame is dragged or the minimize,
maximise or restore buttons are pressed:
</para>
<table frame="all">
<title>DlgAreaU Automatic Resize Elements</title>
<tgroup cols="4" align="left" colsep="1" rowsep="1">
<tbody>
<row>
   <entry>BLACKFRAME</entry>
   <entry>BLACKRECT</entry>
   <entry>BITMAPBUTTON</entry>
   <entry>BUTTON</entry>
</row>
<row>
   <entry>CHECKBOX</entry>
   <entry>COMBOBOX</entry>
   <entry>ENTRYLINE</entry>
   <entry>GRAYFRAME</entry>
</row>
<row>
   <entry>GRAYRECT</entry>
   <entry>GROUPBOX</entry>
   <entry>LISTBOX</entry>
   <entry>LISTCONTROL</entry>
</row>
<row>
   <entry>PASSWORDLINE</entry>
   <entry>PROGRESSBAR</entry>
   <entry>RADIOBUTTON</entry>
   <entry>SCROLLBAR</entry>
</row>
<row>
   <entry>SLIDERCONTROL</entry>
   <entry>TABCONTROL</entry>
   <entry>TEXT</entry>
   <entry>TREECONTROL</entry>
</row>
<row>
   <entry>WHITEFRAME</entry>
   <entry>WHITERECT</entry>
   <entry></entry>
   <entry></entry>
</row>
</tbody>
</tgroup>
</table>
<para>
The following widgets can be defined in a UserDialog, but cannot be handled by
the DlgAreaU resize method, so should not be used.
</para>
<table frame="all">
<title>DlgAreaU Non-Automatic Resize Elements</title>
<tgroup cols="4" align="left" colsep="1" rowsep="1">
<tbody>
<row>
   <entry>BUTTONGROUP</entry>
   <entry>CHECKBOXSTEM</entry>
   <entry>CHECKGROUP</entry>
   <entry>COMBOINPUT</entry>
</row>
<row>
   <entry>FULLSEQ</entry>
   <entry>INPUT</entry>
   <entry>INPUTGROUP</entry>
   <entry>INPUTSTEM</entry>
</row>
<row>
   <entry>OKCANCEL...</entry>
   <entry>RADIOGROUP</entry>
   <entry>RADIOSTEM</entry>
   <entry></entry>
</row>
</tbody>
</tgroup>
</table>
<para>
All of these widgets can be achieved using combinations of the permitted
methods.
</para>
</section>

<section id="dlgareaubug"><title>Possible Problems</title>
<para>The DlgAreaU resize method can create slightly over-size margins on the
left &amp; bottom of the Dialog.  To correct for this the DlgAreaU class has
a <link linkend="mthCorrectionFactor">CorrectionFactor </link> attribute set by
default to 1.05. In tests, this correction factor appears to neutralise the
effect. If your dialogs have over (or under) sized margins, you may be able to
correct this in your code by adjusting the Correction Factor. For example:
</para>
<programlisting>
<![CDATA[
U=.DlgAreaU~new(self)
U~CorrectionFactor=1.07
]]>
</programlisting>
<para>You will have to experiment to find the apropriate setting for this
attribute.
</para>
</section>

<section id="dlgareausample"><title>Sample Code</title>
<programlisting>
<![CDATA[
/* DlgAreaDemo.Rex  --  Demonstrate DlgArea & DlgAreaU Classes  --  Feb 2006 */

MyDlg=.MyDialog~new
MyDlg~execute("ShowTop")
MyDlg~DeInstall

exit
::requires "OODWIN32.CLS"
/* ========================================================================= */
::class MyDialog Subclass UserDialog
/* ========================================================================= */
::method Init
/* ------------------------------------------------------------------------- */
  self~Init:super
  rc=self~CreateCenter(250,250,"MyDialog","ThickFrame", ,"MS Sans Serif",8)
  self~InitCode=(rc=0)
  self~connectResize("OnResize")

/* ------------------------------------------------------------------------- */
::method DefineDialog
/* ------------------------------------------------------------------------- */
expose u

u=.dlgAreaU~new(self)                                         /* whole dlg   */
if u~lastError \= .nil then call errormessage u~lastError
e=.dlgArea~new(u~x       ,u~y       ,u~w("70%"),u~h("90%"))   /* edit   area */
s=.dlgArea~new(u~x       ,u~y("90%"),u~w("70%"),u~hr      )   /* status area */
b=.dlgArea~new(u~x("70%"),u~y       ,u~wr      ,u~hr      )   /* button area */

self~AddEntryLine(12,"text",e~x,e~y,e~w,e~h,"multiline")
self~AddText(s~x,s~y,s~w,s~h,"Status info appears here", ,11)

self~addButton(13,b~x,b~y("00%"),b~w,b~h("9%"),"Button" 0,"Button"||0)
self~addButton(14,b~x,b~y("10%"),b~w,b~h("9%"),"Button" 1,"Button"||1)
self~addButton(15,b~x,b~y("20%"),b~w,b~h("9%"),"Button" 2,"Button"||2)
self~addButton(16,b~x,b~y("30%"),b~w,b~h("9%"),"Button" 3,"Button"||3)
self~addButton(17,b~x,b~y("40%"),b~w,b~h("9%"),"Button" 4,"Button"||4)
self~addButton(18,b~x,b~y("50%"),b~w,b~h("9%"),"Button" 5,"Button"||5)
self~addButton(19,b~x,b~y("60%"),b~w,b~h("9%"),"Button" 6,"Button"||6)
self~AddButton( 1,b~x,b~y("90%"),b~w,b~h("9%"),"Ok","Ok","DEFAULT")

/* ------------------------------------------------------------------------- */
::method Unknown
/* ------------------------------------------------------------------------- */
use arg msgname, args
StatusLine = Self~GetStaticControl(11)
StatusLine~SetTitle("You Pressed" msgname)

/* ------------------------------------------------------------------------- */
::method OnResize
/* ------------------------------------------------------------------------- */
expose u
use arg dummy,sizeinfo
                                 /* wait for last size event msg then resize */
if self~PeekDialogMessage~left(8) \= "OnResize" then u~resize(self,sizeinfo)

]]>
</programlisting>
<para>This achieves the same dialog as the previous <link linkend="exampleDlgArea">
DlgArea example</link>, but now it is resizable by dragging the frame.
</para>
</section>

</chapter>
