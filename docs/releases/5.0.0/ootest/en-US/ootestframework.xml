<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "ootest.ent">
%BOOK_ENTITIES;
]>
<!--#########################################################################
    #
    # Description: Open Object Rexx: RxSock TCP/IP Socket Functions Reference
    #
    # Copyright (c) 2005-2022, Rexx Language Association. All rights reserved.
    # Portions Copyright (c) 2004, IBM Corporation. All rights reserved.
    #
    # This program and the accompanying materials are made available under
    # the terms of the Common Public License v1.0 which accompanies this
    # distribution. A copy is also available at the following address:
    # http://www.oorexx.org/license.html
    #
    # Redistribution and use in source and binary forms, with or
    # without modification, are permitted provided that the following
    # conditions are met:
    #
    # Redistributions of source code must retain the above copyright
    # notice, this list of conditions and the following disclaimer.
    # Redistributions in binary form must reproduce the above copyright
    # notice, this list of conditions and the following disclaimer in
    # the documentation and/or other materials provided with the distribution.
    #
    # Neither the name of Rexx Language Association nor the names
    # of its contributors may be used to endorse or promote products
    # derived from this software without specific prior written permission.
    #
    # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
    # "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
    # LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
    # FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
    # OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
    # SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
    # TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
    # OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
    # OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    # NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
    # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
    #
    #########################################################################
-->

<chapter id="chapOOTest"><title>The ooTest Framework</title>
<indexterm><primary>ooTest framework</primary></indexterm>
<indexterm><primary>ooTest</primary>
<secondary>frameworks</secondary></indexterm>
<para>
  The ooTest framework requires the ooRexxUnit framework (<xref linkend="chapOORexxUnit" />), that is
  it uses a ::requires directive for <computeroutput>OOREXXUNIT.CLS</computeroutput>. It extends the
  functionality of ooRexxUnit in ways that are not neccessarily intended to be generic, but rather are
  only intended to serve some specific need in testing ooRexx.  Most of the main classes in ooTest are
  direct subclasses of a comparable class in ooRexxUnit, adding only minor functionality to the
  ooRexxUnit class.
</para>
<para>
   This section of the book serves as a reference to the public classes, routines, and features of the
   ooTest framework. It starts with a general discussion of where and how the framework differs from a
   generic unit testing framework and the objects in the framework that implement these differences.  The
   rest of the material is the reference documentation for the classes and routines that the framework
   provides.
</para>
<para id="ootInternalQualifier">
  The reference material is intended to be most useful to people writing test cases for ooRexx. Please
  <emphasis role="bold">note</emphasis> how this is structured. Many of the classes and methods of the
  framework are used to relieve the test case writer of much, or most, of the burden of implementation.
  The test case writer, for the most part, only needs the documentation for a few classes and usually
  only for a few methods of those classes.  The rest of the classes and methods need only be understood
  by the maintainers of the overall ooRexx testing project.
</para>
<para>
  However, it makes little sense to document part of a class here, the part used by test case writers,
  and the rest of the class in some other place, say a <emphasis role="italic">maintainers</emphasis>
  manual.  So this strategy is used: the primary classes a test case writer would use are documented
  first.  Within a class documentation, the methods and attributes most useful in writing test cases are
  also documented first. The rest of the classes and methods will be marked with the keyword: <emphasis
  role="italic">internal</emphasis>. This doesn't mean these classes or methods are only for internal
  use. It is merely meant to indicate to the reader, who is mostly interested in writing test cases, that
  she can probably ignore the classes and methods.
</para>

<section id="ooTestGeneralConcepts"><title>General Concepts</title>
<indexterm><primary>concepts</primary>
<secondary>ooTest framework</secondary></indexterm>

<para>
  Description
</para>

<section id="ootTestType"><title>Test Types</title>
<indexterm><primary>test types</primary></indexterm>

<para>
  Test types are implemented through the ooTestTypes (<xref linkend="clsooTestTypes" />) and ooTestCase (<xref
  linkend="clsooTestCase" />) classes.
</para>
<para>
  Unlike jUnit, which only does unit tests, ooTest is designed to automate all the testing for the ooRexx
  distribution package.  There is of course more to software testing than unit tests.  There are stress
  tests, performance tests, acceptance tests (does the distribution package install correctly, do all the
  samples at least run,) GUI tests, etc..
</para>
<para>
  The value of an automated unit testing framework comes from developers running the unit tests often.
  It has been suggested that preferrably the unit tests should be run after every compile.  But, if
  ooTest is going to be the framework used to run stress tests, acceptance tests, etc., the time to
  execute the test suite starts growing exponentially.  In addition stress or performance tests typically
  use large amounts of system resources.  If the developer's machine doesn't have the required horse
  power for a stress test, what then?  If an ooRexx user wants to help by writing and executing test
  cases, but doesn't have access to a smtp server needed to run the socket test cases, how does he
  proceed?
</para>
<para>
  Clearly, if ooTest is to serve as an all-purpose test framework, there needs to be some way of easily
  running subsets of the tests that are applicable at the time.  The developer needs to be able to easily
  run only the unit tests.  The user trying to contribute to the project, but is lacking a smtp server,
  needs some way to run the test suite, but exclude the socket tests.
</para>
<para>
  ooTest handles this by using the concept of <emphasis role="italic">test types</emphasis>.  In jUnit
  there is only one type of test, the unit test.  In ooTest, each group of test cases in an ooTestCase (<xref
  linkend="clsooTestCase" />) subclass belongs to one of any number of defined test
  types. The ooTestCase class has a class attribute that defines the test type the class contains.  By
  default the test cases in an ooTestCase subclass are the unit test type.
</para>
<para>
  When writing a ooTestCase subclass, the test type for the subclass can be over-ridden.  This is done
  for example in the <emphasis role="italic">Native_api</emphasis> tests.  The class init() method is
  over-ridden as in this example:
<programlisting>
<![CDATA[
::class "CONVERSION.testGroup" subclass ooTestCase public

::method init class
  forward class (super) continue

  -- Over-ride the default test type
  self~ooTestType = .ooTestTypes~NATIVE_API_TEST

]]>
</programlisting>

</para>
</section>


</section>

<!--
  Could be chapter, or section
-->
<section id="clsooTestCase"><title>ooTestCase Class</title>
<indexterm><primary>ooTestCase class</primary></indexterm>
<para>
  An <emphasis role="italic">ooTestCase</emphasis> class is a test case class where methods of the class
  define individual test cases.
</para>
<para>
  In order to make it easy to construct automated tests with large numbers of test cases, a convention is
  followed:  Each method of an ooTestCase class that starts with <emphasis role="italic">test</emphasis>
  is considered an individual test case.
</para>
<para>
  Each ooTestCase has a class attribute defining the test type (<xref linkend="ootTestType" />) of the
  individual test cases the class contains.  All test cases in a specific ooTestCase class are the same
  test type.  The class <emphasis role="italic">new()</emphasis> method is intended to be over-ridden by
  test case writers to assign an appropriate test type when needed.
</para>
<para>
  The following table summarizes the important information for an ooTestCase class, including all methods
  and attributes relevant to writing test cases.  Most of these methods are inherited from <emphasis
  role="italic">TestCase</emphasis>:
</para>
<table id="tblooTestCaseSummary" frame="all">
<title>ooTestCase Summary</title>
<tgroup cols="2">
<thead>
<row>
<entry>Item</entry>
<entry>...Description</entry>
</row>
</thead>
<tbody>
<row>
<entry>Subclasses</entry>
<entry>TestCase (<xref linkend="clsTestCase" />)</entry>
</row>
<row>
<entry>Inherits</entry>
<entry>ooTestTypes (<xref linkend="clsooTestTypes" />)</entry>
</row>
<row>
<entry>Inherits (indirectly through TestCase)</entry>
<entry>Assert (<xref linkend="clsAssert" />)</entry>
</row>
<row>
<entry><emphasis role="bold">Class Attributes</emphasis></entry>
<entry></entry>
</row>
<row>
<entry>ooTestType (Class Attribute)</entry>
<entry>ooTestType (<xref linkend="attClsooTestType" />)</entry>
</row>
<row>
<entry><emphasis role="bold">Class Methods</emphasis></entry>
<entry></entry>
</row>
<row>
<entry>new (Class method)</entry>
<entry>new (<xref linkend="mthNewClsooTestCase" />)</entry>
</row>
</tbody></tgroup>
</table>

<section id="attClsooTestType"><title>ooTestType (Class)</title>
<indexterm><primary>ooTestType</primary></indexterm>
<indexterm><primary>ooTestType</primary>
<secondary>ooTestCase class</secondary></indexterm>
<programlisting>
<![CDATA[
>>--ooTestType---------------------------------------------><

>>--ooTestType=--------------------------------------------><

]]>
</programlisting>

<para>
  To Be Written
</para>
</section>

<section id="mthNewClsooTestCase"><title>new (Class)</title>
<indexterm><primary>new</primary>
<secondary>ooTestCase class</secondary></indexterm>
<programlisting>
<![CDATA[
>>--new----------------------------------------------------><

]]>
</programlisting>

<para>
  To Be Written
</para>
</section>

</section>  <!-- End ooTestCase class -->


<!--
  Could be chapter, or section
-->
<section id="clsooTestTypes"><title>ooTestTypes Class</title>
<indexterm><primary>ooTestTypes class</primary></indexterm>
<para>
  An <emphasis role="italic">ooTestTypes</emphasis> class
</para>
<para>
  The following table summarizes the important information for an ooTestCase class, including all methods
  and attributes relevant to writing test cases.  Most of these methods are inherited from <emphasis
  role="italic">TestCase</emphasis>:
</para>
<table id="tblooTestTypesSummary" frame="all">
<title>ooTestCase Summary</title>
<tgroup cols="2">
<thead>
<row>
<entry>Item</entry>
<entry>...Description</entry>
</row>
</thead>
<tbody>
<row>
<entry>Something</entry>
<entry>some link</entry>
</row>
</tbody></tgroup>
</table>

<section id="xax"><title>ooTestType (Class)</title>
<indexterm><primary>ooTestType</primary></indexterm>
<indexterm><primary>ooTestType</primary>
<secondary>ooTestCase class</secondary></indexterm>
<programlisting>
<![CDATA[
>>--ooTestType---------------------------------------------><

>>--ooTestType=--------------------------------------------><

]]>
</programlisting>

<para>
  To Be Written
</para>
</section>

<section id="xcx"><title>new (Class)</title>
<indexterm><primary>new</primary>
<secondary>ooTestCase class</secondary></indexterm>
<programlisting>
<![CDATA[
>>--new----------------------------------------------------><

]]>
</programlisting>

<para>
  To Be Written
</para>
</section>

</section>  <!-- End ooTestTypes class -->


</chapter>


