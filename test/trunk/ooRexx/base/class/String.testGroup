#!/usr/bin/rexx
/*
   name:             String.testGroup
   author:           Rony G. Flatscher
   date:             2005-08-07
   version:          1.0.3

-- line commented lines are ignored, when building the directory of infos from this header
   changed:          2005-08-21, ---rgf, renamed the testGroup-class to match exactly the
                             file name, i.e. a dot (.) between class name and "testGroup";
                             added convention to return a list of arrays containing the
                             test case class object and an optional list of mandatory test
                             case methods from it
                     2005-10-20, ---rgf, completed the String's class method tests from the docs
                     2006-06-18, ---rgf, corrected a bug in TEST_DATATYPE, enquiting "-1" in
                             "subTest3"
                     2006-10-15, ---rgf, added "test_EnCodeBase64_DecodeBase64"
                     2006-10-21, ---rgf, added own (old) Rexx-implementation for
                                         en/de-coding base64 to test the C-implementation against
                     2007-03-21, ---rgf, added test for SUBCHAR (available with 6.01)
                                         changed sequence of expected/actual values to match the meaning
                                         in the failure message(s)
                     2007-06-10, ---rgf, added test cases for LOWER and UPPER
                     2007-06-23, ---rgf, added test case for 'caselessWordPos'
                     2007-07-10, ---rgf, changed names of test cases, added various caseless tests
                     2007-09-16, ---rgf, added tests for new 'count' argument in [caseless]changeStr()

   languageLevel:    6.02
   purpose:          Test the methods of the class String.
   remark:           Initial test unit for demonstration purposes, needs to be completed.

   license:          CPL 1.0 (Common Public License v1.0, see below)
   link:

// category needs not to be numbered, importance is given by position (1=most important)
   category:         ooRexx
   category:         Base
   category:         Class
   category:         String
*/
/*----------------------------------------------------------------------------*/
/*                                                                            */
/* Copyright (c) 2005-2007 Rexx Language Association. All rights reserved.    */
/*                                                                            */
/* This program and the accompanying materials are made available under       */
/* the terms of the Common Public License v1.0 which accompanies this         */
/* distribution. A copy is also available at the following address:           */
/* http://www.ibm.com/developerworks/oss/CPLv1.0.htm                          */
/*                                                                            */
/* Redistribution and use in source and binary forms, with or                 */
/* without modification, are permitted provided that the following            */
/* conditions are met:                                                        */
/*                                                                            */
/* Redistributions of source code must retain the above copyright             */
/* notice, this list of conditions and the following disclaimer.              */
/* Redistributions in binary form must reproduce the above copyright          */
/* notice, this list of conditions and the following disclaimer in            */
/* the documentation and/or other materials provided with the distribution.   */
/*                                                                            */
/* Neither the name of Rexx Language Association nor the names                */
/* of its contributors may be used to endorse or promote products             */
/* derived from this software without specific prior written permission.      */
/*                                                                            */
/* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS        */
/* "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT          */
/* LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS          */
/* FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT   */
/* OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,      */
/* SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED   */
/* TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,        */
/* OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY     */
/* OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING    */
/* NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS         */
/* SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.               */
/*                                                                            */
/*----------------------------------------------------------------------------*/


-------------------------------------------------------------------------------------------
-- ===> adapt the "testGroupList" to your testCase classes; each element in the list is <===
-- ===> an array object, the first element containing the testCase class object, the   <===
-- ===> second element is a list of test method names which are regarded to be         <===
-- ===> mandatory (if the list remains empty all test methods are mandatory)           <===

   /* list of array objects, each containing the testGroup class object and an
      optional list of mandatory test case methods name                       */
mandatoryTestMethods=.list~new   -- no mandatory tests for this testCase class
testGroupList=.list~of( .array~of(.String.testGroup,  mandatoryTestMethods) )


-------------------------------------------------------------------------------------------
-- ===> the following code needs not to be individualized                              <===

   -- read top comment, containing infos about this program
arrLines=.array~new
do i=1 to 150 until arrLines[i]="*/"
   arrLines[i]=sourceline(i)
end
      -- supply information for the testClass(es) in this file; the class attribute
      -- "TestCaseInfo" (a directory object, index points to a queue) will store
      -- the parsed infos
aTestGroupClass=testGroupList~at(testGroupList~first)[1] -- get first testClass

   -- will parse the array lines and store result in class object
call makeDirTestInfo aTestGroupClass, arrLines
tmpDir=aTestGroupClass~TestCaseInfo
parse source s   -- op_sys invocationType fullPathToThisFile
tmpDir~setentry("test_Case-source", s)

   -- now add this directory to other testCase classes, if any left
do arr over testGroupList
   if arr[1]=aTestGroupClass then iterate  -- already handled
   arr[1]~TestCaseInfo=tmpDir             -- save info in class object
end

-- if this file is CALLed or REQUIRED then define an entry "bRunTestLocally" in .local
-- and set it to .false; this way the independent local invocation of the tests is inhibited
if .local~hasentry("bRunTestsLocally")=.false then
   .local~bRunTestsLocally=.true -- if this file is executed directly, then run tests for debugging

if .bRunTestsLocally=.true then  -- run ALL tests in this test unit
do
   ts=.testSuite~new             -- create a testSuite
   do arr over testGroupList
      -- create a testSuite for the given test case class, use all its testmethods
      ts~addTest( .testSuite~new(arr[1]))
   end
   -- testResult=.testSuite~new(testGroupClass)~run
   testResult=ts~run       -- now run all the tests

   call simpleDumpTestResults testResult
end

   /* return list of array objects containing test case classes and
      optionally list of mandatory test methods                      */
return testGroupList



::requires ooRexxUnit.cls     -- load the ooRexxUnit classes

   -- class named exactly like file
::class "String.testGroup" subclass TestCase public


::method setup       -- add entries to .local
      /* define data needed for the Rexx implementation of encodeBase64 and decodeBase64  */
   .local~base64.padChar="="                    -- use equal sign as a pad char
   .local~base64.mimeTable= "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" ||,
                                 padChar        -- trailing space indicator

   .local~base64.base64  = xrange("00"x, "3F"x) -- all 64 possible 6-bits values

::method tearDown    -- remove entries from .local
   .local~remove("BASE64.PADCHAR")
   .local~remove("BASE64.MIMETABLE")
   .local~remove("BASE64.BASE64")

   -- test the BIF, using examples from the documentation
::method "test_NEW"
   self~assertSame("subTest1"   , .string~new("")   , ""  )
   self~assertSame("subTest2"   , .string~new(" ")  , " " )
   self~assertSame("subTest3"   , .string~new("  ") , "  ")
   self~assertSame("subTest4"   , .string~new("ab") , "ab")

   self~assertEquals("subTest5" , .string~new("")   , ""  )
   self~assertEquals("subTest6" , .string~new(" ")  , " " )
   self~assertEquals("subTest7" , .string~new("  ") , "  ")
   self~assertEquals("subTest8" , .string~new("ab") , "ab")

::method "test_arithmetic_operators"
   self~assertEquals("subTest1" , 10 , 5+5  )
   self~assertEquals("subTest2" , 3  , 8-5  )
   self~assertEquals("subTest3" , 10 , 5*2  )
   self~assertEquals("subTest4" , 3  , 6/2  )
   self~assertEquals("subTest5" , 1  , 9//4 )
   self~assertEquals("subTest6" , 2  , 9%4  )
   self~assertEquals("subTest7" , 8  , 2**3 )
   self~assertEquals("subTest8" , 5  , +5   ) /* Prefix + */
   self~assertEquals("subTest9" , -5 , -5   ) /* Prefix - */

   self~assertEquals("subTest11" , 10 , 5~'+'(5)  )
   self~assertEquals("subTest12" , 3  , 8~'-'(5)  )
   self~assertEquals("subTest13" , 10 , 5~'*'(2)  )
   self~assertEquals("subTest14" , 3  , 6~'/'(2)  )
   self~assertEquals("subTest15" , 1  , 9~'//'(4) )
   self~assertEquals("subTest16" , 2  , 9~'%'(4)  )
   self~assertEquals("subTest17" , 8  , 2~'**'(3) )
   self~assertEquals("subTest18" , 5  , 5~'+'     ) /* Prefix + */
   self~assertEquals("subTest19" , -5 , 5~'-'     ) /* Prefix - */

::method "test_comparison_operators"
   self~assertTrue( "subTest1"  , 5=5    ) /* equal */
   self~assertTrue( "subTest2"  , 42\=41 ) /* All of these are */
   self~assertTrue( "subTest3"  , 42><41 ) /* "not equal" */
   self~assertTrue( "subTest4"  , 42<>41 )
   self~assertTrue( "subTest5"  , 13>12  ) /* Variations of */
   self~assertTrue( "subTest6"  , 12<13  ) /* less than and */
   self~assertTrue( "subTest7"  , 13>=12 ) /* greater than */
   self~assertFalse("subTest8"  , 12\<13 )
   self~assertTrue( "subTest9"  , 12<=13 )
   self~assertTrue( "subTest10" , 12\>13 )

   self~assertTrue( "subTest11" , 5~'='(5)    ) /* equal */
   self~assertTrue( "subTest12" , 42~'\='(41) ) /* All of these are */
   self~assertTrue( "subTest13" , 42~'><'(41) ) /* "not equal" */
   self~assertTrue( "subTest14" , 42~'<>'(41) )
   self~assertTrue( "subTest15" , 13~'>'(12)  ) /* Variations of */
   self~assertTrue( "subTest16" , 12~'<'(13)  ) /* less than and */
   self~assertTrue( "subTest17" , 13~'>='(12) ) /* greater than */
   self~assertFalse("subTest18" , 12~'\<'(13) )
   self~assertTrue( "subTest19" , 12~'<='(13) )
   self~assertTrue( "subTest20" , 12~'\>'(13) )

   -- identical
   self~assertTrue( "subTest21"  , 'space'  ==  'space'  )  /* Strictly equal */
   self~assertTrue( "subTest22"  , 'space'  \== ' space' )  /* Strictly not equal */
   self~assertTrue( "subTest23"  , 'space'  >>  ' space' )  /* Variations of */
   self~assertTrue( "subTest24"  , ' space' <<  'space'  )  /* strictly greater */
   self~assertTrue( "subTest25"  , 'space'  >>= ' space' )  /* than and less than */
   self~assertTrue( "subTest26"  , 'space'  \<< ' space' )
   self~assertTrue( "subTest27"  , ' space' <<= 'space'  )
   self~assertTrue( "subTest28"  , ' space' \>> 'space'  )

   self~assertTrue( "subTest29"  , 'space'~'=='('space')   )  /* Strictly equal */
   self~assertTrue( "subTest30"  , 'space'~'\=='(' space') )  /* Strictly not equal */
   self~assertTrue( "subTest31"  , 'space'~'>>'(' space')  )  /* Variations of */
   self~assertTrue( "subTest32"  , ' space'~'<<'('space')  )  /* strictly greater */
   self~assertTrue( "subTest33"  , 'space'~'>>='(' space') )  /* than and less than */
   self~assertTrue( "subTest34"  , 'space'~'\<<'(' space') )
   self~assertTrue( "subTest35"  , ' space'~'<<='('space') )
   self~assertTrue( "subTest36"  , ' space'~'\>>'('space') )

::method "test_logical_operators"
   self~assertFalse( "subTest1"  , 0&0   )
   self~assertFalse( "subTest2"  , 1&0   )
   self~assertFalse( "subTest3"  , 0&1   )
   self~assertTrue(  "subTest4"  , 1&1   )
   self~assertFalse( "subTest5"  , 0&1&0 )
   self~assertTrue(  "subTest6"  , 1&1&1 )
   self~assertFalse( "subTest7"  , 0|0   )
   self~assertTrue(  "subTest8"  , 1|0   )
   self~assertTrue(  "subTest9"  , 0|1   )
   self~assertTrue(  "subTest10" , 0|1|0 )
   self~assertTrue(  "subTest11" , 1|0|1 )
   self~assertTrue(  "subTest12" , 1&&0  )
   self~assertTrue(  "subTest13" , 0&&1  )
   self~assertFalse( "subTest14" , 1&&1  )
   self~assertFalse( "subTest15" , 0&&0  )
   self~assertFalse( "subTest16" , \1    )
   self~assertTrue(  "subTest17" , \0    )

::method "test_concatenation_operators"
   num=33
   self~assertSame("subTest1" , "33%"              , num"%"                           ) /* abuttal */
   self~assertSame("subTest2" , "33%"              , num~""('%')                      )
   self~assertSame("subTest3" , "ooRexx"           , "ooR"||"exx"                     ) /* || */
   self~assertSame("subTest4" , "ooRexx"           , "ooR"~'||'("exx")                ) /* || */
   self~assertSame("subTest5" , "Open Object Rexx" , 'Open'  'Object' 'Rexx'          ) /* blank */
   self~assertSame("subTest6" , "Open Object Rexx" , ('Open'  'Object')  ~' '('Rexx') )
   self~assertSame("subTest7" , "Open Object Rexx" , 'Open'~' '('Object')~' '('Rexx') )

   -- test the BIF, using examples from the documentation
::method "test_ABBREV"

   self~assertTrue(  "subTest1", 'Print'~ABBREV("Pri")    )

   self~assertFalse( "subTest2", "PRINT"~ABBREV("Pri")    )
   self~assertFalse( "subTest3", "PRINT"~ABBREV("PRI", 4) )
   self~assertFalse( "subTest4", "PRINT"~ABBREV("PRY")    )
   self~assertTrue(  "subTest5", "PRINT"~ABBREV("")       )
   self~assertFalse( "subTest6", "PRINT"~ABBREV("", 1)    )

----------
::method "test_bif2method_1"
   self~assertSame("subTest1", .true, ''~abbrev(''))

::method "test_bif2method_2"
   self~assertSame("subTest2", .false, ''~abbrev('a'))

::method "test_bif2method_3"
   self~assertSame("subTest3", .true, 'a'~abbrev(''))

::method "test_bif2method_4"
   self~assertSame("subTest4", .true, 'a'~abbrev('a'))

::method "test_bif2method_5"
   self~assertSame("subTest5", .false, 'a'~abbrev('b'))

::method "test_bif2method_6"
   s="XRANGE"('00'x,'FF'x)
   Do i=0 To 256
      s30="SUBSTR"(s,1,30)
      t="SUBSTR"(s,1,i)
      self~assertSame("subTest6-"i, .true, s~abbrev(t))
      r="ABBREV"(s30,t)
      If i<=30 Then
         self~assertSame("subTest6-"i, .true, s30~abbrev(t))
      Else                 /* longer string is never abbrev of shorter */
         self~assertSame("subTest6-"i, .false, s30~abbrev(t))
      End

::method "test_bif2method_7"
   do i=0 to 255
      do j=0 to 255
         s=d2c(i)||d2c(j)                /* s='0000'X...'FFFF'X            */
         t=d2c(j)                        /* t='00'X...'FF'X                */
         self~assertSame("subTest7-"i"-"j, (i = j) , s~abbrev(t, 1))
         End
      End

::method "test_bif2method_8"
   li=10000
   s='abcdefghijklmnopqrstuvwxyz1234567890 '
   slong="COPIES"(s,li)
   tlong="COPIES"(s,li-1)
   self~assertSame("subTest8", .true, slong~abbrev(slong))

::method "test_bif2method_9"
   li=10000
   slong="COPIES"(s,li)
   tlong="COPIES"(s,li-1)
   self~assertSame("subTest9", .true, slong~abbrev(tlong))

::method "test_bif2method_10"
   li=10000
   tlong=tlong||'x'
   tlong="COPIES"(s,li-1)
   self~assertSame("subTest10", .false, slong~abbrev('00'x))

::method "test_bif2method_11"
   self~assertSame("subTest11", .false, slong~abbrev(tlong))

::method "test_bif2method_12"
   self~assertSame("subTest12", .true, ''~abbrev('', 0))

::method "test_bif2method_13"
   self~assertSame("subTest13", .false, ''~abbrev('', 1))

::method "test_bif2method_14"
   self~assertSame("subTest14", .false, ''~abbrev('a', 1))

::method "test_bif2method_15"
   self~assertSame("subTest15", .false, 'a'~abbrev('', 1))

::method "test_bif2method_16"
   self~assertSame("subTest16", .true, 'a'~abbrev('a', 0))

::method "test_bif2method_17"
   self~assertSame("subTest17", .true, 'a'~abbrev('a', 1))

::method "test_bif2method_18"
   self~assertSame("subTest18", .false, 'a'~abbrev('a', 2))

::method "test_bif2method_19"
   self~assertSame("subTest19", .false, 'a'~abbrev('b', 1))

::method "test_bif2method_20"
   s="XRANGE"('00'x,'FF'x)
   Do i=0 To 256
      s30="SUBSTR"(s,1,30)
      t="SUBSTR"(s,1,i)
      i1="MAX"(i-1,0)
      i2=i+1
      self~assertSame("subTest20-"i'-1', .true, s~abbrev(t, i1))
      self~assertSame("subTest20-"i'-2', .true, s~abbrev(t, i))
      self~assertSame("subTest20-"i'-3', .false, s~abbrev(t, i2))
      If 15<=i & i<=30 Then
         self~assertSame("subTest20-"i'-4', .true, s30~abbrev(t, 15))
      Else
         self~assertSame("subTest20-"i'-4', .false, s30~abbrev(t, 15))
      End

::method "test_bif2method_21"
   li=10000
   s='abcdefghijklmnopqrstuvwxyz1234567890 '
   slong="COPIES"(s,li)
   tlong="COPIES"(s,li-1)
   self~assertSame("subTest21", .true, slong~abbrev(slong, 30*li))

::method "test_bif2method_23"
   li=10000
   ll=2**29-1
   s='abcdefghijklmnopqrstuvwxyz1234567890 '
   slong="COPIES"(s,li)
   self~assertSame("subTest22", .false, slong~abbrev(slong, ll))

::method "test_bif2method_24"
   li=10000
   s='abcdefghijklmnopqrstuvwxyz1234567890 '
   slong="COPIES"(s,li)
   tlong="COPIES"(s,li-1)
   self~assertSame("subTest24", .true, slong~abbrev(tlong, (li-1)*length(s)))

::method "test_bif2method_25"
   li=10000
   s='abcdefghijklmnopqrstuvwxyz1234567890 '
   slong="COPIES"(s,li)
   tlong="COPIES"(s,li-1)
   tlong=tlong||'x'
   self~assertSame("subTest25", .false, slong~abbrev('00'x, 1))

::method "test_bif2method_26"
   li=10000
   s='abcdefghijklmnopqrstuvwxyz1234567890 '
   slong="COPIES"(s,li)
   tlong="COPIES"(s,li-1)
   tlong=tlong||'x'
   self~assertSame("subTest26", .false, slong~abbrev(tlong, 0000100))

::method "test_bif2method_27"
   inform='Walter Pachl'
   info='Wal'
   self~assertSame("subTest27", .true, inform~abbrev(info, 3))

::method "test_bif2method_28"
   inform='Walter Pachl'
   info='Wal'
   self~assertSame("subTest28", .false, inform~abbrev(info, 004))

::method "test_bif2method_29"
   inform='Walter Pachl'
   info='Wal'
   self~assertSame("subTest29", .true, inform~abbrev(info, 2E0))

::method "test_bif2method_30"
   inform='Walter Pachl'
   info='Wal'
   self~assertSame("subTest30", .false, inform~abbrev(info, 02E+00000002))

::method "test_bif2method_31"
   inform='Walter Pachl'
   info='Wal'
   self~assertSame("subTest31", .true, inform~abbrev(info, '      3    '))

::method "test_bif2method_32"
   inform='Walter Pachl'
   info='Wal'
   self~assertSame("subTest32", .true, inform~abbrev(info, '20202B2033'x))

::method "test_bif2method_35"
   inform='Walter Pachl'
   info='Wal'
   a=3
   self~assertSame("subTest35", .true, inform~abbrev(info, a))

::method "test_bif2method_36"
   inform='Walter Pachl'
   info='Wal'
   a=3
   self~assertSame("subTest36", .true, inform~abbrev(info, a-1))

::method "test_bif2method_42"
   inform='Walter Pachl'
   info='Wal'
   do i=0 to 255
      x="D2C"(i)
      info=x||x||x
      self~assertSame("subTest42"i'-1', .true, info~abbrev(x))
      If "ABBREV"(info,'  ') Then
         self~assertSame("subTest42"i'-2', .true, info~abbrev('  '))
      End

::method "test_bif2method_43"
   self~assertSame("subTest43", .true, '1.000003'~abbrev(1.000, 5))

::method "test_bif2method_44"
   self~assertSame("subTest44", .true, '12345678'x~abbrev('123456'x, 2))

::method "test_bif2method_45"
   n='translator'
   self~assertSame("subTest45", .true, n~abbrev('tr', 2))

::method "test_bif2method_46"
   n=17+4
   self~assertSame("subTest46", .true, n~abbrev(+.2e1, 1))

::method "test_bif2method_47"
   self~assertSame("subTest47", .true, novalue~abbrev('NOV'))

::method "test_bif2method_48"
   self~assertSame("subTest48", .true, 'NOVALUE'~abbrev(nov))

::method "test_bif2method_49"
   self~expectSyntax(93.905)
   self~assertSame("subTest49", .false, 'NOVALUE'~abbrev('NOV', novalue))

::method "test_bif2method_50"
   self~assertSame("subTest50", .true, novalue~abbrev('NOV'))

::method "test_bif2method_51"
   self~assertSame("subTest51", .true, ''~abbrev(''))

::method "test_bif2method_52"
   self~assertSame("subTest52", .true, 'a'~abbrev(''))

::method "test_bif2method_53"
   self~assertSame("subTest53", .true, v30~abbrev(''))

::method "test_bif2method_54"
   self~assertSame("subTest54", .true, v250~abbrev(''))

::method "test_bif2method_55"
   v255="XRANGE"('00'x,'FF'x)
   self~assertSame("subTest55", .true, v255~abbrev(''))

::method "test_bif2method_56"
   v10000 ="COPIES"('123456789Z',1000)
   self~assertSame("subTest56", .true, v10000~abbrev(''))

::method "test_bif2method_57"
   self~assertSame("subTest57", .true, (12+4)~abbrev(''))

::method "test_bif2method_58"
   self~assertSame("subTest58", .false, ''~abbrev('X'))

::method "test_bif2method_59"
   self~assertSame("subTest59", .true, 'a'~abbrev('a'))

::method "test_bif2method_60"
   v30    ='abcdefghijklmnopqrstuvwxyz1234'
   self~assertSame("subTest60", .true, v30~abbrev('abc'))

::method "test_bif2method_61"
   v250='"'||"XRANGE"('00'x,'7E'x)||'""'||"XRANGE"('80'x,'F9'x)||'"'
   self~assertSame("subTest61", .false, v250~abbrev('0001'x))

::method "test_bif2method_62"
   v255="XRANGE"('00'x,'FF'x)
   self~assertSame("subTest62", .true, v255~abbrev('0001'x))

::method "test_bif2method_63"
   v10000 ="COPIES"('123456789Z',1000)
   v9999  ="LEFT"(v10000,9999)
   self~assertSame("subTest63", .true, v10000~abbrev(v9999))

::method "test_bif2method_64"
   self~assertSame("subTest64", .true, (12+4)~abbrev('1'))

::method "test_bif2method_65"
   self~assertSame("subTest65", .false, 'a'~abbrev('b'))

::method "test_bif2method_66"
   v30    ='abcdefghijklmnopqrstuvwxyz1234'
   self~assertSame("subTest66", .false, v30~abbrev('acb'))

::method "test_bif2method_67"
   v250='"'||"XRANGE"('00'x,'7E'x)||'""'||"XRANGE"('80'x,'F9'x)||'"'
   self~assertSame("subTest67", .false, v250~abbrev('0102'x))

::method "test_bif2method_68"
   v255="XRANGE"('00'x,'FF'x)
   self~assertSame("subTest68", .false, v255~abbrev('fffe'x))

::method "test_bif2method_69"
   v10000 ="COPIES"('123456789Z',1000)
   v9998  ="RIGHT"(v10000,9998)
   self~assertSame("subTest69", .false, v10000~abbrev(v9998))

::method "test_bif2method_70"
   self~assertSame("subTest70", .false, (12+4)~abbrev('2'))

::method "test_bif2method_71"
   self~assertSame("subTest71", .false, 'aa'~abbrev('bb'))

::method "test_bif2method_72"
   v30    ='abcdefghijklmnopqrstuvwxyz1234'
   self~assertSame("subTest72", .true, v30~abbrev(v30))

::method "test_bif2method_73"
   v250='"'||"XRANGE"('00'x,'7E'x)||'""'||"XRANGE"('80'x,'F9'x)||'"'
   self~assertSame("subTest73", .true, v250~abbrev(v250))

::method "test_bif2method_74"
   v255="XRANGE"('00'x,'FF'x)
   self~assertSame("subTest74", .true, v255~abbrev(v255))

::method "test_bif2method_75"
   v10000 ="COPIES"('123456789Z',1000)
   self~assertSame("subTest75", .true, v10000~abbrev(v10000))

::method "test_bif2method_76"
   self~assertSame("subTest76", .true, (12+4)~abbrev('16'))

::method "test_bif2method_77"
   self~assertSame("subTest77", .false, 'aa'~abbrev('aaa'))

::method "test_bif2method_78"
   v30    ='abcdefghijklmnopqrstuvwxyz1234'
   self~assertSame("subTest78", .false, v30~abbrev(v30||'5'))

::method "test_bif2method_79"
   v250='"'||"XRANGE"('00'x,'7E'x)||'""'||"XRANGE"('80'x,'F9'x)||'"'
   self~assertSame("subTest79", .false, v250~abbrev(v250||'.'))

::method "test_bif2method_80"
   v255="XRANGE"('00'x,'FF'x)
   v10000 ="COPIES"('123456789Z',1000)
   self~assertSame("subTest80", .false, v255~abbrev(v10000))

::method "test_bif2method_81"
   v10000 ="COPIES"('123456789Z',1000)
   v10001.=v10000.||'*'
   self~assertSame("subTest81", .false, v10000~abbrev(v10001))

::method "test_bif2method_82"
   self~assertSame("subTest82", .false, (12+4)~abbrev('16 '))

::method "test_bif2method_83"
   self~assertSame("subTest83", .false, (12+4)~abbrev('4+11+1'))

::method "test_bif2method_84"
   self~assertSame("subTest84", .true, 'aa'~abbrev('a', 0))

::method "test_bif2method_85"
   v30    ='abcdefghijklmnopqrstuvwxyz1234'
   self~assertSame("subTest85", .true, v30~abbrev('abc', 0))

::method "test_bif2method_86"
   v250='"'||"XRANGE"('00'x,'7E'x)||'""'||"XRANGE"('80'x,'F9'x)||'"'
   self~assertSame("subTest86", .false, v250~abbrev('0001'x, 0))

::method "test_bif2method_87"
   v255="XRANGE"('00'x,'FF'x)
   self~assertSame("subTest87", .true, v255~abbrev('0001'x, 0))

::method "test_bif2method_88"
   v10000 ="COPIES"('123456789Z',1000)
   v9999  ="LEFT"(v10000,9999)
   self~assertSame("subTest88", .true, v10000~abbrev(v9999, 0))

::method "test_bif2method_89"
   self~assertSame("subTest89", .true, (12+4)~abbrev('1', 0))

::method "test_bif2method_90"
   self~assertSame("subTest90", .true, 'aba'~abbrev('ab', 1))

::method "test_bif2method_91"
   v30    ='abcdefghijklmnopqrstuvwxyz1234'
   self~assertSame("subTest91", .true, v30~abbrev('abc', 2))

::method "test_bif2method_92"
   v250='"'||"XRANGE"('00'x,'7E'x)||'""'||"XRANGE"('80'x,'F9'x)||'"'
   self~assertSame("subTest92", .false, v250~abbrev('0001'x, 1))

::method "test_bif2method_93"
   v255="XRANGE"('00'x,'FF'x)
   self~assertSame("subTest93", .true, v255~abbrev('000102'x, 2))

::method "test_bif2method_94"
   v10000 ="COPIES"('123456789Z',1000)
   v9999  ="LEFT"(v10000,9999)
   self~assertSame("subTest94", .true, v10000~abbrev(v9999, 9998))

::method "test_bif2method_95"
   self~assertSame("subTest95", .true, (123+4)~abbrev('12', 1))

::method "test_bif2method_96"
   self~assertSame("subTest96", .true, 'aba'~abbrev('ab', 2))

::method "test_bif2method_97"
   v30    ='abcdefghijklmnopqrstuvwxyz1234'
   self~assertSame("subTest97", .true, v30~abbrev('abc', 3))

::method "test_bif2method_98"
   v250='"'||"XRANGE"('00'x,'7E'x)||'""'||"XRANGE"('80'x,'F9'x)||'"'
   self~assertSame("subTest98", .false, v250~abbrev('0001'x, 2))

::method "test_bif2method_99"
   v255="XRANGE"('00'x,'FF'x)
   self~assertSame("subTest99", .true, v255~abbrev('000102'x, 03))

::method "test_bif2method_100"
   v10000 ="COPIES"('123456789Z',1000)
   v9999  ="LEFT"(v10000,9999)
   self~assertSame("subTest100", .true, v10000~abbrev(v9999, 9999))

::method "test_bif2method_101"
   self~assertSame("subTest101", .true, (123+4)~abbrev('12', 2))

::method "test_bif2method_102"
   self~assertSame("subTest102", .false, 'aba'~abbrev('ab', 4))

::method "test_bif2method_103"
   v30    ='abcdefghijklmnopqrstuvwxyz1234'
   self~assertSame("subTest103", .false, v30~abbrev('abc', 4))

::method "test_bif2method_104"
   v250='"'||"XRANGE"('00'x,'7E'x)||'""'||"XRANGE"('80'x,'F9'x)||'"'
   self~assertSame("subTest104", .false, v250~abbrev('0001'x, 3))

::method "test_bif2method_105"
   v255="XRANGE"('00'x,'FF'x)
   self~assertSame("subTest105", .false, v255~abbrev('000102'x, 4))

::method "test_bif2method_106"
   v10000 ="COPIES"('123456789Z',1000)
   v9999  ="LEFT"(v10000,9999)
   self~assertSame("subTest106", .false, v10000~abbrev(v9999, 10000))

::method "test_bif2method_107"
   self~assertSame("subTest107", .false, (123+4)~abbrev('12', 4))

::method "test_bif2method_108"
   self~assertSame("subTest108", .true, 1.00000000000003~abbrev(1.00))

::method "test_bif2method_109"
   self~assertSame("subTest109", .true, 1.00000000000003~abbrev(1.00, 1.00))

::method "test_bif2method_110"
   self~assertSame("subTest110", .true, '   1.2E+99999999999999    '~abbrev('   1.2E+99', 3))

::method "test_bif2method_111"
   self~assertSame("subTest111", .true, noval~abbrev(n))

::method "test_bif2method_112"
   self~expectSyntax(93.905)
   self~assertSame("subTest112", .false, noval~abbrev(1, n))

::method "test_bif2method_113"
   self~assertSame("subTest113", .true, n~abbrev(n))

::method "test_bif2method_114"
   self~assertSame("subTest114", .false, 'N.NN'~abbrev(n, 3))

::method "test_bif2method_115"
   self~expectSyntax(93.905)
   self~assertSame("subTest115", .false, 'NNNN'~abbrev('N', n))

::method "test_bif2method_116"
   three=3
   self~assertSame("subTest116", .false, 'NNNN'~abbrev('N', three))

::method "test_bif2method_117"
   self~assertSame("subTest117", .true, noval.1~abbrev(n))

::method "test_bif2method_118"
   self~assertSame("subTest118", .true, 'NNNN'~abbrev(n))

::method "test_bif2method_119"
   self~assertSame("subTest119", .true, 'N.NN'~abbrev(n))

::method "test_bif2method_120"
   self~assertSame("subTest120", .false, 'N.3N'~abbrev(n, 3))

::method "test_bif2method_121"
   Numeric Digits 1
   self~assertSame("subTest121", .false, '12345678900987654321'~abbrev('1234567890012', 12))

::method "test_bif2method_122"
   Numeric Digits 1
   self~assertSame("subTest122", .true, '12345678900987654321'~abbrev('12345678900', +12))

::method "test_bif2method_123"
   Numeric Digits 1
   self~assertSame("subTest123", .false, '12345678900987654321'~abbrev('1234567890012', 1e1))

::method "test_bif2method_124"
   Numeric Digits 1
   self~assertSame("subTest124", .false, '12345678900987654321'~abbrev('1234567890012', +0.01e2))

::method "test_bif2method_125"
   self~expectSyntax(93.905)
   self~assertSame("subTest125", .false, '12345678900987654321'~abbrev('1234567890012', +0.01e1))

   -- rexxref documentation tests
   word="Print"
   self~assertSame("subTest200", .true, word~abbrev("Pri"))
   word="PRINT"
   self~assertSame("subTest201", .false, word~abbrev("Pri"))
   self~assertSame("subTest202", .false, word~abbrev("PRI", 4))
   self~assertSame("subTest203", .false, word~abbrev("PRY"))
   self~assertSame("subTest204", .true, word~abbrev(""))
   self~assertSame("subTest205", .false, word~abbrev("", 1))

----------


   -- test the BIF, using examples from the documentation
::method "test_ABBREV_caseless"

   self~assertTrue(  "subTest1", 'Print'~caselessABBREV("Pri")    )

   self~assertTrue(  "subTest2", "PRINT"~caselessABBREV("Pri")    )
   self~assertFalse( "subTest3", "PRINT"~caselessABBREV("PRI", 4) )
   self~assertFalse( "subTest4", "PRINT"~caselessABBREV("PRY")    )
   self~assertTrue(  "subTest5", "PRINT"~caselessABBREV("")       )
   self~assertFalse( "subTest6", "PRINT"~caselessABBREV("", 1)    )


   -- test the BIF, using examples from the documentation
::method "test_ABS"

   self~assertEquals("subTest1" , 12.3  ,  12.3~ABS     )
   self~assertEquals("subTest1b", 12.3  ,'12.3'~ABS     )
   self~assertEquals("subTest2" , 0.307 , ' -0.307'~ABS )

      -- new tests
   self~assertEquals("subTest03", 0 ,  ' -0'~ABS   )
   self~assertEquals("subTest04", 0 ,  ' +0'~ABS   )
   self~assertEquals("subTest05", 0 ,  ' - 0 '~ABS )
   self~assertEquals("subTest06", 0 ,  ' + 0 '~ABS )
   self~assertEquals("subTest07", 1 ,  ' -1'~ABS   )
   self~assertEquals("subTest08", 1 ,  ' +1'~ABS   )
   self~assertEquals("subTest09", 1 ,  ' - 1 '~ABS )
   self~assertEquals("subTest10", 1 ,  ' + 1 '~ABS )

::method "test_bif_abs_2method_1"
   self~assertSame("subTest1", (5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555)~abs,'5.55555556E+249')

::method "test_bif_abs_2method_2"
   self~assertSame("subTest2", (-99999%3)~abs,33333)

::method "test_bif_abs_2method_3"
   self~assertSame("subTest3", (5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555/3)~abs,1.85185185E+249)

::method "test_bif_abs_2method_4"
   self~assertSame("subTest4", (003)~abs,'3')

::method "test_bif_abs_2method_5"
   self~assertSame("subTest5", (-000003)~abs,'3')

::method "test_bif_abs_2method_6"
   self~assertSame("subTest6", (-.003E17)~abs,'3E+14')

::method "test_bif_abs_2method_7"
   self~assertSame("subTest7", (.03E2)~abs,'3')

::method "test_bif_abs_2method_8"
   self~assertSame("subTest8", (copies(' ',1000)'   3  ')~abs, '3')

::method "test_bif_abs_2method_9"
   self~assertSame("subTest9", ('   3  ')~abs,'3')

::method "test_bif_abs_2method_10"
   self~assertSame("subTest10", (' + 31 ')~abs,'31')

::method "test_bif_abs_2method_11"
   self~assertSame("subTest11", (' - 31 ')~abs,'31')

::method "test_bif_abs_2method_12"
   self~assertSame("subTest12", ( 0 + 31 )~abs,'31')

::method "test_bif_abs_2method_13"
   self~assertSame("subTest13", ( 0 + '  31 ' )~abs,'31')

::method "test_bif_abs_2method_14"
   self~expectSyntax(93.943)
   self~assertSame("subTest14", (' 0 + 31 ')~abs,'31')

::method "test_bif_abs_2method_15"
   self~assertSame("subTest15", ('300  ')~abs,'300')

::method "test_bif_abs_2method_16"
   self~assertSame("subTest16", ('          300')~abs,'300')

::method "test_bif_abs_2method_17"
   self~assertSame("subTest17", ('2B303033'x)~abs,'3')

::method "test_bif_abs_2method_18"
   a=11111111
   self~assertSame("subTest18", (a)~abs,'11111111')

::method "test_bif_abs_2method_19"
   a=11111111
   b=-33333333
   self~assertSame("subTest19", (a+b)~abs,'22222222')

::method "test_bif_abs_2method_20"
   self~assertSame("subTest20", (2-9)~abs,'7')

::method "test_bif_abs_2method_21"
   self~assertSame("subTest21", ('-'||2||'.'||'E+3')~abs,'2000')

::method "test_bif_abs_2method_22"
   self~expectSyntax(93.943)
   self~assertSame("subTest22", ('a')~abs,'a')

::method "test_bif_abs_2method_23"
   self~assertSame("subTest23", ('-4.2')~abs,'4.2')

::method "test_bif_abs_2method_24"
   self~assertSame("subTest24", '414253'x( -4.2), '4.2')

::method "test_bif_abs_2method_25"
   n=-33333333
   Numeric Digits 5
   Numeric Form Engineering
   self~assertSame("subTest25", (n)~abs,'33.333E+6')

::method "test_bif_abs_2method_26"
   n=-33333333
   Numeric Digits 5
   Numeric Form Engineering
   self~assertSame("subTest26", (-n)~abs,'33.333E+6')

::method "test_bif_abs_2method_27"
   n=-33333333
   Numeric Digits 5
   Numeric Form Engineering
   self~assertSame("subTest27", (1E-0234567890)~abs,10E-234567891)

::method "test_bif_abs_2method_28"
   Numeric Digits 5
   Numeric Form Engineering
   self~assertSame("subTest28", (10.5e12-1389004007)~abs,'10.499E+12')

::method "test_bif_abs_2method_29"
   self~expectSyntax(93.943)
   self~assertSame("subTest29", (1E1234567890)~abs,1)

::method "test_bif_abs_2method_30"
   self~expectSyntax(93.943)
   self~assertSame("subTest30", (novalue)~abs,1)

::method "test_bif_abs_2method_31"
   self~expectSyntax(93.943)
   three = 3
   self~assertSame("subTest31", (stem.three)~abs,3)

::method "test_bif_abs_2method_abs_subtest32"
   self~expectSyntax(93.943)
   self~assertSame("subTestss", (invalid)~abs,3)

::method "test_bif_abs_2method_33"
   Numeric Digits 5
   Numeric Form Engineering
   stem.=-18.000000000000000004
   self~assertSame("subTest33", (stem.four )~abs,'18.000')

::method "test_bif_abs_2method_34"
   Numeric Digits 10000
   Numeric Form Engineering
   li=Copies('6',8000)
   self~assertSame("subTest34", (li)~abs,copies('6', 8000))

::method "test_bif_abs_2method_35"
   Numeric Digits 10000
   Numeric Form Engineering
   self~assertSame("subTest35", ('12.3')~abs,'12.3')

::method "test_bif_abs_2method_36"
   Numeric Digits 10000
   Numeric Form Engineering
   self~assertSame("subTest36", ('-0.307')~abs,'0.307')

::method "test_bif_abs_2method_37"
   Numeric Digits 10000
   Numeric Form Engineering
   self~assertSame("subTest37", 0, (' -0')~abs)

::method "test_bif_abs_2method_38"
   Numeric Digits 10000
   Numeric Form Engineering
   self~assertSame("subTest38", 0, (' +0')~abs)

::method "test_bif_abs_2method_39"
   Numeric Digits 10000
   Numeric Form Engineering
   self~assertSame("subTest39", 0, (' - 0 ')~abs)

::method "test_bif_abs_2method_40"
   Numeric Digits 10000
   Numeric Form Engineering
   self~assertSame("subTest40", 0, (' + 0 ')~abs)

::method "test_bif_abs_2method_41"
   Numeric Digits 10000
   Numeric Form Engineering
   self~assertSame("subTest41", 1, (' -1')~abs)

::method "test_bif_abs_2method_42"
   Numeric Digits 10000
   Numeric Form Engineering
   self~assertSame("subTest42", 1, (' +1')~abs)

::method "test_bif_abs_2method_43"
   Numeric Digits 10000
   Numeric Form Engineering
   self~assertSame("subTest43", 1, (' - 1 ')~abs)

::method "test_bif_abs_2method_44"
   Numeric Digits 10000
   Numeric Form Engineering
   self~assertSame("subTest44", 1, (' + 1 ')~abs)

   -- rexxref documentation tests

::method "test_bif_abs_2method_101"
   self~assertSame("subTest101", 12.3, ('12.3')~abs)

::method "test_bif_abs_2method_102"
   self~assertSame("subTest102", 0.307, (' -0.307')~abs)

   -- test the BIF, using examples from the documentation
::method "test_B2X"

   self~assertSame("subTest1" , 'C3'  , '11000011'~B2X    )
   self~assertSame("subTest2" , '17'  , '10111'~B2X       )
   self~assertSame("subTest3" , '5'   , '101'~B2X         )
   self~assertSame("subTest4" , '1F0' , '1 1111 0000'~B2X )
   self~assertSame("subTest5" , '23'  , '10111'~B2X~X2D   ) /* decimal 23 */

::method "test_bif_b2x_2method_1"
   self~expectSyntax(93.934)
   xre = '()'~b2x

::method "test_bif_b2x_2method_2"
   self~expectSyntax(93.932)
   self~assertSame("subTest2", (' ')~b2x, ' ')

::method "test_bif_b2x_2method_3"
   self~assertSame("subTest3", ('1111')~b2x, 'F')

::method "test_bif_b2x_2method_4"
   self~assertSame("subTest4", ('0001 0001')~b2x, '11')

::method "test_bif_b2x_2method_5"
   self~assertSame("subTest5", ('1 0001')~b2x, '11')

::method "test_bif_b2x_2method_6"
   self~expectSyntax(93.932)
   self~assertSame("subTest6", (' 1111')~b2x, 'F')

::method "test_bif_b2x_2method_7"
   self~expectSyntax(93.932)
   self~assertSame("subTest7", (' 0001 0001')~b2x, '11')

::method "test_bif_b2x_2method_8"
   self~expectSyntax(93.932)
   self~assertSame("subTest8", (' 1 0001')~b2x, '11')

::method "test_bif_b2x_2method_9"
   self~expectSyntax(93.932)
   self~assertSame("subTest9", ('1111 ')~b2x, '1')

::method "test_bif_b2x_2method_10"
   self~expectSyntax(93.932)
   self~assertSame("subTest10", ('0001 0001 ')~b2x, '11')

::method "test_bif_b2x_2method_11"
   self~expectSyntax(93.932)
   self~assertSame("subTest11", ('1 0001 ')~b2x, '11')

::method "test_bif_b2x_2method_12"
   self~assertSame("subTest12", (1111)~b2x, 'F')

::method "test_bif_b2x_2method_13"
   self~assertSame("subTest13", ( 1111)~b2x, 'F')

::method "test_bif_b2x_2method_14"
   self~assertSame("subTest14", (1111 )~b2x, 'F')

::method "test_bif_b2x_2method_15"
   self~assertSame("subTest15", (0001 0001)~b2x, '11')

::method "test_bif_b2x_2method_16"
   self~assertSame("subTest16", ( 0001 0001)~b2x, '11')

::method "test_bif_b2x_2method_17"
   self~assertSame("subTest17", (0001 0001 )~b2x, '11')

::method "test_bif_b2x_2method_18"
   self~assertSame("subTest18", (1 0001)~b2x, '11')

::method "test_bif_b2x_2method_19"
   self~assertSame("subTest19", ( 1 0001)~b2x, '11')

::method "test_bif_b2x_2method_20"
   self~assertSame("subTest20", (1 0001 )~b2x, '11')

::method "test_bif_b2x_2method_21"
   self~assertSame("subTest21", (10*11)~b2x, '6')

::method "test_bif_b2x_2method_22"
   self~assertSame("subTest22", (11E+2*10)~b2x, '18')

::method "test_bif_b2x_2method_23"
   self~assertSame("subTest23", (1.01E+2+10)~b2x, '7')

::method "test_bif_b2x_2method_24"
   self~assertSame("subTest24", ('1'||Copies(' ',100000)||'0001')~b2x, '11')

::method "test_bif_b2x_2method_25"
   self~expectSyntax(93.932)
   self~assertSame("subTest25", (' 1 0001')~b2x, '11')

::method "test_bif_b2x_2method_26"
   self~expectSyntax(93.932)
   self~assertSame("subTest26", ('1 0001 ')~b2x, '11')

::method "test_bif_b2x_2method_27"
   self~expectSyntax(93.934)
   self~assertSame("subTest27", (Xrange('00'x,'FF'x))~b2x, '11')

::method "test_bif_b2x_2method_28"
   self~expectSyntax(93.934)
   self~assertSame("subTest28", (Copies('AB',50000))~b2x, '11')

::method "test_bif_b2x_2method_29"
   self~expectSyntax(93.934)
   self~assertSame("subTest29", ('\'||Copies('10',50000))~b2x, '11')

::method "test_bif_b2x_2method_30"
   self~assertSame("subTest30", ('1'||Copies('0',249))~b2x, '200000000000000000000000000000000000000000000000000000000000000')

::method "test_bif_b2x_2method_31"
   self~assertSame("subTest31",(('1'||Copies('0',254))~b2x)~length, 64)

::method "test_bif_b2x_2method_32"
   self~assertSame("subTest32", (('1'||Copies('0',255))~b2x)~length, 64)

::method "test_bif_b2x_2method_33"
   self~assertSame("subTest33", ((Copies('10',50000))~b2x)~length, 25000)

-- rexxref documentation tests

::method "test_bif_b2x_2method_101"
   self~assertSame("subTest101", ('11000011')~b2x, 'C3')

::method "test_bif_b2x_2method_102"
   self~assertSame("subTest102", ('10111')~b2x, '17')

::method "test_bif_b2x_2method_103"
   self~assertSame("subTest103", ('101')~b2x, '5')

::method "test_bif_b2x_2method_104"
   self~assertSame("subTest104", ('1 1111 0000')~b2x, '1F0')

   -- test the BIF, using examples from the documentation
::method "test_BITAND"

   self~assertSame("subTest1" , '12'x   , '12'x~BITAND                 )
   self~assertSame("subTest2" , '23'x   , '73'x~BITAND('27'x)          )
   self~assertSame("subTest3" , '1155'x , '13'x~BITAND('5555'x)        )
   self~assertSame("subTest4" , '1154'x , '13'x~BITAND('5555'x,'74'x)  )
   self~assertSame("subTest5" , 'PQRS'  , 'pQrS'~BITAND(,'DF'x)        )  /* ASCII */

::method "test_bif_bitand_2method_1"
   self~assertSame("subTest1", ('')~bitand, '')

::method "test_bif_bitand_2method_2"
   self~assertSame("subTest2", ('abc')~bitand, 'abc')

::method "test_bif_bitand_2method_3"
   self~assertSame("subTest3", ('abc'x)~bitand, x2c('0abc'))

::method "test_bif_bitand_2method_4"
   self~assertSame("subTest4", ('a bc de'x)~bitand, x2c('0abcde'))

::method "test_bif_bitand_2method_5"
   v30='1234567890abcdefghijklmnopqrst'
   self~assertSame("subTest5", (v30)~bitand, '1234567890abcdefghijklmnopqrst')

::method "test_bif_bitand_2method_6"
   v255.=copies('*',255)
   self~assertSame("subTest6", (v255)~bitand, v255)

::method "test_bif_bitand_2method_7"
   v255.=copies('*',255)
   v256=v255.||'<'
   self~assertSame("subTest7", (v256)~bitand, v256)

::method "test_bif_bitand_2method_8"
   v100000=Copies('abcd',25000)
   self~assertSame("subTest8", (v100000)~bitand, Copies('abcd', 25000))

::method "test_bif_bitand_2method_9"
   xre = x2C(Copies('1234',116))
   self~assertSame("subTest9", ("12341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234"X)~bitand, xre)

::method "test_bif_bitand_2method_10"
   xre = x2C(Copies('1234',116))
   self~assertSame("subTest10", ("1919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919")~bitand, Copies('19',125))

::method "test_bif_bitand_2method_11"
   self~assertSame("subTest11", ('X')~bitand, 'X')

::method "test_bif_bitand_2method_12"
   self~assertSame("subTest12", ('41'x)~bitand, 'A')

::method "test_bif_bitand_2method_13"
   self~assertSame("subTest13", ('abcde'x)~bitand, 'abcde'x)

::method "test_bif_bitand_2method_14"
   self~assertSame("subTest14", ('an expression' '+'||'others')~bitand, 'an expression +others')

::method "test_bif_bitand_2method_15"
   self~assertSame("subTest15", (17+4)~bitand, '21')

::method "test_bif_bitand_2method_16"
   self~assertSame("subTest16", (12345/3)~bitand, '4115')

::method "test_bif_bitand_2method_17"
   self~assertSame("subTest17", (1E-122/7)~bitand, '1.42857143E-123')

::method "test_bif_bitand_2method_18"
   self~assertSame("subTest18", (SUBSTR('FFFFFF FF'X~bitand,3,1)), 'ff'x)

::method "test_bif_bitand_2method_19"
   self~assertSame("subTest19", ('echoed')~bitand, 'echoed')

::method "test_bif_bitand_2method_20"
   self~assertSame("subTest20", (nv1)~bitand, 'NV1')

::method "test_bif_bitand_2method_21"
   self~assertSame("subTest20", (nv1.3)~bitand, 'NV1.3')

::method "test_bif_bitand_2method_22"
   self~assertSame("subTest22", ('X')~bitand('f3 fe'X), '50fe'x)

::method "test_bif_bitand_2method_23"
   self~assertSame("subTest23", '41'x~bitand('.'), '00'x)

::method "test_bif_bitand_2method_24"
   self~assertSame("subTest24", 'X'~bitand('1'), '10'x)

::method "test_bif_bitand_2method_25"
   self~assertSame("subTest25", 'abc'~bitand('cde'), '616061'x)

::method "test_bif_bitand_2method_26"
   self~assertSame("subTest26", ('abc'X)~bitand('abcd'x), '0a8c'x)

::method "test_bif_bitand_2method_27"
   self~assertSame("subTest27", ("a bc de"X)~bitand(""""), '02bcde'x)

::method "test_bif_bitand_2method_28"
   v30 = '1234567890abcdefghijklmnopqrst'
   self~assertSame("subTest28", v30~bitand('1'), '1234567890abcdefghijklmnopqrst')

::method "test_bif_bitand_2method_29"
   v255 = copies('*',255)
   self~assertSame("subTest29", v255~bitand('55'x), '*'~bitand('55'x)||substr(v255,2))

::method "test_bif_bitand_2method_30"
   v255 = copies('*',255)
   v256 = v255||'<'
   self~assertSame("subTest30", (v256)~bitand(''), v256)

::method "test_bif_bitand_2method_31"
   v100000 = Copies('abcd',25000)
   n100000 = Copies('00'X,100000)
   self~assertSame("subTest31", (v100000)~bitand(n100000), n100000)

::method "test_bif_bitand_2method_32"
   x0000 = '0000'x
   self~assertSame("subTest32", ("1234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234"X)~bitand('0000'X),x0000||x2C(Copies('1234',60)))

::method "test_bif_bitand_2method_33"
   self~assertSame("subTest33", (17+4)~bitand(99+0), '01')

::method "test_bif_bitand_2method_34"
   self~assertSame("subTest34", (12345/3)~bitand(3/12345), '3020'x||'000243013366')

::method "test_bif_bitand_2method_35"
   self~assertSame("subTest35", (1E-122/7)~bitand(1e+122/7), '1.42857143E'||'29'x||'121')

::method "test_bif_bitand_2method_36"
   self~assertSame("subTest36", SUBSTR('FFFFFF FF'X,3,1)~bitand(delstr('4567',2,2)), '47')

::method "test_bif_bitand_2method_37"
   self~assertSame("subTest37", 'echoed'~bitand( '  c  '), '202060202064'X)

::method "test_bif_bitand_2method_38"
   self~assertSame("subTest38", 'one more Time'~bitand( 'c2'X), '42'X||'ne more Time')

::method "test_bif_bitand_2method_39"
   self~assertSame("subTest39", '1'~bitand(nv1), '00'x|| 'V1')

::method "test_bif_bitand_2method_40"
   self~assertSame("subTest40", '2'~bitand(nv2), '02'x|| 'V2')

::method "test_bif_bitand_2method_41"
   self~assertSame("subTest41", '3'~bitand(nv2.3), '02'x|| 'V2.3')

::method "test_bif_bitand_2method_42"
   self~assertSame("subTest42", nv1~bitand(nv1), 'NV1')

::method "test_bif_bitand_2method_43"
   self~assertSame("subTest43", nv2~bitand(nv2), 'NV2')

::method "test_bif_bitand_2method_44"
   self~assertSame("subTest44", nv2.3~bitand(nv2.3), 'NV2.3')

::method "test_bif_bitand_2method_45"
   self~assertSame("subTest45", ''~bitand(,'A'), '')

::method "test_bif_bitand_2method_46"
   self~assertSame("subTest46", 'X'~bitand( , '00'x), '00'x)

::method "test_bif_bitand_2method_47"
   self~expectSyntax(93.922)
   xre = '41'x~bitand( , 'sp')

::method "test_bif_bitand_2method_48"
   v='0F'X
   self~assertSame("subTest48", 'abc'~bitand( , v), '010203'x)

::method "test_bif_bitand_2method_49"
   v='0F'X
   self~assertSame("subTest49", 'abc'x~bitand( , v), '0A0C'x)

::method "test_bif_bitand_2method_50"
   v.30='1234567890abcdefghijklmnopqrst'
   self~assertSame("subTest50", v.30~bitand( , '1'), '313031303130313031302120212021202120212021202120213031303130'x)

::method "test_bif_bitand_2method_51"
   v255.=copies('L',255)
   self~assertSame("subTest51", v255.~bitand( , '48'x), copies('48'X,255))

::method "test_bif_bitand_2method_52"
   v255.=copies('L',255)
   v256=v255.||'o'
   self~assertSame("subTest52", v256~bitand( , '1'), copies('00'x,255)||'21'x)

::method "test_bif_bitand_2method_53"
   self~expectSyntax(93.922)
   v100000=Copies('abcd',25000)
   xre = v100000~bitand( , x7f)

::method "test_bif_bitand_2method_54"
   self~expectSyntax(93.922)
   xre = "1234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234"X~bitand(,xff)

::method "test_bif_bitand_2method_55"
   self~assertSame("subTest55", "1234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234"X~bitand(,'ff'x),x2C(Copies('1234',61)))

::method "test_bif_bitand_2method_56"
   self~expectSyntax(93.922)
   self~assertSame("subTest56", "1919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919"~bitand(,x7f),copies('3139'x,125))

::method "test_bif_bitand_2method_57"
   self~assertSame("subTest57", "1919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919"~bitand(,'7f'x),copies('3139'x,125))

::method "test_bif_bitand_2method_58"
   self~assertSame("subTest58", ('an expression' '+'||'others')~bitand(,1+4),'212420253030302531312125242021253420253031'x)

::method "test_bif_bitand_2method_59"
   self~assertSame("subTest59", (17+4)~bitand(,12/3),'3030'x)

::method "test_bif_bitand_2method_60"
   self~assertSame("subTest60", (12345/3)~bitand(,10/2),'34313135'x)

::method "test_bif_bitand_2method_61"
   self~assertSame("subTest61", (1E-122/7)~bitand(,9+12-20),'312030303031313130310121313031'x)

::method "test_bif_bitand_2method_62"
   self~assertSame("subTest62", SUBSTR('FFFFFF FF'X,3,1)~bitand(,'.'),'.')

::method "test_bif_bitand_2method_63"
   self~assertSame("subTest63", 'echoed'~bitand( ,1), '212120212120'x)

::method "test_bif_bitand_2method_64"
   self~assertSame("subTest64", 'one more Time'~bitand(,3+'3'),'26262420242632242014202424'x)

::method "test_bif_bitand_2method_65"
   self~assertSame("subTest65", ''~bitand( , '/'), '')

::method "test_bif_bitand_2method_66"
   self~assertSame("subTest66", ('03'x||'03'x)~bitand( , x2c('aa')), '0202'x)

::method "test_bif_bitand_2method_67"
   self~assertSame("subTest67", nv1~bitand( , 'x'), 'HP0')

::method "test_bif_bitand_2method_68"
   self~assertSame("subTest68", nv2~bitand( , 'x'), '485030'x)

::method "test_bif_bitand_2method_69"
   self~assertSame("subTest69", nv2.~bitand( , 'x'), '48503028'x)

::method "test_bif_bitand_2method_70"
   self~assertSame("subTest70", nv2.3~bitand( , 'x'), '4850302830'x)

::method "test_bif_bitand_2method_71"
   self~expectSyntax(93.922)
   self~assertSame("subTest71", ' '~bitand( , nv1), 'NV1')

::method "test_bif_bitand_2method_72"
   self~expectSyntax(93.922)
   self~assertSame("subTest72", '   '~bitand( , nv2.3), 'NV2.3')

::method "test_bif_bitand_2method_73"
   self~expectSyntax(93.922)
   self~assertSame("subTest73", 'v2.'~bitand( , nv2.3), 'V2.')

::method "test_bif_bitand_2method_74"
   self~expectSyntax(93.922)
   self~assertSame("subTest74", ''~bitand( '', ''), '')

::method "test_bif_bitand_2method_75"
   self~expectSyntax(93.922)
   self~assertSame("subTest75", ''~bitand( 'a', ''), '')

::method "test_bif_bitand_2method_76"
   a100000=Copies('60626260'x,25000)
   v100000=Copies('abcd',25000)
   self~assertSame("subTest76", ''~bitand( v100000, 'z'), a100000)

::method "test_bif_bitand_2method_77"
   x23='23'X
   self~assertSame("subTest77", 'X'~bitand('f3 fe'X,x23),'5022'X)

::method "test_bif_bitand_2method_78"
   self~assertSame("subTest78", '41'x~bitand('.',','),'00'X)

::method "test_bif_bitand_2method_79"
   self~assertSame("subTest79", 'X'~bitand('1',13-6-1),'10'X)

::method "test_bif_bitand_2method_80"
   self~expectSyntax(93.922)
   self~assertSame("subTest80", 'abc'~bitand('cde',-1e2-92),'10'X)

::method "test_bif_bitand_2method_81"
   self~expectSyntax(93.922)
   self~assertSame("subTest81", 'abc'X~bitand('abcd'x,'1 11'x),'10'X)

::method "test_bif_bitand_2method_82"
   v.30='1234567890abcdefghijklmnopqrst'
   self~assertSame("subTest82", v.30~bitand('1',3),'313233303132333031302122232021222320212223202122233031323330'x)

::method "test_bif_bitand_2method_83"
   v255.=copies('L',255)
   self~assertSame("subTest83", v255.~bitand('55'x,'*'),'44'x||copies('08'x,254))

::method "test_bif_bitand_2method_84"
   v255.=copies('L',255)
   v256=v255.||'o'
   self~assertSame("subTest84", v256~bitand('','1'),copies('00'x,255)'21'x)

::method "test_bif_bitand_2method_85"
   self~expectSyntax(93.922)
   v100000=Copies('abcd',25000)
   n100000=Copies('00'X,100000)
   self~assertSame("subTest85", v100000~bitand(n100000,xff),n100000)

::method "test_bif_bitand_2method_86"
   v100000=Copies('abcd',25000)
   n100000=Copies('00'X,100000)
   self~assertSame("subTest86", v100000~bitand(n100000,'ff'x),n100000)

::method "test_bif_bitand_2method_87"
   x0000='0000'x
   self~assertSame("subTest87", "1234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234"X~bitand('0000'X,'1'),x0000||x2C(Copies('1030',60)))

::method "test_bif_bitand_2method_88"
   z=Copies('19',125)
   x0000='0000'x
   self~assertSame("subTest88", z~bitand("1919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919",RIGHT(x0000,1)),Copies('19',125))

::method "test_bif_bitand_2method_89"
   self~assertSame("subTest89", (17+4)~bitand(99+0,1+1),'01')

::method "test_bif_bitand_2method_90"
   self~assertSame("subTest90", (12345/3)~bitand(3/12345,8/2),'3020303030303430303030303434'x)

::method "test_bif_bitand_2method_91"
   self~expectSyntax(93.922)
   xre = 1E-122/7~bitand(1e+122/7,2/89)

::method "test_bif_bitand_2method_92"
   self~expectSyntax(40.3)
   xre = SUBSTR('FFFFFF FF'X)~bitand(3,1)

::method "test_bif_bitand_2method_93"
   self~assertSame("subTest93", u~bitand(u,u),u)

::method "test_bif_bitand_2method_94"
   self~expectSyntax(93.922)
   xre = nv1~bitand(nv1,nv1)

::method "test_bif_bitand_2method_95"
   self~expectSyntax(93.922)
   xre = nv2.3~bitand(nv2.2,nv2.3)

::method "test_bif_bitand_2method_96"
   self~expectSyntax(93.922)
   xre = '41'x~bitand(,'sp')

::method "test_bif_bitand_2method_97"
   self~expectSyntax(93.922)
   xre = 'abc'x~bitand('abc'x,'1 11'x)

-- rexxref documentation tests

::method "test_bif_bitand_2method_201"
   self~assertSame("subTest201", '12'x~bitand,'12'x)

::method "test_bif_bitand_2method_202"
   self~assertSame("subTest202", '73'x~bitand( '27'x),'23'x)

::method "test_bif_bitand_2method_203"
   self~assertSame("subTest203", '13'x~bitand( '5555'x),'1155'x)

::method "test_bif_bitand_2method_204"
   self~assertSame("subTest203", '13'x~bitand( '5555'x, '74'x),'1154'x)

::method "test_bif_bitand_2method_205"
   self~assertSame("subTest205", 'pQrs'~bitand( , 'DF'x),'PQRS')

   -- test the BIF, using examples from the documentation
::method "test_BITOR"

   self~assertSame("subTest1" , '12'x   , '12'x~BITOR                )
   self~assertSame("subTest2" , '35'x   , '15'x~BITOR('24'x)         )
   self~assertSame("subTest3" , '3556'x , '15'x~BITOR('2456'x)       )
   self~assertSame("subTest4" , '35F6'x , '15'x~BITOR('2456'x,'F0'x) )
   self~assertSame("subTest5" , '5D5D'x , '1111'x~BITOR(,'4D'x)      )
   self~assertSame("subTest6" , 'pqrs'  , 'pQrS'~BITOR(,'20'x)       ) /* ASCII */

::method "test_bitor2method1"
   self~assertSame("subTest1", ('')~bitor , '')

::method "test_bitor2method2"
   self~assertSame("subTest2", ('X')~bitor , 'X')

::method "test_bitor2method3"
   self~assertSame("subTest3", ('C1'x)~bitor , 'C1'x)

::method "test_bitor2method4"
   self~assertSame("subTest4", ('abc')~bitor , 'abc')

::method "test_bitor2method5"
   self~assertSame("subTest5", ('abc'x)~bitor , 'abc'x)

::method "test_bitor2method6"
   self~assertSame("subTest6", ('a bc de'x)~bitor , '0ABCDE'x)

::method "test_bitor2method7"
   v.30='1234567890abcdefghijklmnopqrst'
   self~assertSame("subTest7", (v.30)~bitor , '1234567890abcdefghijklmnopqrst')

::method "test_bitor2method8"
   v100000=Copies('abcd',25000)
   self~assertSame("subTest8", (v255.)~bitor , v255.)

::method "test_bitor2method9"
   v255.=copies('*',255)
   v256=v255.||'<'
   self~assertSame("subTest9", (v256)~bitor , v256)

::method "test_bitor2method10"
   v100000=Copies('abcd',25000)
   self~assertSame("subTest10", (v100000)~bitor , Copies('abcd',25000))

::method "test_bitor2method11"
   self~assertSame("subTest11", ("1234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234"X)~bitor , x2C(Copies('1234',61)))

::method "test_bitor2method12"
   self~assertSame("subTest12", ("1919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919")~bitor , Copies('19',125))

::method "test_bitor2method13"
   self~assertSame("subTest13", ('an expression' '+'||'others')~bitor , 'an expression +others')

::method "test_bitor2method14"
   self~assertSame("subTest14", (17+4)~bitor , '21')

::method "test_bitor2method15"
   self~assertSame("subTest15", (12345/3)~bitor , '4115')

::method "test_bitor2method16"
   self~assertSame("subTest16", (1E-122/7)~bitor , '1.42857143E-123')

::method "test_bitor2method17"
   self~assertSame("subTest17", SUBSTR('FFFFFF FF'X,3,1)~bitor , 'FF'X)

::method "test_bitor2method18"
   self~assertSame("subTest18", ('echoed')~bitor , 'echoed')

::method "test_bitor2method19"
   self~assertSame("subTest19", copies('one more Time', 2)~bitor , 'one more Timeone more Time')

::method "test_bitor2method20"
   self~assertSame("subTest20", (nv1)~bitor , nv1)

::method "test_bitor2method21"
   self~assertSame("subTest21", nv2.~bitor(,) , nv2.)

::method "test_bitor2method22"
   self~assertSame("subTest22", (nv2.3)~bitor(,) , nv2.3)

::method "test_bitor2method23"
   self~assertSame("subTest23", ('')~bitor , '')

::method "test_bitor2method24"
   self~assertSame("subTest24", ('')~bitor('a') , 'a')

::method "test_bitor2method25"
   v.30='1234567890abcdefghijklmnopqrst'
   self~assertSame("subTest25", ('')~bitor(v.30) , '1234567890abcdefghijklmnopqrst')

::method "test_bitor2method26"
   v100000=Copies('abcd',25000)
   self~assertSame("subTest26", ('')~bitor(v100000) , v100000)

::method "test_bitor2method27"
   self~assertSame("subTest27", ('X')~bitor('f3 fe'x) , 'FBFE'x)

::method "test_bitor2method28"
   self~assertSame("subTest28", ('C1'x)~bitor('.') , 'EF'x)

::method "test_bitor2method29"
   self~assertSame("subTest29", ('X')~bitor('1') , '79'x)

::method "test_bitor2method30"
   self~assertSame("subTest30", ('abc')~bitor('cde') , 'cfg')

::method "test_bitor2method31"
   self~assertSame("subTest31", ('abc'x)~bitor('abcd'x) , 'ABFD'x)

::method "test_bitor2method32"
   self~assertSame("subTest32", ('a bc de'x)~bitor("""") , '2ABCDE'x)

::method "test_bitor2method33"
   v.30='1234567890abcdefghijklmnopqrst'
   self~assertSame("subTest33", (v.30)~bitor('1') , '1234567890abcdefghijklmnopqrst')

::method "test_bitor2method34"
   v255.=copies('*',255)
--   self~assertSame("subTest34", (v255.)~bitor('55'x) , ('*','55'x)||substr(v255.,2))

::method "test_bitor2method35"
   v255.=copies('*',255)
   v256=v255.||'<'
   self~assertSame("subTest35", (v256)~bitor('') , v256)

::method "test_bitor2method36"
   v100000=Copies('abcd',25000)
   n100000=Copies('00'X,100000)
   self~assertSame("subTest36", (v100000)~bitor(n100000) , v100000)

::method "test_bitor2method37"
   xffff='ffff'x
   self~assertSame("subTest37", ("1234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234123412341234"X)~bitor('ffff'X) , xffff||x2C(Copies('1234',60)))

::method "test_bitor2method38"
   z=Copies('19',125)
   self~assertSame("subTest38", (z)~bitor("1919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919") , Copies('19',125))

::method "test_bitor2method39"
   self~assertSame("subTest39", ('an expression' '+'||'others')~bitor('other'||'expression' 'a') , '6F7E68657A757A7573777B7F6F6F6F6F7568657273'X)

::method "test_bitor2method40"
   self~assertSame("subTest40", (17+4)~bitor(99+0) , '3B39'X)

::method "test_bitor2method41"
   self~assertSame("subTest41", (12345/3)~bitor(3/12345) , '343F313530323433303133333636'X)

::method "test_bitor2method42"
   self~assertSame("subTest42", (1E-122/7)~bitor(1e+122/7) , '1.42857143E/123')


   -- test the BIF, using examples from the documentation
::method "test_BITXOR"

   self~assertSame("subTest1" , '12'x     , '12'x~BITXOR                     )
   self~assertSame("subTest2" , '30'x     , '12'x~BITXOR('22'x)              )
   self~assertSame("subTest3" , '3011'x   , '1211'x~BITXOR('22'x)            )
   self~assertSame("subTest4" , '555544'x , '1111'x~BITXOR('444444'x)        )
   self~assertSame("subTest5" , '555504'x , '1111'x~BITXOR('444444'x,'40'x)  )
   self~assertSame("subTest6" , '5C5C'x   , '1111'x~BITXOR(,'4D'x)           )
   self~assertSame("subTest7" , 'E53302'x , 'C711'x~BITXOR('222222'x,' ')    ) /* ASCII */



   -- test the BIF, using examples from the documentation
::method "test_C2D"

   self~assertEquals("subTest1" , 9     , '09'X~C2D      )
   self~assertEquals("subTest2" , 129   , '81'X~C2D      )
   self~assertEquals("subTest3" , 65409 , 'FF81'X~C2D    )
   self~assertEquals("subTest4" , 0     , ""~C2D         )
   self~assertEquals("subTest5" , 97    , 'a'~C2D        ) /* ASCII */

   self~assertEquals("subTest6" , -127  , '81'X~C2D(1)   )     -- -- --
   self~assertEquals("subTest7" , 129   , '81'X~C2D(2)   )
   self~assertEquals("subTest8" , -127  , 'FF81'X~C2D(2) )
   self~assertEquals("subTest9" , -127  , 'FF81'X~C2D(1) )
   self~assertEquals("subTest10", 127   , 'FF7F'X~C2D(1) )
   self~assertEquals("subTest11", -3967 , 'F081'X~C2D(2) )
   self~assertEquals("subTest12", -127  , 'F081'X~C2D(1) )
   self~assertEquals("subTest13", 0     , '0031'X~C2D(0) )



   -- test the BIF, using examples from the documentation
::method "test_C2X"

   self~assertEquals("subTest1" , '0123'  , '0123'X~C2X  ) /* '30313233'X in ASCII */
   self~assertEquals("subTest2" , '5A4438', 'ZD8'~C2X    ) /* '354134343338'X in ASCII */



   -- test the BIF, using examples from the documentation
::method "test_CENTER"

   self~assertSame("subTest1" , '  ABC  '  , abc~CENTER(7)             )
   self~assertSame("subTest2" , '--ABC---' , abc~CENTER(8,'-')         )
   self~assertSame("subTest3" , 'e blue s' , 'The blue sky'~CENTRE(8)  )
   self~assertSame("subTest4" , 'e blue '  , 'The blue sky'~CENTRE(7)  )


   -- test the BIF, using examples from the documentation
::method "test_CHANGESTR"

   self~assertSame("subTest1" , '000'    , 101100~CHANGESTR('1',"")  )
   self~assertSame("subTest2" , 'X0XX00' , 101100~CHANGESTR('1','X') )

   -- new tests
    self~assertSame("subTest3", '101100' , '101100'~changestr('','X')  )
    self~assertSame("subTest4", ''       , ''~changestr('1','X')  )

   -- new tests: optional, trailing "count" argument
    self~assertSame("subTest5", 'ha-lo' , 'hallo'~changeStr('l','-',1)  )
    self~assertSame("subTest6", 'ha--o' , 'hallo'~changeStr('l','-',2)  )
    self~assertSame("subTest7", 'ha--o' , 'hallo'~changestr('l','-',3)  )

::method "test_changeStr_error_93.907"
    self~expectSyntax(93.907)
    'aha'~changeStr('a','A',0)



::method "test_ChangeStr_caseless"

   self~assertSame("subTest1" , 'aABBcC' , "aAbBcC"~caselessChangeStr('b',"B")  )
   self~assertSame("subTest2" , 'aAbbcC' , "aAbBcC"~caselessChangeStr('B',"b")  )
   self~assertSame("subTest3" , 'aA99cC' , "aAbBcC"~caselessChangeStr('B',"9")  )

   -- new tests: optional, trailing "count" argument
    self~assertSame("subTest4a", 'ha-lo' , 'hallo'~caselessChangeStr('L','-',1)  )
    self~assertSame("subTest4b", 'ha-lo' , 'haLlo'~caselessChangeStr('L','-',1)  )
    self~assertSame("subTest4c", 'ha-Lo' , 'haLLo'~caselessChangeStr('L','-',1)  )
    self~assertSame("subTest4d", 'ha-lo' , 'haLlo'~caselessChangeStr('l','-',1)  )
    self~assertSame("subTest4e", 'ha-Lo' , 'haLLo'~caselessChangeStr('l','-',1)  )

    self~assertSame("subTest5a", 'ha--o' , 'hallo'~caselessChangeStr('l','-',2)  )
    self~assertSame("subTest5b", 'ha--o' , 'haLlo'~caselessChangeStr('L','-',2)  )
    self~assertSame("subTest5c", 'ha--o' , 'haLLo'~caselessChangeStr('L','-',2)  )
    self~assertSame("subTest5d", 'ha--o' , 'haLlo'~caselessChangeStr('l','-',2)  )
    self~assertSame("subTest5e", 'ha--o' , 'haLLo'~caselessChangeStr('l','-',2)  )

    self~assertSame("subTest6a", 'ha--o' , 'hallo'~caselessChangestr('l','-',3)  )
    self~assertSame("subTest6b", 'ha--o' , 'haLlo'~caselessChangeStr('L','-',3)  )
    self~assertSame("subTest6c", 'ha--o' , 'haLLo'~caselessChangeStr('L','-',3)  )
    self~assertSame("subTest6d", 'ha--o' , 'haLlo'~caselessChangeStr('l','-',3)  )
    self~assertSame("subTest6e", 'ha--o' , 'haLLo'~caselessChangeStr('l','-',3)  )

::method "test_changeStr_caseless_error_93.907"
    self~expectSyntax(93.907)
    'aha'~caselessChangeStr('a','A',0)



   -- test the BIF, using examples from the documentation
::method "test_COMPARE"

   self~assertEquals("subTest1" , 0 , 'abc'  ~COMPARE('abc')    )
   self~assertEquals("subTest2" , 2 , 'abc'  ~COMPARE('ak')     )
   self~assertEquals("subTest3" , 0 , 'ab '  ~COMPARE('ab')     )
   self~assertEquals("subTest4" , 0 , 'ab '  ~COMPARE('ab',' ') )
   self~assertEquals("subTest5" , 3 , 'ab '  ~COMPARE('ab','x') )
   self~assertEquals("subTest6" , 5 , 'ab-- '~COMPARE('ab','-') )

::method "test_COMPARE_caseless"

   self~assertEquals("subTest1" , 0 , 'abc'  ~caselessCompare('aBc')    )
   self~assertEquals("subTest2" , 2 , 'abc'  ~caselessCompare('Ak')     )
   self~assertEquals("subTest3" , 0 , 'ab '  ~caselessCompare('AB')     )
   self~assertEquals("subTest4" , 0 , 'ab '  ~caselessCompare('aB',' ') )
   self~assertEquals("subTest5" , 3 , 'ab '  ~caselessCompare('Ab','x') )
   self~assertEquals("subTest6" , 5 , 'ab-- '~caselessCompare('AB','-') )


::method "test_compareTo"  -- 3.2

  self~assertEquals("subtest_01", -1, "a"~compareTo("b"))
  self~assertEquals("subtest_02",  0, "a"~compareTo("a"))
  self~assertEquals("subtest_03",  1, "b"~compareTo("a"))


::method "test_CompareTo_caseless"  -- 3.2

  self~assertEquals("subtest_01", -1, "a"~caselessCompareTo("B"))
  self~assertEquals("subtest_02",  0, "a"~caselessCompareTo("A"))
  self~assertEquals("subtest_03",  1, "b"~caselessCompareTo("A"))

  self~assertEquals("subtest_04", -1, "A"~caselessCompareTo("b"))
  self~assertEquals("subtest_05",  0, "A"~caselessCompareTo("a"))
  self~assertEquals("subtest_06",  1, "B"~caselessCompareTo("a"))


   -- test the BIF, using examples from the documentation
::method "test_COPIES"

   self~assertSame("subTest1" , 'abcabcabc' , 'abc'~COPIES(3) )
   self~assertSame("subTest2" , ""          , 'abc'~COPIES(0) )


   -- test the BIF, using examples from the documentation
::method "test_COUNTSTR"

   self~assertEquals("subTest1" , 4 , '101101'~COUNTSTR('1')  )
   self~assertEquals("subTest2" , 1 , 'J0KKK0'~COUNTSTR('KK') )

   -- test the BIF, using examples from the documentation
::method "test_COUNTSTR_caseless"

   self~assertEquals("subTest1" , 1 , 'J0kKk0'~caselessCountStr('KK') )
   self~assertEquals("subTest2" , 2 , 'J0kKkK0'~caselessCountStr('KK') )
   self~assertEquals("subTest3" , 2 , 'J0kKkK0'~caselessCountStr('kK') )
   self~assertEquals("subTest4" , 2 , 'J0kKkK0'~caselessCountStr('Kk') )
   self~assertEquals("subTest5" , 2 , 'J0kKkK0'~caselessCountStr('kk') )


   -- test the BIF, using examples from the documentation
::method "test_D2C"

   self~assertSame("subTest1" , 'A'            , '65'~D2C       ) /* '41'x is an ASCII 'A' */
   self~assertSame("subTest2" , 'A'            , '65'~D2C(1)    )
   self~assertSame("subTest3" , '00'x'A'       , '65'~D2C(2)    )
   self~assertSame("subTest4" , '00000000'x'A' , '65'~D2C(5)    )
   self~assertSame("subTest5" , 'm'            , '109'~D2C      ) /* '6D'x is an ASCII 'm' */
   self~assertSame("subTest6" , '93'x          , '-109'~D2C(1)  ) -- ''   ) /* '93'x is an ASCII '' */
   self~assertSame("subTest7" , '00'x'L'       , '76'~D2C(2)    ) /* '4C'x is an ASCII ' L' */
   self~assertSame("subTest8" , 'ff'x'L'       , '-180'~D2C(2)  )


   -- test the BIF, using examples from the documentation
::method "test_D2X"

   self~assertSame("subTest1" , '9'    , '9'~D2X        )
   self~assertSame("subTest2" , '81'   , '129'~D2X      )
   self~assertSame("subTest3" , '1'    , '129'~D2X(1)   )
   self~assertSame("subTest4" , '81'   , '129'~D2X(2)   )
   self~assertSame("subTest5" , '0081' , '129'~D2X(4)   )
   self~assertSame("subTest6" , '01'   , '257'~D2X(2)   )
   self~assertSame("subTest7" , '81'   , '-127'~D2X(2)  )
   self~assertSame("subTest8" , 'FF81' , '-127'~D2X(4)  )
   self~assertSame("subTest9" , ""     , '12'~D2X(0)    )



   -- test the BIF, using examples from the documentation
::method "test_DATATYPE"

-- p.210

   self~assertEquals("subTest1" , 'NUM' , ' 12 '~DATATYPE       )
   self~assertEquals("subTest2" , 'CHAR', ''~DATATYPE           )    -- error!
   self~assertEquals("subTest3" , 'CHAR', '123*'~DATATYPE       )
   self~assertTrue( "subTest4"  , '12.3'~DATATYPE('N')          )
   self~assertFalse("subTest5"  , '12.3'~DATATYPE('W')          )
   self~assertTrue( "subTest6"  , 'Fred'~DATATYPE('M')          )
   self~assertFalse("subTest7"  , 'Fred'~DATATYPE('U')          )    -- error! option changed
   self~assertFalse("subTest8"  , 'Fred'~DATATYPE('L')          )
   self~assertTrue( "subTest9"  , '?20K'~DATATYPE('s')          )
   self~assertTrue( "subTest10" , 'BCd3'~DATATYPE('X')          )
   self~assertTrue( "subTest11" , 'BC d3'~DATATYPE('X')         )


::method "test_DATATYPE_9"

   numeric digits 1
   self~assertTrue( "subTest1" , '0'~DATATYPE('9')           )
   self~assertTrue( "subTest2" , 1~DATATYPE('9')           )
   self~assertTrue( "subTest3" , "-1"~DATATYPE('9')           )
   self~assertTrue( "subTest4" , '12'~DATATYPE('9')           )
   self~assertTrue( "subTest5" , '-12'~DATATYPE('9')           )


   -- test the BIF, using examples from the documentation
::method "test_DELSTR"

   self~assertSame("subTest1" , 'ab'    , 'abcd'~DELSTR(3)    )
   self~assertSame("subTest2" , 'abe'   , 'abcde'~DELSTR(3,2) )
   self~assertSame("subTest3" , 'abcde' , 'abcde'~DELSTR(6)   )


   -- test the BIF, using examples from the documentation
::method "test_DELWORD"

   self~assertSame("subTest1" , 'Now time'         , 'Now is the  time'~DELWORD(2,2)  )
   self~assertSame("subTest2" , 'Now is '          , 'Now is the time '~DELWORD(3)    )
   self~assertSame("subTest3" , 'Now is the  time' , 'Now is the  time'~DELWORD(5)    )
   self~assertSame("subTest4" , 'Now is   time'    , 'Now is   the time'~DELWORD(3,1) )


::method "test_Equals"

    self~assertSame("subTest_01" , 1, "a"~equals("a"))
    self~assertSame("subTest_02" , 0, "a"~equals("A"))
    self~assertSame("subTest_03" , 0, "a"~equals("b"))
    self~assertSame("subTest_04" , 0, "a"~equals("B"))
    self~assertSame("subTest_05" , 1, "b"~equals("b"))
    self~assertSame("subTest_06" , 0, "b"~equals("B"))
    self~assertSame("subTest_07" , 0, "b"~equals("a"))
    self~assertSame("subTest_08" , 0, "b"~equals("A"))


::method "test_Equals_caseless"

    self~assertSame("subTest_01" , 1, "a"~caselessEquals("a"))
    self~assertSame("subTest_02" , 1, "a"~caselessEquals("A"))
    self~assertSame("subTest_03" , 0, "a"~caselessEquals("b"))
    self~assertSame("subTest_04" , 0, "a"~caselessEquals("B"))
    self~assertSame("subTest_05" , 1, "b"~caselessEquals("b"))
    self~assertSame("subTest_06" , 1, "b"~caselessEquals("B"))
    self~assertSame("subTest_07" , 0, "b"~caselessEquals("a"))
    self~assertSame("subTest_08" , 0, "b"~caselessEquals("A"))



   -- test the BIF, using examples from the documentation
::method "test_FORMAT"

   self~assertSame("subTest1" , '   3'             , '3'~FORMAT(4)               )
   self~assertSame("subTest2" , '   2'             , '1.73'~FORMAT(4,0)          )
   self~assertSame("subTest3" , '   1.730'         , '1.73'~FORMAT(4,3)          )
   self~assertSame("subTest4" , '  -0.8'           , '-.76'~FORMAT(4,1)          )
   self~assertSame("subTest5" , '   3.03'          , '3.03'~FORMAT(4)            )
   self~assertSame("subTest6" , '-12.7300'         , ' - 12.73'~FORMAT(,4)       )
   self~assertSame("subTest7" , '-12.73'           , ' - 12.73'~FORMAT           )
   self~assertSame("subTest8" , '0'                , '0.000'~FORMAT              )
   self~assertSame("subTest9" , '1.234573E+04'     , '12345.73'~FORMAT(, ,2,2)   )   --
   self~assertSame("subTest10", '1.235E+4'         , '12345.73'~FORMAT(,3, ,0)   )
   self~assertSame("subTest11", '1.235'            , '1.234573'~FORMAT(,3, ,0)   )
   self~assertSame("subTest12", '12345.73'         , '12345.73'~FORMAT(, ,3,6)   )
   self~assertSame("subTest13", '123456700000.000' , '1234567e5'~FORMAT(,3,0)    )


   -- test the BIF, using examples from the documentation
::method "test_INSERT"

   self~assertSame("subTest1" , '123abc'      , 'abc'~INSERT('123')          )
   self~assertSame("subTest2" , 'abc def'     , 'abcdef'~INSERT(' ',3)       )
   self~assertSame("subTest3" , 'abc  123   ' , 'abc'~INSERT('123',5,6)      )
   self~assertSame("subTest4" , 'abc++123+++' , 'abc'~INSERT('123',5,6,'+')  )
   self~assertSame("subTest5" , '123--abc'    , 'abc'~INSERT('123', ,5,'-')  )


   -- test the BIF, using examples from the documentation
::method "test_LASTPOS"

   self~assertEquals("subTest1" , 8 , 'abc def ghi'~LASTPOS(' ')   )
   self~assertEquals("subTest2" , 0 , 'abcdefghi'~LASTPOS(' ')     )
   self~assertEquals("subTest3" , 4 , 'efgxyz'~LASTPOS('xy')       )
   self~assertEquals("subTest4" , 4 , 'abc def ghi'~LASTPOS(' ',7) )


   -- test the BIF, using examples from the documentation
::method "test_LastPos_caseless"

   self~assertEquals("subTest1" , 4 , 'efgxyz'~caselessLastPos('xy')       )
   self~assertEquals("subTest2" , 4 , 'efgxyz'~caselessLastPos('XY')       )
   self~assertEquals("subTest3" , 4 , 'efgxyz'~caselessLastPos('Xy')       )
   self~assertEquals("subTest4" , 4 , 'efgxyz'~caselessLastPos('xY')       )


   -- test the BIF, using examples from the documentation
::method "test_LEFT"

   self~assertSame("subTest1" , 'abc d   ' , 'abc d'~LEFT(8)      )
   self~assertSame("subTest2" , 'abc d...' , 'abc d'~LEFT(8,'.')  )
   self~assertSame("subTest3" , 'abc  de'  , 'abc  def'~LEFT(7)   )


   -- test the BIF, using examples from the documentation
::method "test_LENGTH"

   self~assertEquals("subTest1" , 8 , 'abcdefgh'~LENGTH )
   self~assertEquals("subTest2" , 8 , 'abc defg'~LENGTH )
   self~assertEquals("subTest3" , 0 , ""~LENGTH         )


::method "test_LOWER"

    str='ABCdeFGH'
    self~assertSame("subTest_01" , 'AbCdeFGH', str~lower(2,  1 ))
    self~assertSame("subTest_02" , 'ABCdeFGH', str~lower(1,  0 ))
    self~assertSame("subTest_03" , 'ABCdeFGH', str~lower(99, 2 ))
    self~assertSame("subTest_04" , 'Abcdefgh', str~lower(2     ))
    self~assertSame("subTest_05" , 'abcdefgh', str~lower        )


   -- test the BIF, using examples from the documentation
::method "test_MAKEARRAY"

   nl = '0d0a'x
   string = "hello"nl"world"nl"this is an array."
   array = string~makearray
   -- say "the second line is:" array[2]
   self~assertSame("subTest1", "world", array[2])

   string = "hello*world*this is an array."
   array = string~makearray('*')
   -- say "the third line is:" array[3]
   self~assertSame("subTest2", "this is an array.", array[3])


   -- test the BIF, using examples from the documentation
::method "test_MAKESTRING"

   self~assertSame("subTest1" , ''     , ''~MAKESTRING        )
   self~assertSame("subTest2" , ' '    , ' '~MAKESTRING       )
   self~assertSame("subTest3" , 'ab'   , 'ab'~MAKESTRING      )
   self~assertSame("subTest3" , ' ab ' , ' ab '~MAKESTRING    )



::method "test_Match"

    str="abcDEFghi"
    self~assertSame("subTest_01" , 1, str~match(2, "bc"))
    self~assertSame("subTest_02",  1, str~match(2, "bcD"))
    self~assertSame("subTest_03" , 0, str~match(2, "bcd"))
    self~assertSame("subTest_04" , 0, str~match(2, "ab"))
    self~assertSame("subTest_05",  0, str~match(2, "cD"))


::method "test_Match_caseless"

    str="abcDEFghi"
    self~assertSame("subTest_01" , 1, str~caselessMatch(2, "bc"))
    self~assertSame("subTest_02",  1, str~caselessMatch(2, "bcD"))
    self~assertSame("subTest_03" , 1, str~caselessMatch(2, "bcd"))
    self~assertSame("subTest_04" , 0, str~caselessMatch(2, "ab"))
    self~assertSame("subTest_05",  0, str~caselessMatch(2, "cD"))


::method "test_MatchChar"

    str="abcDEFghi"
    self~assertSame("subTest_01" , 1, str~MatchChar(2, "b"))
    self~assertSame("subTest_02",  0, str~MatchChar(2, "B"))
    self~assertSame("subTest_03" , 0, str~MatchChar(2, "c"))


::method "test_MatchChar_caseless"

    str="abcDEFghi"
    self~assertSame("subTest_01" , 1, str~CaselessMatchChar(2, "b"))
    self~assertSame("subTest_02",  1, str~CaselessMatchChar(2, "B"))
    self~assertSame("subTest_03" , 0, str~CaselessMatchChar(2, "c"))



   -- test the BIF, using examples from the documentation
::method "test_MAX"

   self~assertEquals("subTest1" , 12 , 12~MAX(6,7,9)                                              )
   self~assertEquals("subTest2" , 19 , 17.3~MAX(19,17.03)                                         )
   self~assertEquals("subTest3" , -3 , '-7'~MAX('-3','-4.3')                                      )
   self~assertEquals("subTest4" , 21 , 1~MAX(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21) )


   -- test the BIF, using examples from the documentation
::method "test_MIN"

   self~assertEquals("subTest1" , 6     , 12~MIN(6,7,9)                                              )
   self~assertEquals("subTest2" , 17.03 , 17.3~MIN(19,17.03)                                         )
   self~assertEquals("subTest3" , -7    , '-7'~MIN('-3','-4.3')                                      )
   self~assertEquals("subTest4" , 1     , 21~MIN(20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1) )



   -- test the BIF, using examples from the documentation
::method "test_OVERLAY"

   self~assertSame("subTest1" , 'ab def'     , 'abcdef'~OVERLAY(' ',3)       )
   self~assertSame("subTest2" , 'ab. ef'     , 'abcdef'~OVERLAY('.',3,2)     )
   self~assertSame("subTest3" , 'qqcd'       , 'abcd'~OVERLAY('qq')          )
   self~assertSame("subTest4" , 'abcqq'      , 'abcd'~OVERLAY('qq',4)        )
   self~assertSame("subTest5" , 'abc+123+++' , 'abc'~OVERLAY('123',5,6,'+')  )


   -- test the BIF, using examples from the documentation
::method "test_Pos_caseless"

   self~assertEquals("subTest1" , 6 , 'Saturday'~caselessPos('da')    )
   self~assertEquals("subTest2" , 6 , 'Saturday'~caselessPos('dA')    )
   self~assertEquals("subTest3" , 6 , 'Saturday'~caselessPos('Da')    )
   self~assertEquals("subTest4" , 6 , 'Saturday'~caselessPos('DA')    )


   -- test the BIF, using examples from the documentation
::method "test_REVERSE"

   self~assertSame("subTest1" , '.cBA' , 'ABc.'~REVERSE )
   self~assertSame("subTest2" , ' ZYX' , 'XYZ '~REVERSE )



   -- test the BIF, using examples from the documentation
::method "test_RIGHT"

   self~assertSame("subTest1" , 'abc  d'~RIGHT(8)  , '  abc  d' )
   self~assertSame("subTest2" , 'abc def'~RIGHT(5) , 'c def'    )
   self~assertSame("subTest3" , '12'~RIGHT(5,'0')  , '00012'    )


   -- test the BIF, using examples from the documentation
::method "test_SIGN"

   self~assertEquals("subTest1" , 1  , '12.3'~SIGN     )
   self~assertEquals("subTest2" , -1 , ' -0.307'~SIGN  )
   self~assertEquals("subTest3" , 0  , 0.0~SIGN        )


   -- test the BIF, using examples from the documentation
::method "test_STRING"

   self~assertSame("subTest1" , ''    , ''~STRING         )
   self~assertSame("subTest2" , ' '   , ' '~STRING        )
   self~assertSame("subTest3" , 'ab'  , 'ab'~STRING       )
   self~assertSame("subTest3" , ' ab ', ' ab '~STRING     )


   -- test the BIF, using examples from the documentation
::method "test_STRIP"

   self~assertSame("subTest1" , 'ab c'  , '  ab c  '~STRIP        )
   self~assertSame("subTest2" , 'ab c  ', '  ab c  '~STRIP('L')   )
   self~assertSame("subTest3" , '  ab c', '  ab c  '~STRIP('t')   )
   self~assertSame("subTest4" , '12.7'  , '12.7000'~STRIP(,0)     )
   self~assertSame("subTest5" , '12.7'  , '0012.700'~STRIP(,0)    )


   -- test the BIF, using examples from the documentation
::method "test_SUBSTRING"

   self~assertSame("subTest1" , 'bc'     , 'abc'~SUBSTR(2)         )
   self~assertSame("subTest2" , 'bc  '   , 'abc'~SUBSTR(2,4)       )
   self~assertSame("subTest3" , 'bc....' , 'abc'~SUBSTR(2,6,'.')   )

   -- test the BIF, using examples from the documentation
::method "test_SUBCHAR"

   self~assertSame("subTest1" ,  'a',  'abc'~SUBCHAR(1)     )
   self~assertSame("subTest2" ,  'b',  'abc'~SUBCHAR(2)     )
   self~assertSame("subTest3" ,  'c',  'abc'~SUBCHAR(3)     )
   self~assertSame("subTest4" ,  '' ,  'abc'~SUBCHAR(4)     )



   -- test the BIF, using examples from the documentation
::method "test_SUBWORD"

   self~assertSame("subTest1" , 'is the'   , 'Now is the  time'~SUBWORD(2,2)  )
   self~assertSame("subTest2" , 'the  time', 'Now is the  time'~SUBWORD(3)    )
   self~assertSame("subTest3" , ""         , 'Now is the  time'~SUBWORD(5)    )


   -- test the BIF, using examples from the documentation
::method "test_TRANSLATE"

   self~assertSame("subTest1" , 'ABCDEF' , 'abcdef'~TRANSLATE                     )
   self~assertSame("subTest2" , 'ab2d1f' , 'abcdef'~TRANSLATE('12','ec')          )
   self~assertSame("subTest3" , '12..ef' , 'abcdef'~TRANSLATE('12','abcd','.')    )
   self~assertSame("subTest4" , 'A Q V'  , 'APQRV'~TRANSLATE(,'PR')               )
   self~assertSame("subTest5" , 'APQ  '  , 'APQRV'~TRANSLATE(XRANGE('00'X,'Q'))   )
   self~assertSame("subTest6" , 'dabc'   , '4123'~TRANSLATE('abcd','1234')        )


   -- test the BIF, using examples from the documentation
::method "test_TRUNC"

   self~assertSame("subTest1" , 12      , 12.3~TRUNC           )
   self~assertSame("subTest2" , 127.097 , 127.09782~TRUNC(3)   )
   self~assertSame("subTest3" , 127.100 , 127.1~TRUNC(3)       )
   self~assertSame("subTest4" , 127.00  , 127~TRUNC(2)         )



::method "test_UPPER"

    str='abcDEfgh'
    self~assertSame("subTest_01" , 'aBcDEfgh', str~UPPER(2,  1 ))
    self~assertSame("subTest_02" , 'abcDEfgh', str~UPPER(1,  0 ))
    self~assertSame("subTest_03" , 'abcDEfgh', str~UPPER(99, 2 ))
    self~assertSame("subTest_04" , 'aBCDEFGH', str~UPPER(2     ))
    self~assertSame("subTest_05" , 'ABCDEFGH', str~UPPER        )


   -- test the BIF, using examples from the documentation
::method "test_VERIFY"

   self~assertEquals("subTest1" , 0 , '123'~VERIFY('1234567890')           )
   self~assertEquals("subTest2" , 2 , '1Z3'~VERIFY('1234567890')           )
   self~assertEquals("subTest3" , 1 , 'AB4T'~VERIFY('1234567890')          )
   self~assertEquals("subTest4" , 3 , 'AB4T'~VERIFY('1234567890','M')      )
   self~assertEquals("subTest5" , 1 , 'AB4T'~VERIFY('1234567890','N')      )
   self~assertEquals("subTest6" , 4 , '1P3Q4'~VERIFY('1234567890', ,3)     )
   self~assertEquals("subTest7" , 2 , '123'~VERIFY("",N,2)                 )
   self~assertEquals("subTest8" , 3 , 'ABCDE'~VERIFY("", ,3)               )
   self~assertEquals("subTest9" , 6 , 'AB3CD5'~VERIFY('1234567890','M',4)  )


   -- test the BIF, using examples from the documentation
::method "test_WORD"

   self~assertSame("subTest1" , 'the', 'Now is the time'~WORD(3)  )
   self~assertSame("subTest2" , ""   , 'Now is the time'~WORD(5)  )


   -- test the BIF, using examples from the documentation
::method "test_WORDINDEX"

   self~assertEquals("subTest1" , 8 , 'Now is the time'~WORDINDEX(3) )
   self~assertEquals("subTest2" , 0 , 'Now is the time'~WORDINDEX(6) )


   -- test the BIF, using examples from the documentation
::method "test_WORDLENGTH"

   self~assertEquals("subTest1" , 2 , 'Now is the time'~WORDLENGTH(2)    )
   self~assertEquals("subTest2" , 5 , 'Now comes the time'~WORDLENGTH(2) )
   self~assertEquals("subTest3" , 0 , 'Now is the time'~WORDLENGTH(6)    )


   -- test the BIF, using examples from the documentation
::method "test_WORDPOS"

   self~assertEquals("subTest1" , 3 , 'now is the time'~WORDPOS('the')           )
   self~assertEquals("subTest2" , 0 , 'now is the time'~WORDPOS('The')           )
   self~assertEquals("subTest3" , 2 , 'now is the time'~WORDPOS('is the')        )
   self~assertEquals("subTest4" , 2 , 'now is the time'~WORDPOS('is   the')      )
   self~assertEquals("subTest5" , 0 , 'now is   the time'~WORDPOS('is    time ') )
   self~assertEquals("subTest6" , 2 , 'To be or not to be'~WORDPOS('be')         )
   self~assertEquals("subTest7" , 6 , 'To be or not to be'~WORDPOS('be',3)       )


   -- test the BIF, using examples from the documentation
::method "test_WORDPOS_caseless"

   self~assertEquals("subTest01" , 3 , 'now is the time'~caselessWordPos('the')           )
   self~assertEquals("subTest02" , 3 , 'now is the time'~caselessWordPos('The')           )
   self~assertEquals("subTest03" , 2 , 'now is the time'~caselessWordPos('is tHE')        )
   self~assertEquals("subTest04" , 2 , 'now is the time'~caselessWordPos('Is ThE')        )
   self~assertEquals("subTest05" , 2 , 'now is the time'~caselessWordPos('is   the')      )
   self~assertEquals("subTest06" , 2 , 'now is the time'~caselessWordPos('iS   ThE')      )
   self~assertEquals("subTest07" , 0 , 'now is   the time'~caselessWordPos('is    time ') )
   self~assertEquals("subTest08" , 2 , 'To be or not to be'~caselessWordPos('be')         )
   self~assertEquals("subTest09" , 2 , 'To be or not to be'~caselessWordPos('Be')         )
   self~assertEquals("subTest10" , 6 , 'To be or not to be'~caselessWordPos('be',3)       )
   self~assertEquals("subTest11" , 6 , 'To be or not to be'~caselessWordPos('bE',3)       )


   -- test the BIF, using examples from the documentation
::method "test_WORDS"

   self~assertEquals("subTest1" , 4 , 'Now is the time'~WORDS )
   self~assertEquals("subTest2" , 0 , ' '~WORDS               )


   -- test the BIF, using examples from the documentation
::method "test_X2B"

   self~assertSame("subTest1" , '11000011'    , 'C3'~X2B        )
   self~assertSame("subTest2" , '0111'        , '7'~X2B         )
   self~assertSame("subTest3" , '000111000001', '1 C1'~X2B      )
   self~assertSame("subTest4" , '11000011'    , 'C3'x~C2X~X2B   )    --
   self~assertSame("subTest5" , '10000001'    , '129'~D2X~X2B   )
   self~assertSame("subTest6" , '1100'        , '12'~D2X~X2B    )


   -- test the BIF, using examples from the documentation
::method "test_X2C"

   self~assertSame("subTest1" , '4865 6c6c 6f'~X2C , 'Hello' )/* ASCII */
   self~assertSame("subTest2" , '3732 73'~X2C      , '72s'   )/* ASCII */


   -- test the BIF, using examples from the documentation
::method "test_X2D"

   self~assertSame("subTest1" , 14    , '0E'~X2D       )
   self~assertSame("subTest2" , 129   , '81'~X2D       )
   self~assertSame("subTest3" , 3969  , 'F81'~X2D      )
   self~assertSame("subTest4" , 65409 , 'FF81'~X2D     )
   self~assertSame("subTest5" , 240   , '46 30'X~X2D   ) /* ASCII */
   self~assertSame("subTest6" , 240   , '66 30'X~X2D   ) /* ASCII */
   self~assertSame("subTest7" , -127  , '81'~X2D(2)    ) --
   self~assertSame("subTest8" , 129   , '81'~X2D(4)    )
   self~assertSame("subTest9" , -3967 , 'F081'~X2D(4)  )
   self~assertSame("subTest10", 129   , 'F081'~X2D(3)  )
   self~assertSame("subTest11", -127  , 'F081'~X2D(2)  )
   self~assertSame("subTest12", 1     , 'F081'~X2D(1)  )
   self~assertSame("subTest13", 0     , '0031'~X2D(0)  )


  -- test {de|en}codeBase64
  /* based on newsgroup article:
         From: "Salvador Parra Camacho" <sparrac@gmail.com>
         Newsgroups: comp.lang.rexx
         Subject: encodebase64 method of the String class in ooRexx 3.1
         Date: 14 Oct 2006 12:31:13 -0700
         Organization: http://groups.google.com
  */
::method "test_EncodeBase64_DecodeBase64"
   allChars=xrange("00"x, "ff"x) -- create a string with all 8-Bit chars
   do i=1 to allChars~length
      a=allChars~left(i)         -- create a string from the left
      self~assertSame("subTest"i"a", a, a~encodeBase64~decodeBase64)  -- test whether same value
      -- self~assertEquals("subTest"i, a, a1~encodeBase64~decodeBase64)  -- test whether same value

      b=allChars~right(i)        -- create a string from the right
      self~assertSame("subTest"i"b", b, b~encodeBase64~decodeBase64)  -- test whether same value
   end

   a="Hello world"
   a1=a~encodeBase64          -- encode the string with ooRexx
      -- "Hello world" encoded value from Perl, Ruby, etc. according to Salvador's article
   a2="SGVsbG8gd29ybGQ="

   self~assertSame("subTest257" , a , a2~decodeBase64 )
   self~assertSame("subTest258" , a , a1~decodeBase64 )

::method "used_to_test_rexx_enDecoding" -- "test_Enbase64_Debase64"
   allChars=xrange("00"x, "ff"x) -- create a string with all 8-Bit chars
   do i=1 to allChars~length
      a=allChars~left(i)         -- create a string from the left
      self~assertSame("subTest"i"a", a, debase64(enbase64(a)))  -- test whether same value

      b=allChars~right(i)        -- create a string from the right
      self~assertSame("subTest"i"b", b, debase64(enbase64(b)))  -- test whether same value
   end



/* Systematically test built-in method vs. a Rexx-solution (c) Rony G. Flatscher */
::method "test_EncodeBase64"
   allChars=xrange("00"x, "ff"x) -- create a string with all 8-Bit chars

   do i=1 to allChars~length
      a=allChars~left(i)         -- create a string from the left
      self~assertSame("subTest"i, enbase64(a), a~encodeBase64)  -- test whether same value
      -- self~assertEquals("subTest"i, enbase64(a), a~encodeBase64)  -- test whether same value
   end


/* Systematically test built-in method vs. a Rexx-solution (c) Rony G. Flatscher */
::method "test_DecodeBase64"
   allChars=xrange("00"x, "ff"x) -- create a string with all 8-Bit chars

   do i=1 to allChars~length
      a=allChars~left(i)         -- create a string from the left
      a2=enbase64(a)             -- base64 encode it
      self~assertSame("subTest"i, a, a2~decodeBase64)  -- test whether same value
      -- self~assertEquals("subTest"i, a, a2~decodeBase64)  -- test whether same value
   end



/* Systematically test built-in method vs. a Rexx-solution (c) Rony G. Flatscher */
-- enbase64: procedure expose mimeTable padChar base64
::routine enbase64
     parse arg data

           -- do we need to pad the data at the end?
     pad = 3-length(data) // 3   -- get rest of integer division
     if pad<>3 then data=data || copies("00"x, pad)      -- add blanks to get to multiple of 3's
     data=x2b(c2x(data))         -- turn all data into a bitstring

     new=.mutableBuffer~new
     do while data <> ""
        parse var data nr1 +6 nr2 +6 nr3 +6 nr4 +6 data    -- get data of 3 bytes in six-bit-packs

        -- new = new || x2c(b2x(nr1)) || x2c(b2x(nr2)) || x2c(b2x(nr3)) || x2c(b2x(nr4))  -- add them to result
        new~~append(x2c(b2x(nr1))) ~~append(x2c(b2x(nr2))) ~~append(x2c(b2x(nr3)))
        new~~append(x2c(b2x(nr4)))  -- add them to result
     end

     new=translate(new~string, .base64.mimeTable, .base64.base64)     -- translate to table chars

     if pad<>3 then         -- not a multiple of 3, then indicate pads with "="
        new = overlay( copies(.base64.padChar, pad), new, (length(new)-pad+1) )
     return new


::routine deBase64 public
  use arg data

  pos=pos(.base64.padChar,data)        -- find pad character
  if pos<>0 then
  do
     pnum = length(data) - pos + 1   -- how many are there (1 or 2) ?
     if pnum>2 then pnum=0   -- something went wrong, there shouldn't be more than two, reset
  end
  else
     pnum = 0

  data=translate(data, .base64.base64, .base64.mimetable)    -- translate from table

        -- check if data is missing, if so pad with "00"x
  pad = length(data) // 4       -- get rest of integer division
  if pad<>0 then data=data || copies("00"x, 4-pad)      -- add blanks to get to multiple of 4's

  data=x2b(c2x(data))   -- now turn data into a bitstring

  new=.mutableBuffer~new
  do while data<>""
     parse var data . +2 nr5 +6 . +2 nr6 +6 . +2 nr7 +6 .+2 nr8 +6 data

     if data = "" then  -- last round, nothing left after this one
        new~append(left( x2c(b2x(nr5 ||nr6 || nr7 || nr8)), 3-pnum)) -- use only non-chunked bytes
     else
        new~append(x2c(b2x(nr5 ||nr6 || nr7 || nr8)))
  end
  return new~string

