#!/bin/sh

VER=
REL=
MOD=
PREFIX=

echo $SCRIPT_NAME: linking files

echo $SCRIPT_NAME: linking libraries to /usr/lib
ln -sf $PREFIX/lib/ooRexx/libhostemu.$VER.$REL.$MOD.dylib   /usr/lib
ln -sf $PREFIX/lib/ooRexx/libhostemu.$VER.dylib       /usr/lib
ln -sf $PREFIX/lib/ooRexx/libhostemu.a             /usr/lib
ln -sf $PREFIX/lib/ooRexx/libhostemu.dylib         /usr/lib
ln -sf $PREFIX/lib/ooRexx/libhostemu.la            /usr/lib
ln -sf $PREFIX/lib/ooRexx/librexx.$VER.$REL.$MOD.dylib     /usr/lib
ln -sf $PREFIX/lib/ooRexx/librexx.$VER.dylib         /usr/lib
ln -sf $PREFIX/lib/ooRexx/librexx.a               /usr/lib
ln -sf $PREFIX/lib/ooRexx/librexx.dylib           /usr/lib
ln -sf $PREFIX/lib/ooRexx/librexx.la              /usr/lib
ln -sf $PREFIX/lib/ooRexx/librexxapi.$VER.$REL.$MOD.dylib  /usr/lib
ln -sf $PREFIX/lib/ooRexx/librexxapi.$VER.dylib      /usr/lib
ln -sf $PREFIX/lib/ooRexx/librexxapi.a            /usr/lib
ln -sf $PREFIX/lib/ooRexx/librexxapi.dylib        /usr/lib
ln -sf $PREFIX/lib/ooRexx/librexxapi.la           /usr/lib
ln -sf $PREFIX/lib/ooRexx/librexxutil.$VER.$REL.$MOD.dylib /usr/lib
ln -sf $PREFIX/lib/ooRexx/librexxutil.$VER.dylib     /usr/lib
ln -sf $PREFIX/lib/ooRexx/librexxutil.a           /usr/lib
ln -sf $PREFIX/lib/ooRexx/librexxutil.dylib       /usr/lib
ln -sf $PREFIX/lib/ooRexx/librexxutil.la          /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxmath.$VER.$REL.$MOD.dylib   /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxmath.$VER.dylib       /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxmath.a             /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxmath.dylib         /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxmath.la            /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxregexp.$VER.$REL.$MOD.dylib /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxregexp.$VER.dylib     /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxregexp.a           /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxregexp.dylib       /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxregexp.la          /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxsock.$VER.$REL.$MOD.dylib   /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxsock.$VER.dylib       /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxsock.a             /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxsock.dylib         /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxsock.la            /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxunixsys.$VER.$REL.$MOD.dylib   /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxunixsys.$VER.dylib       /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxunixsys.a             /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxunixsys.dylib         /usr/lib
ln -sf $PREFIX/lib/ooRexx/librxunixsys.la            /usr/lib

echo $SCRIPT_NAME: linking programs to /usr/bin
ln -sf $PREFIX/bin/csvStream.cls	/usr/bin
ln -sf $PREFIX/bin/mime.cls	/usr/bin
ln -sf $PREFIX/bin/oorexx-config	/usr/bin
ln -sf $PREFIX/bin/rexx          /usr/bin
ln -sf $PREFIX/bin/rexx.cat      /usr/bin
ln -sf $PREFIX/bin/rexx.img      /usr/bin
ln -sf $PREFIX/bin/rexxc         /usr/bin
ln -sf $PREFIX/bin/rexximage     /usr/bin
ln -sf $PREFIX/bin/rxapi         /usr/bin
ln -sf $PREFIX/bin/rxftp.cls     /usr/bin
ln -sf $PREFIX/bin/rxqueue       /usr/bin
ln -sf $PREFIX/bin/rxregexp.cls  /usr/bin
ln -sf $PREFIX/bin/rxsubcom      /usr/bin
ln -sf $PREFIX/bin/smtp.cls	/usr/bin
ln -sf $PREFIX/bin/socket.cls	/usr/bin
ln -sf $PREFIX/bin/socket.cls    /usr/bin
ln -sf $PREFIX/bin/streamsocket.cls	/usr/bin
ln -sf $PREFIX/share/ooRexx/rexxtry.rex /usr/bin

echo $SCRIPT_NAME: linking man pages to /usr/share/man/man1
ln -sf $PREFIX/share/man/man1/oorexx-config.1 /usr/share/man/man1
ln -sf $PREFIX/share/man/man1/rexx.1          /usr/share/man/man1
ln -sf $PREFIX/share/man/man1/rexxc.1         /usr/share/man/man1
ln -sf $PREFIX/share/man/man1/rxmigrate.1     /usr/share/man/man1
ln -sf $PREFIX/share/man/man1/rxqueue.1       /usr/share/man/man1
ln -sf $PREFIX/share/man/man1/rxsubcom.1      /usr/share/man/man1

echo $SCRIPT_NAME: linking headers to /usr/include
ln -sf $PREFIX/include/oorexxapi.h        /usr/include
ln -sf $PREFIX/include/oorexxerrors.h     /usr/include
ln -sf $PREFIX/include/rexx.h             /usr/include
ln -sf $PREFIX/include/rexxapidefs.h      /usr/include
ln -sf $PREFIX/include/rexxapitypes.h     /usr/include
ln -sf $PREFIX/include/rexxplatformapis.h /usr/include
ln -sf $PREFIX/include/rexxplatformdefs.h /usr/include

echo $SCRIPT_NAME:  linking Launch Daemon to /Library/LaunchDaemons
ln -sf $PREFIX/bin/org.rexxla.oorexx.rxapid.plist /Library/LaunchDaemons

echo $SCRIPT_NAME:  stop/start rxapi Daemon
launchctl unload -w /Library/LaunchDaemons/org.rexxla.oorexx.rxapid.plist
killall rxapi
launchctl load -w /Library/LaunchDaemons/org.rexxla.oorexx.rxapid.plist

echo $SCRIPT_NAME: linking complete
