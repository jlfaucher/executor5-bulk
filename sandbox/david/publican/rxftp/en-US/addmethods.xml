<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "rxsock.ent">
%BOOK_ENTITIES;
]>
<chapter><title>RxFtp Additional Method Attributes</title>
<para>The following sections describe the additional method attributes available
in the RxFtp class.
<itemizedlist>
<listitem><para>BufSize          </para></listitem>
<listitem><para>CmdResponse      </para></listitem>
<listitem><para>CR_Remove        </para></listitem>
<listitem><para>Debug            </para></listitem>
<listitem><para>FtpErrno         </para></listitem>
<listitem><para>Response         </para></listitem>
</itemizedlist></para>

<section id="bufsize"><title>BufSize</title>
<indexterm><primary>BufSize</primary></indexterm>
<indexterm><primary>method</primary>
<secondary>BufSize</secondary></indexterm>
<indexterm><primary>send/recv buffer</primary></indexterm>
<indexterm><primary>buffer, send/recv</primary></indexterm>
<para>The BufSize method attribute contains the size of the buffer used
by RxFtp methods.  The default is 4096 and you can change this to any
positive integer value.
</para>
<para>Increasing this value may speed your FTP transactions, but making it too large may slow them down.
Experimentation may be called for.
</para>
<para><emphasis role="bold">Example:</emphasis></para>
<para>The following will display the BufSize and reset it to 8192.</para>
<programlisting>
<![CDATA[
say myftpobj~bufSize
myftpobj~bufSize = 8192
]]>
</programlisting>
</section>

<section id="cmdresponse"><title>CmdResponse</title>
<indexterm><primary>CmdResponse</primary></indexterm>
<indexterm><primary>method</primary>
<secondary>CmdResponse</secondary></indexterm>
<indexterm><primary>server responses</primary></indexterm>
<indexterm><primary>responses, server</primary></indexterm>
<para>The CmdResponse method attribute is an Object Rexx array which contains
the commands sent to the FTP server and the responses received from the
server. Items are continually added to this array for each method invoked
during the session with the server.
</para>
<para>This array is a complete record of the command/response
activity between the client and the server.
</para>
<para><emphasis role="bold">Example:</emphasis></para>
<para>The following will display the CmdResponse array.</para>
<programlisting>
<![CDATA[
do i = 1 to myftpobj~cmdresponse~items
   say myftpobj~cmdresponse[i]
end
]]>
</programlisting>
</section>

<section id="crremove"><title>CR_Remove</title>
<indexterm><primary>CR_Remove</primary></indexterm>
<indexterm><primary>method</primary>
<secondary>CR_Remove</secondary></indexterm>
<indexterm><primary>removing carriage returns from files</primary></indexterm>
<indexterm><primary>carriage returns from files, removing</primary></indexterm>
<para>The CR_Remove method attribute is always in one of two states. If it is
set to .true then carriage return characters (&apos;0D&apos;x) are removed from ASCII
downloads when the class is running on a Unix platform. If it is set to .false
then CR bytes are retained in the locally stored file.
</para>
<para>This attribute is ignored for non-Unix machines.
</para>
<para>The default value is .true.
</para>
<para><emphasis role="bold">Example:</emphasis></para>
<para>The following will disable the removal of CR bytes.</para>
<programlisting>
<![CDATA[
myftpobj~cr_remove = .false
]]>
</programlisting>
</section>

<section id="debug"><title>Debug</title>
<indexterm><primary>Debug</primary></indexterm>
<indexterm><primary>method</primary>
<secondary>Debug</secondary></indexterm>
<indexterm><primary>start debug messages</primary></indexterm>
<indexterm><primary>debug messages, start</primary></indexterm>
<indexterm><primary>stop debug messages</primary></indexterm>
<indexterm><primary>debug messages, stop</primary></indexterm>
<para>The Debug method attribute is always in one of two states. If it is
set to .true then debug messages will be sent to STDOUT. If it is set to .false
then all debugging messages will be suppressed.
</para>
<para>The default value is .false.
</para>
<para><emphasis role="bold">Example:</emphasis></para>
<para>The following will enable the debugging messages.</para>
<programlisting>
<![CDATA[
myftpobj~debug = .true
]]>
</programlisting>
</section>

<section id="ftperrno"><title>FtpErrno</title>
<indexterm><primary>FtpErrno</primary></indexterm>
<indexterm><primary>method</primary>
<secondary>FtpErrno</secondary></indexterm>
<indexterm><primary>error messages</primary></indexterm>
<indexterm><primary>error codes</primary></indexterm>
<para>The FtpErrno method attribute contains extended information when a
method return an error. It is a simple string value or a zero-length string
when the method is successful.
</para>
<para>These are the possible values for FtpErrno.</para>
<variablelist>
   <varlistentry>
      <term>FTPCOMMAND</term>
      <listitem><para>The internal FTP command
                      or the arguments to the method are in error.
      </para></listitem>
   </varlistentry>
   <varlistentry>
      <term>FTPHOST</term>
      <listitem><para>Unknown <emphasis role="italic">host</emphasis>
                      name or server not responding.
      </para></listitem>
   </varlistentry>
   <varlistentry>
      <term>FTPSOCKET</term>
      <listitem><para>RxSock function error.
      </para></listitem>
   </varlistentry>
   <varlistentry>
      <term>FTPCONNECT</term>
      <listitem><para>Server not responding or not available.
      </para></listitem>
   </varlistentry>
   <varlistentry>
      <term>FTPLOGIN</term>
       <listitem><para>Invalid login information was supplied.
      </para></listitem>
   </varlistentry>
</variablelist>
<para><emphasis role="bold">Example:</emphasis></para>
<para>The following will display the FtpErrno.</para>
<programlisting>
<![CDATA[
if myftpobj~ftperrno <> "" then say myftpobj~ftperrno
]]>
</programlisting>
</section>

<section id="response"><title>Response</title>
<indexterm><primary>Response</primary></indexterm>
<indexterm><primary>method</primary>
<secondary>Response</secondary></indexterm>
<indexterm><primary>server response</primary></indexterm>
<indexterm><primary>response, server</primary></indexterm>
<para>The Response method attribute is always in one of two states. If it is
set to .nil then the command did not generate a response. In all other cases
the Response is an Object Rexx array object with each array entry containing
a single line of the response.
</para>
<para>A typical value for Response would be the lines from the server directory
listing in response to invoking the FtpDir method.
</para>
<para><emphasis role="bold">Example:</emphasis></para>
<para>The following will display the Response array.</para>
<programlisting>
<![CDATA[
if myftpobj~response <> .nil then do i = 1 to myftpobj~response~items
   say myftpobj~response[i]
   end
]]>
</programlisting>
</section>
</chapter>
